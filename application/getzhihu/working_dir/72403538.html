<!doctype html>
<html lang="zh" data-hairline="true" data-theme="light"><head><meta charSet="utf-8"/><title data-react-helmet="true">【算法】Bayesian Optimization - 知乎</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"/><meta name="renderer" content="webkit"/><meta name="force-rendering" content="webkit"/><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/><meta name="google-site-verification" content="FTeR0c8arOPKh8c5DYh_9uu98_zJbaWw53J-Sch9MTg"/><meta data-react-helmet="true" name="keywords" content="算法,强化学习 (Reinforcement Learning)"/><meta data-react-helmet="true" name="description" content="Bayesian optimization，即贝叶斯优化。原文传送门Frazier, Peter I. &amp;#34;A tutorial on bayesian optimization.&amp;#34; arXiv preprint arXiv:1807.02811 (2018).Introduction to Bayesian Optimization (slides)…"/><meta data-react-helmet="true" property="og:title" content="【算法】Bayesian Optimization"/><meta data-react-helmet="true" property="og:url" content="https://zhuanlan.zhihu.com/p/72403538"/><meta data-react-helmet="true" property="og:description" content="Bayesian optimization，即贝叶斯优化。原文传送门Frazier, Peter I. &amp;#34;A tutorial on bayesian optimization.&amp;#34; arXiv preprint arXiv:1807.02811 (2018).Introduction to Bayesian Optimization (slides)…"/><meta data-react-helmet="true" property="og:image" content="https://pic3.zhimg.com/v2-3b4abdecf0be5e384c4443fcbdae5658_b.jpg"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:site_name" content="知乎专栏"/><link data-react-helmet="true" rel="apple-touch-icon" href="https://static.zhihu.com/heifetz/assets/apple-touch-icon-152.67c7b278.png"/><link data-react-helmet="true" rel="apple-touch-icon" href="https://static.zhihu.com/heifetz/assets/apple-touch-icon-152.67c7b278.png" sizes="152x152"/><link data-react-helmet="true" rel="apple-touch-icon" href="https://static.zhihu.com/heifetz/assets/apple-touch-icon-120.b3e6278d.png" sizes="120x120"/><link data-react-helmet="true" rel="apple-touch-icon" href="https://static.zhihu.com/heifetz/assets/apple-touch-icon-76.7a750095.png" sizes="76x76"/><link data-react-helmet="true" rel="apple-touch-icon" href="https://static.zhihu.com/heifetz/assets/apple-touch-icon-60.a4a761d4.png" sizes="60x60"/><link rel="shortcut icon" type="image/x-icon" href="https://static.zhihu.com/static/favicon.ico"/><link rel="search" type="application/opensearchdescription+xml" href="https://static.zhihu.com/static/search.xml" title="知乎"/><link rel="dns-prefetch" href="//static.zhimg.com"/><link rel="dns-prefetch" href="//pic1.zhimg.com"/><link rel="dns-prefetch" href="//pic2.zhimg.com"/><link rel="dns-prefetch" href="//pic3.zhimg.com"/><link rel="dns-prefetch" href="//pic4.zhimg.com"/><style>
.u-safeAreaInset-top {
  height: constant(safe-area-inset-top) !important;
  height: env(safe-area-inset-top) !important;
  
}
.u-safeAreaInset-bottom {
  height: constant(safe-area-inset-bottom) !important;
  height: env(safe-area-inset-bottom) !important;
  
}
</style><link href="https://static.zhihu.com/heifetz/column.app.a9ced452148fee3a55c8.css" rel="stylesheet"/><script defer="" crossorigin="anonymous" src="https://unpkg.zhimg.com/@cfe/sentry-script@latest/dist/init.js" data-sentry-config="{&quot;dsn&quot;:&quot;https://2d8d764432cc4f6fb3bc78ab9528299d@crash2.zhihu.com/1224&quot;,&quot;sampleRate&quot;:0.1,&quot;release&quot;:&quot;683-127b14ad&quot;,&quot;ignoreErrorNames&quot;:[&quot;NetworkError&quot;,&quot;SecurityError&quot;],&quot;ignoreErrors&quot;:[&quot;origin message&quot;,&quot;Network request failed&quot;,&quot;Loading chunk&quot;,&quot;这个系统不支持该功能。&quot;,&quot;Can&#x27;t find variable: webkit&quot;,&quot;Can&#x27;t find variable: $&quot;,&quot;内存不足&quot;,&quot;out of memory&quot;,&quot;DOM Exception 18&quot;,&quot;The operation is insecure&quot;,&quot;[object Event]&quot;,&quot;[object FileError]&quot;,&quot;[object DOMError]&quot;,&quot;[object Object]&quot;,&quot;拒绝访问。&quot;,&quot;Maximum call stack size exceeded&quot;,&quot;UploadError&quot;,&quot;无法 fetch&quot;,&quot;draft-js&quot;,&quot;缺少 JavaScript 对象&quot;,&quot;componentWillEnter&quot;,&quot;componentWillLeave&quot;,&quot;componentWillAppear&quot;,&quot;getInlineStyleAt&quot;,&quot;getCharacterList&quot;],&quot;whitelistUrls&quot;:[&quot;static.zhihu.com&quot;]}"></script></head><body class="WhiteBg-body"><div id="root"><div class="App"><div class="LoadingBar"></div><main role="main" class="App-main"><div class="Post-content" data-zop-usertoken="{&quot;userToken&quot;:&quot;&quot;}" data-zop="{&quot;authorName&quot;:&quot;张楚珩&quot;,&quot;itemId&quot;:72403538,&quot;title&quot;:&quot;【算法】Bayesian Optimization&quot;,&quot;type&quot;:&quot;article&quot;}"><div class="ColumnPageHeader-Wrapper"><div><div class="Sticky ColumnPageHeader"><div class="ColumnPageHeader-content"><a href="//www.zhihu.com" aria-label="知乎"><svg viewBox="0 0 200 91" fill="#0084FF" width="64" height="30"><path d="M53.29 80.035l7.32.002 2.41 8.24 13.128-8.24h15.477v-67.98H53.29v67.978zm7.79-60.598h22.756v53.22h-8.73l-8.718 5.473-1.587-5.46-3.72-.012v-53.22zM46.818 43.162h-16.35c.545-8.467.687-16.12.687-22.955h15.987s.615-7.05-2.68-6.97H16.807c1.09-4.1 2.46-8.332 4.1-12.708 0 0-7.523 0-10.085 6.74-1.06 2.78-4.128 13.48-9.592 24.41 1.84-.2 7.927-.37 11.512-6.94.66-1.84.785-2.08 1.605-4.54h9.02c0 3.28-.374 20.9-.526 22.95H6.51c-3.67 0-4.863 7.38-4.863 7.38H22.14C20.765 66.11 13.385 79.24 0 89.62c6.403 1.828 12.784-.29 15.937-3.094 0 0 7.182-6.53 11.12-21.64L43.92 85.18s2.473-8.402-.388-12.496c-2.37-2.788-8.768-10.33-11.496-13.064l-4.57 3.627c1.363-4.368 2.183-8.61 2.46-12.71H49.19s-.027-7.38-2.372-7.38zm128.752-.502c6.51-8.013 14.054-18.302 14.054-18.302s-5.827-4.625-8.556-1.27c-1.874 2.548-11.51 15.063-11.51 15.063l6.012 4.51zm-46.903-18.462c-2.814-2.577-8.096.667-8.096.667s12.35 17.2 12.85 17.953l6.08-4.29s-8.02-11.752-10.83-14.33zM199.99 46.5c-6.18 0-40.908.292-40.953.292v-31.56c1.503 0 3.882-.124 7.14-.376 12.773-.753 21.914-1.25 27.427-1.504 0 0 3.817-8.496-.185-10.45-.96-.37-7.24 1.43-7.24 1.43s-51.63 5.153-72.61 5.64c.5 2.756 2.38 5.336 4.93 6.11 4.16 1.087 7.09.53 15.36.277 7.76-.5 13.65-.76 17.66-.76v31.19h-41.71s.88 6.97 7.97 7.14h33.73v22.16c0 4.364-3.498 6.87-7.65 6.6-4.4.034-8.15-.36-13.027-.566.623 1.24 1.977 4.496 6.035 6.824 3.087 1.502 5.054 2.053 8.13 2.053 9.237 0 14.27-5.4 14.027-14.16V53.93h38.235c3.026 0 2.72-7.432 2.72-7.432z" fill-rule="evenodd"></path></svg></a><i class="ColumnPageHeader-Line"></i><div class="ColumnPageHeader-Title"><a class="ColumnLink ColumnPageHeader-Link" href="/reinforcementlearning"><img class="Avatar Avatar--round" width="30" height="30" src="https://pic2.zhimg.com/v2-5d1f04a84f6be8896c07a32a05e1d6d1_is.jpg" srcSet="https://pic2.zhimg.com/v2-5d1f04a84f6be8896c07a32a05e1d6d1_im.jpg 2x" alt="强化学习前沿"/></a><div class="ColumnPageHeader-TitleName"><span class="ColumnPageHeader-TitleMeta">首发于</span><a class="ColumnLink ColumnPageHeader-TitleColumn" href="/reinforcementlearning">强化学习前沿</a></div></div><div class="ColumnPageHeader-Button"><button type="button" class="Button ColumnPageHeader-WriteButton Button--blue"><svg class="Zi Zi--EditSurround" fill="currentColor" viewBox="0 0 24 24" width="24" height="24"><path d="M18.453 7.992l-1.833-1.65.964-.978a1.223 1.223 0 0 1 1.73-.012l.005.006a1.24 1.24 0 0 1 .007 1.748l-.873.886zm-1.178 1.194l-5.578 5.66-1.935.697a.393.393 0 0 1-.504-.504l.697-1.935 5.488-5.567 1.832 1.65zM7.58 5.848l5.654.006-1.539 1.991-3.666.012A1.02 1.02 0 0 0 7 8.868v7.993c0 .558.46 1.01 1.029 1.01l7.941-.01c.568 0 1.03-.453 1.03-1.012v-4.061l2-1.442v6.002c0 1.397-1.2 2.501-2.62 2.501H7.574C6.153 19.85 5 18.717 5 17.32V8.35c0-1.397 1.16-2.502 2.58-2.502z"></path></svg>写文章</button></div></div></div></div></div><img class="TitleImage" src="https://pic3.zhimg.com/v2-3b4abdecf0be5e384c4443fcbdae5658_1200x500.jpg" alt="【算法】Bayesian Optimization"/><article class="Post-Main Post-NormalMain" tabindex="-1"><header class="Post-Header"><h1 class="Post-Title">【算法】Bayesian Optimization</h1><div class="Post-Author"><div class="AuthorInfo" itemProp="author" itemscope="" itemType="http://schema.org/Person"><meta itemProp="name" content="张楚珩"/><meta itemProp="image" content="https://pic4.zhimg.com/v2-2b7c11f27a7fd03282819889435815aa_l.jpg"/><meta itemProp="url" content="https://www.zhihu.com/people/zhang-chu-heng"/><meta itemProp="zhihu:followerCount"/><span class="UserLink AuthorInfo-avatarWrapper"><div class="Popover"><div id="null-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="null-content"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="//www.zhihu.com/people/zhang-chu-heng"><img class="Avatar Avatar--round AuthorInfo-avatar" width="38" height="38" src="https://pic4.zhimg.com/v2-2b7c11f27a7fd03282819889435815aa_xs.jpg" srcSet="https://pic4.zhimg.com/v2-2b7c11f27a7fd03282819889435815aa_l.jpg 2x" alt="张楚珩"/></a></div></div></span><div class="AuthorInfo-content"><div class="AuthorInfo-head"><span class="UserLink AuthorInfo-name"><div class="Popover"><div id="null-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="null-content"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="//www.zhihu.com/people/zhang-chu-heng">张楚珩</a></div></div><style data-emotion-css="1cd9gw4">.css-1cd9gw4{margin-left:.3em;}</style><style data-emotion-css="1pc1mic">.css-1pc1mic{box-sizing:border-box;margin:0;min-width:0;color:#175199;display:inline-block;width:18px;height:18px;margin-left:.3em;}</style><a href="https://www.zhihu.com/question/48510028" target="_blank" class="css-1pc1mic" data-tooltip="已认证的个人" aria-label="已认证的个人"><style data-emotion-css="18biwo">.css-18biwo{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><span class="css-18biwo">​<svg viewBox="0 0 24 24" width="18" height="18"><svg viewBox="0 0 24 24" x="-3" y="-3" fill="#FFFFFF" width="30" height="30"><path d="M3.56231227,13.8535307 C2.40051305,12.768677 2.41398885,11.0669203 3.59484487,9.99979213 L3.59222085,9.99654885 C4.26730143,9.45036719 4.79446755,8.21005186 4.7184197,7.34453784 L4.72305873,7.34412719 C4.66942824,5.75539997 5.8824188,4.56066914 7.47188965,4.64242381 L7.47229112,4.6386236 C8.33515314,4.72977993 9.58467253,4.22534048 10.1426329,3.55925173 L10.1462611,3.56228565 C11.2316055,2.40008701 12.9353108,2.41394456 14.0015072,3.59634088 L14.0047263,3.59374004 C14.5498229,4.26841874 15.7896857,4.79521622 16.6545744,4.71844347 L16.6549836,4.72304294 C18.245027,4.66894057 19.4396947,5.88213996 19.3575031,7.47241135 L19.3623099,7.47292747 C19.2704388,8.3358681 19.7742711,9.58421483 20.4407199,10.1424506 L20.437686,10.1460789 C21.5997217,11.2312209 21.5860695,12.9345218 20.4042441,14.0007396 L20.4072865,14.0045125 C19.7325967,14.5495925 19.2055209,15.7896954 19.2815865,16.6561959 L19.2770449,16.6565978 C19.3315454,18.2453037 18.1173775,19.4393568 16.5274188,19.3571512 L16.5269029,19.3619539 C15.6647098,19.270083 14.415408,19.7741709 13.8573671,20.4403558 L13.8537409,20.4373235 C12.76842,21.5995708 11.0650432,21.5864553 9.99899434,20.4039226 L9.99527367,20.406923 C9.45025436,19.7323399 8.21017638,19.2051872 7.34461983,19.2812352 L7.344304,19.2776405 C5.75448683,19.3312904 4.55977145,18.1170085 4.64254978,16.527117 L4.63769921,16.5265942 C4.72957031,15.6644394 4.22547659,14.4151814 3.55928015,13.8571569 L3.56231227,13.8535307 Z"></path></svg><path d="M2.63951518,13.3895441 C3.70763333,14.2842292 4.44777637,16.1226061 4.30075305,17.5023312 L4.32211542,17.3063047 C4.17509209,18.6910561 5.17786655,19.7063729 6.5613937,19.5844846 L6.364106,19.6008202 C7.75140298,19.4789319 9.57474349,20.2554985 10.4468305,21.3349009 L10.3224262,21.1803415 C11.1982831,22.2647703 12.6257916,22.2723098 13.5167278,21.2079863 L13.3898102,21.3600325 C14.2845162,20.2919393 16.1229361,19.5518136 17.5026934,19.6988334 L17.3054057,19.6774716 C18.6914461,19.8244915 19.7067866,18.8217404 19.5836389,17.4395022 L19.6012314,17.6367853 C19.4793403,16.2482641 20.255925,14.4249662 21.3353526,13.5528995 L21.1807897,13.677301 C22.2639871,12.8014646 22.2727834,11.3739894 21.2084351,10.483074 L21.3604848,10.6099886 C20.2923667,9.71530351 19.5522236,7.87818322 19.6992469,6.49720154 L19.6778846,6.69448464 C19.8249079,5.30847665 18.8221335,4.2944164 17.4386063,4.41630468 L17.635894,4.39871256 C16.248597,4.52185742 14.4252565,3.74529084 13.5531695,2.66588842 L13.6775738,2.81919121 C12.8017169,1.73601905 11.3742084,1.72722299 10.4832722,2.79154644 L10.6101898,2.63950024 C9.71548377,3.70759343 7.87706394,4.44771919 6.49730661,4.30195588 L6.69459432,4.32206116 C5.30855394,4.17504128 4.29447,5.17904888 4.41636114,6.56128713 L4.3987686,6.36400404 C4.52065973,7.75126861 3.74407501,9.57456653 2.66464737,10.4478898 L2.81921035,10.3222318 C1.73601288,11.1993248 1.72721662,12.6255433 2.79156494,13.5164587 L2.63951518,13.3895441 Z" fill="#0084FF"></path><svg class="Zi Zi--Check" fill="#fff" x="6" y="6" viewBox="0 0 24 24" width="12" height="12"><path d="M10.229 17.516c-.318.327-.75.484-1.199.484-.453 0-.884-.16-1.202-.488l-4.335-4.47a1.77 1.77 0 0 1 .007-2.459 1.663 1.663 0 0 1 2.397.01l3.137 3.246 9.072-9.329a1.662 1.662 0 0 1 2.397 0c.663.681.663 1.786 0 2.466L10.23 17.516z" fill-rule="evenodd"></path></svg></svg></span></a></span></div><div class="AuthorInfo-detail"><div class="AuthorInfo-badge"><div class="AuthorInfo-badgeText">清华大学 交叉信息院博士在读</div></div></div></div></div></div><div><span class="Voters"><button type="button" class="Button Button--plain">296 人<!-- -->赞同了该文章</button></span></div></header><div class="Post-RichTextContainer"><div class="RichText ztext Post-RichText"><p>Bayesian optimization，即贝叶斯优化。</p><h2>原文传送门</h2><p><a href="https://link.zhihu.com/?target=https%3A//arxiv.org/pdf/1807.02811.pdf%2520%28https%3A//arxiv.org/pdf/1807.02811.pdf%29" class=" wrap external" target="_blank" rel="nofollow noreferrer">Frazier, Peter I. &#34;A tutorial on bayesian optimization.&#34; arXiv preprint arXiv:1807.02811 (2018).</a></p><p><a href="https://link.zhihu.com/?target=http%3A//gpss.cc/gpmc17/slides/LancasterMasterclass_1.pdf" class=" wrap external" target="_blank" rel="nofollow noreferrer">Introduction to Bayesian Optimization (slides)</a></p><h2>特色</h2><p>最近有做离子阱实验的同学涉及到一些实验参数的调参问题，其中主要需要用到贝叶斯优化。同时，我自己在想的一些问题也可能会用到贝叶斯优化。</p><h2>过程</h2><h3>1. 问题设定</h3><p>贝叶斯优化主要解决一个优化问题，即</p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-31d0685f361299a1b4216f3db258180d_b.png" data-caption="" data-size="normal" data-rawwidth="1778" data-rawheight="294" class="origin_image zh-lightbox-thumb" width="1778" data-original="https://pic2.zhimg.com/v2-31d0685f361299a1b4216f3db258180d_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1778&#39; height=&#39;294&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1778" data-rawheight="294" class="origin_image zh-lightbox-thumb lazy" width="1778" data-original="https://pic2.zhimg.com/v2-31d0685f361299a1b4216f3db258180d_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-31d0685f361299a1b4216f3db258180d_b.png"/></figure><p>该待优化函数 <img src="https://www.zhihu.com/equation?tex=f" alt="f" eeimg="1"/> 具有如下特点：</p><ul><li>Expensive to evaluate：每次给定一个 <img src="https://www.zhihu.com/equation?tex=x" alt="x" eeimg="1"/> 来获取 <img src="https://www.zhihu.com/equation?tex=f%28x%29" alt="f(x)" eeimg="1"/> 数值都有一定的成本，因此目标是尽可能少地去采样而找到一个好的解。</li><li>Black box：它不具有一些特殊的结构性质，比如 convexity、linearity 等，因此有一些能够针对这些结构特性来加速优化的方法不能被使用；</li><li>Derivative-free：无法获得它的导数，即不能使用一些基于导数来加速优化的方法；</li><li>(Maybe) noisy：对于函数 <img src="https://www.zhihu.com/equation?tex=f" alt="f" eeimg="1"/> 的一次采样得到的数值可能包含一个均值为零的噪声，因此即使在某一个点上也不能完全相信采样得到的数值；</li></ul><p>该设定有着广泛的应用。比如在离子阱的实验中，需要调节激光器的各种参数，从而形成一个由电磁波产生的“陷阱”从而“困住”离子，而实验的目标是需要让激光形成一个足够好的“陷阱”使得被困住的离子的温度（能量）能够足够低。该系统中 <img src="https://www.zhihu.com/equation?tex=x" alt="x" eeimg="1"/> 就是相应的激光器参数， <img src="https://www.zhihu.com/equation?tex=f%28x%29" alt="f(x)" eeimg="1"/> 就是相应参数下形成离子阱的温度。每组实验测试需要花费几十分钟的时间（expensive to evaluate），因此不能测试很多参数；该过程涉及到非常多的物理过程而几乎无法解析地求解，因此只能把它当做一个黑盒子来优化（black box）。</p><p>对于该类问题，有一些比较 naive 的解法，比如使用先验知识来确定参数（玄学）、使用 grid search（维度爆炸）、使用 random search（效率低）。因此，我们需要使用贝叶斯优化的方法来有效地优化这类问题。</p><h3>2. 贝叶斯优化的基本成分</h3><p>考虑如下一个例子，希望在 <img src="https://www.zhihu.com/equation?tex=%5B0%2C1%5D" alt="[0,1]" eeimg="1"/> 区间上找到使得函数 <img src="https://www.zhihu.com/equation?tex=f%28x%29" alt="f(x)" eeimg="1"/> 取最小值的位置，函数 <img src="https://www.zhihu.com/equation?tex=f%28x%29" alt="f(x)" eeimg="1"/> 是 L-Lipschitz 的，并且是可导的；而所有的信息只有四个位置上的 <img src="https://www.zhihu.com/equation?tex=f%28x%29" alt="f(x)" eeimg="1"/> 值，如下图所示。</p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-88a1435d812a2933bcdc08c261eb6a9c_b.jpg" data-caption="" data-size="normal" data-rawwidth="1760" data-rawheight="718" class="origin_image zh-lightbox-thumb" width="1760" data-original="https://pic1.zhimg.com/v2-88a1435d812a2933bcdc08c261eb6a9c_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1760&#39; height=&#39;718&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1760" data-rawheight="718" class="origin_image zh-lightbox-thumb lazy" width="1760" data-original="https://pic1.zhimg.com/v2-88a1435d812a2933bcdc08c261eb6a9c_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-88a1435d812a2933bcdc08c261eb6a9c_b.jpg"/></figure><p>最简单的想法，就是把对于所有满足约束条件的函数进行采样，然后分别找出这些函数的最小值位置，把最常出现位置作为预测的最小值位置。如下图所示。</p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-2507c12e386aa0955687e85c3784bbca_b.jpg" data-caption="" data-size="normal" data-rawwidth="1780" data-rawheight="980" class="origin_image zh-lightbox-thumb" width="1780" data-original="https://pic3.zhimg.com/v2-2507c12e386aa0955687e85c3784bbca_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1780&#39; height=&#39;980&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1780" data-rawheight="980" class="origin_image zh-lightbox-thumb lazy" width="1780" data-original="https://pic3.zhimg.com/v2-2507c12e386aa0955687e85c3784bbca_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-2507c12e386aa0955687e85c3784bbca_b.jpg"/></figure><p>贝叶斯优化主要包括如下部分</p><ul><li>Prior: 确定函数 <img src="https://www.zhihu.com/equation?tex=f%28x%29" alt="f(x)" eeimg="1"/> 的先验分布</li><li>Initial space-filling experimental design: 在函数的定义域上找一些尽可能分布均匀的初始点，并且得到它们相应的函数值；</li><li>Posterior：通过一些概率模型（statistical model）根据已有的数据点来确定函数 <img src="https://www.zhihu.com/equation?tex=f%28x%29" alt="f(x)" eeimg="1"/> 的后验分布；</li><li>Acquisition function：根据求得的后验分布来确定下一个（或者下一批）实验点。</li></ul><p>以上过程可以概括为如下算法框架。</p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-5c1b3bf6ba6df274517db99517d30d0d_b.jpg" data-caption="" data-size="normal" data-rawwidth="1544" data-rawheight="398" class="origin_image zh-lightbox-thumb" width="1544" data-original="https://pic2.zhimg.com/v2-5c1b3bf6ba6df274517db99517d30d0d_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1544&#39; height=&#39;398&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1544" data-rawheight="398" class="origin_image zh-lightbox-thumb lazy" width="1544" data-original="https://pic2.zhimg.com/v2-5c1b3bf6ba6df274517db99517d30d0d_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-5c1b3bf6ba6df274517db99517d30d0d_b.jpg"/></figure><p>下面就这几个部分来具体讲解。</p><h3>3. Statistical model</h3><p>概率模型最常用的还是高斯过程（Gaussian process），当然也有其他的模型，比如 random forest、t-student process。这里只讲高斯过程。</p><p>考虑 <img src="https://www.zhihu.com/equation?tex=k%3Dn%2B1" alt="k=n+1" eeimg="1"/> 个样本点，它们的先验分布为</p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-398852480883020f08809c35b0e38c6f_b.png" data-caption="" data-size="normal" data-rawwidth="1124" data-rawheight="46" class="origin_image zh-lightbox-thumb" width="1124" data-original="https://pic4.zhimg.com/v2-398852480883020f08809c35b0e38c6f_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1124&#39; height=&#39;46&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1124" data-rawheight="46" class="origin_image zh-lightbox-thumb lazy" width="1124" data-original="https://pic4.zhimg.com/v2-398852480883020f08809c35b0e38c6f_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-398852480883020f08809c35b0e38c6f_b.png"/></figure><p>假设已经知道了前 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 个样本点的函数值 <img src="https://www.zhihu.com/equation?tex=f%28x_%7B1%3An%7D%29" alt="f(x_{1:n})" eeimg="1"/> ，可以得到第 <img src="https://www.zhihu.com/equation?tex=n%2B1" alt="n+1" eeimg="1"/> 个点 <img src="https://www.zhihu.com/equation?tex=x%3Dx_%7Bn%2B1%7D" alt="x=x_{n+1}" eeimg="1"/> 的后验分布：</p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-d82c2d1d8a86926f75f4d1807fb4931c_b.png" data-caption="" data-size="normal" data-rawwidth="1115" data-rawheight="126" class="origin_image zh-lightbox-thumb" width="1115" data-original="https://pic1.zhimg.com/v2-d82c2d1d8a86926f75f4d1807fb4931c_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1115&#39; height=&#39;126&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1115" data-rawheight="126" class="origin_image zh-lightbox-thumb lazy" width="1115" data-original="https://pic1.zhimg.com/v2-d82c2d1d8a86926f75f4d1807fb4931c_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-d82c2d1d8a86926f75f4d1807fb4931c_b.png"/></figure><p>具体计算的过程可以参考 [1]。</p><p>一般来说，先验 mean function 取为常数就好，即， <img src="https://www.zhihu.com/equation?tex=%5Cmu_0%28x%29%3D%5Cmu" alt="\mu_0(x)=\mu" eeimg="1"/> 。先验 kernel function 一般需要满足空间上相近的点关联性更强，比较常用的比如 power exponential / Gaussian kernel：</p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-ccdad659662b1fe311b3ec1ee95ce0dd_b.png" data-caption="" data-size="normal" data-rawwidth="1119" data-rawheight="51" class="origin_image zh-lightbox-thumb" width="1119" data-original="https://pic2.zhimg.com/v2-ccdad659662b1fe311b3ec1ee95ce0dd_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1119&#39; height=&#39;51&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1119" data-rawheight="51" class="origin_image zh-lightbox-thumb lazy" width="1119" data-original="https://pic2.zhimg.com/v2-ccdad659662b1fe311b3ec1ee95ce0dd_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-ccdad659662b1fe311b3ec1ee95ce0dd_b.png"/></figure><p>或者 Matern kernel：</p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-5a644e705974b0c1a66efaa644ecba29_b.png" data-caption="" data-size="normal" data-rawwidth="1113" data-rawheight="67" class="origin_image zh-lightbox-thumb" width="1113" data-original="https://pic2.zhimg.com/v2-5a644e705974b0c1a66efaa644ecba29_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1113&#39; height=&#39;67&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1113" data-rawheight="67" class="origin_image zh-lightbox-thumb lazy" width="1113" data-original="https://pic2.zhimg.com/v2-5a644e705974b0c1a66efaa644ecba29_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-5a644e705974b0c1a66efaa644ecba29_b.png"/></figure><p>这里面的若干系数可以作为算法的超参数。</p><h3>4. Acquisition functions</h3><p>通过选定的 statistical model，可以得到任意一个点 <img src="https://www.zhihu.com/equation?tex=x" alt="x" eeimg="1"/> 的后验分布，记该分布为 <img src="https://www.zhihu.com/equation?tex=%5Cmathcal%7BN%7D%28%5Cmu%28x%3B%5Ctheta%2C+%5Cmathcal%7BD%7D%29%2C+%5Csigma%28x%3B%5Ctheta%2C+%5Cmathcal%7BD%7D%29%29" alt="\mathcal{N}(\mu(x;\theta, \mathcal{D}), \sigma(x;\theta, \mathcal{D}))" eeimg="1"/> ，其中 <img src="https://www.zhihu.com/equation?tex=%5Ctheta" alt="\theta" eeimg="1"/> 表示先验分布相关的超参数， <img src="https://www.zhihu.com/equation?tex=%5Cmathcal%7BD%7D" alt="\mathcal{D}" eeimg="1"/> 表示已有的样本数据。下面需要通过得到的后验分布来确定下一个试验点。下一个试验点可以通过 acquisition function 来得到，它是一个关于 <img src="https://www.zhihu.com/equation?tex=x" alt="x" eeimg="1"/> 的实值函数 <img src="https://www.zhihu.com/equation?tex=%5Calpha%28x%29" alt="\alpha(x)" eeimg="1"/> ，选择一个使得 <img src="https://www.zhihu.com/equation?tex=%5Calpha%28x%29" alt="\alpha(x)" eeimg="1"/> 取值最大的 <img src="https://www.zhihu.com/equation?tex=x" alt="x" eeimg="1"/> 作为下一个需要试验的点。</p><p><b><i>Expected Improvement（EI）</i></b></p><p>EI 是最为常用的 acquisition function 之一。考虑当我们最后需要从已有的采样点中选取一个点作为问题的解，考虑到每次采样是没有噪声的，因此截止 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 个样本时的最优解为 <img src="https://www.zhihu.com/equation?tex=y_%7Bbest%7D+%3D+%5Cmin_%7Bm%5Cle+n%7D+f%28x_m%29" alt="y_{best} = \min_{m\le n} f(x_m)" eeimg="1"/> 。如果还有一次机会来多做一次采样，如果这一次采样得到的数值 <img src="https://www.zhihu.com/equation?tex=y" alt="y" eeimg="1"/> 比 <img src="https://www.zhihu.com/equation?tex=y_%7Bbest%7D+" alt="y_{best} " eeimg="1"/> 还好，那么最终的结果就会由于这一次采样而有所改善。改善的数值可以记为 <img src="https://www.zhihu.com/equation?tex=%5Cmax%280%2C+y_%7Bbest%7D+-+y%29" alt="\max(0, y_{best} - y)" eeimg="1"/> 。</p><p>因此，选择下一个试验点，使得该改善的期望最大。据此写出相应的 acquisition function</p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-87a95908a89a82fba5ef1fe8e9d199aa_b.png" data-caption="" data-size="normal" data-rawwidth="1744" data-rawheight="172" class="origin_image zh-lightbox-thumb" width="1744" data-original="https://pic3.zhimg.com/v2-87a95908a89a82fba5ef1fe8e9d199aa_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1744&#39; height=&#39;172&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1744" data-rawheight="172" class="origin_image zh-lightbox-thumb lazy" width="1744" data-original="https://pic3.zhimg.com/v2-87a95908a89a82fba5ef1fe8e9d199aa_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-87a95908a89a82fba5ef1fe8e9d199aa_b.png"/></figure><p>结合高斯模型，可以化简该函数的表达式</p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-6b005b8657a26e435bbc9f5b019daaa2_b.jpg" data-caption="" data-size="normal" data-rawwidth="1698" data-rawheight="344" class="origin_image zh-lightbox-thumb" width="1698" data-original="https://pic3.zhimg.com/v2-6b005b8657a26e435bbc9f5b019daaa2_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1698&#39; height=&#39;344&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1698" data-rawheight="344" class="origin_image zh-lightbox-thumb lazy" width="1698" data-original="https://pic3.zhimg.com/v2-6b005b8657a26e435bbc9f5b019daaa2_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-6b005b8657a26e435bbc9f5b019daaa2_b.jpg"/></figure><p>其中 <img src="https://www.zhihu.com/equation?tex=%5CPhi%28%5Ccdot%29" alt="\Phi(\cdot)" eeimg="1"/> 为高斯分布的 CDF， <img src="https://www.zhihu.com/equation?tex=%5Cpsi" alt="\psi" eeimg="1"/> 是一个 explorative parameter，鼓励探索性地选择试验点。</p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-ee807faf1613c52a92a8ddf5c27483ab_b.jpg" data-caption="" data-size="normal" data-rawwidth="1744" data-rawheight="836" class="origin_image zh-lightbox-thumb" width="1744" data-original="https://pic4.zhimg.com/v2-ee807faf1613c52a92a8ddf5c27483ab_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1744&#39; height=&#39;836&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1744" data-rawheight="836" class="origin_image zh-lightbox-thumb lazy" width="1744" data-original="https://pic4.zhimg.com/v2-ee807faf1613c52a92a8ddf5c27483ab_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-ee807faf1613c52a92a8ddf5c27483ab_b.jpg"/></figure><p><b><i>Maximum probability of improvement（MPI）</i></b></p><p>这是最早被提出的一种 acquisition function。和前一种不同的是，它最大化的是下一个采样点能够产生非零 improvement 的概率，即</p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-f2197b8d764f68c68aa01bf791f41648_b.png" data-caption="" data-size="normal" data-rawwidth="1700" data-rawheight="186" class="origin_image zh-lightbox-thumb" width="1700" data-original="https://pic1.zhimg.com/v2-f2197b8d764f68c68aa01bf791f41648_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1700&#39; height=&#39;186&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1700" data-rawheight="186" class="origin_image zh-lightbox-thumb lazy" width="1700" data-original="https://pic1.zhimg.com/v2-f2197b8d764f68c68aa01bf791f41648_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-f2197b8d764f68c68aa01bf791f41648_b.png"/></figure><p>同样，可以加上一个常数 <img src="https://www.zhihu.com/equation?tex=%5Cpsi" alt="\psi" eeimg="1"/> 鼓励其探索。</p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-a3380898ca99b54b733dc01a4dfd448d_b.png" data-caption="" data-size="normal" data-rawwidth="1742" data-rawheight="280" class="origin_image zh-lightbox-thumb" width="1742" data-original="https://pic2.zhimg.com/v2-a3380898ca99b54b733dc01a4dfd448d_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1742&#39; height=&#39;280&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1742" data-rawheight="280" class="origin_image zh-lightbox-thumb lazy" width="1742" data-original="https://pic2.zhimg.com/v2-a3380898ca99b54b733dc01a4dfd448d_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-a3380898ca99b54b733dc01a4dfd448d_b.png"/></figure><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-79c1c9a650813871168af2d7c3b919a8_b.jpg" data-caption="" data-size="normal" data-rawwidth="1750" data-rawheight="796" class="origin_image zh-lightbox-thumb" width="1750" data-original="https://pic1.zhimg.com/v2-79c1c9a650813871168af2d7c3b919a8_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1750&#39; height=&#39;796&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1750" data-rawheight="796" class="origin_image zh-lightbox-thumb lazy" width="1750" data-original="https://pic1.zhimg.com/v2-79c1c9a650813871168af2d7c3b919a8_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-79c1c9a650813871168af2d7c3b919a8_b.jpg"/></figure><p><b><i>Lower confidence band（LCB）</i></b></p><p>其 acquisition function 如下</p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-63c2ccf12d0c13781fd7079e7b3a6e4d_b.png" data-caption="" data-size="normal" data-rawwidth="1728" data-rawheight="94" class="origin_image zh-lightbox-thumb" width="1728" data-original="https://pic2.zhimg.com/v2-63c2ccf12d0c13781fd7079e7b3a6e4d_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1728&#39; height=&#39;94&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1728" data-rawheight="94" class="origin_image zh-lightbox-thumb lazy" width="1728" data-original="https://pic2.zhimg.com/v2-63c2ccf12d0c13781fd7079e7b3a6e4d_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-63c2ccf12d0c13781fd7079e7b3a6e4d_b.png"/></figure><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-2f62bf03a51aeee4443c1034593e1327_b.jpg" data-caption="" data-size="normal" data-rawwidth="1738" data-rawheight="838" class="origin_image zh-lightbox-thumb" width="1738" data-original="https://pic4.zhimg.com/v2-2f62bf03a51aeee4443c1034593e1327_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1738&#39; height=&#39;838&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1738" data-rawheight="838" class="origin_image zh-lightbox-thumb lazy" width="1738" data-original="https://pic4.zhimg.com/v2-2f62bf03a51aeee4443c1034593e1327_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-2f62bf03a51aeee4443c1034593e1327_b.jpg"/></figure><p><b><i>Knowledge gradient（KG）</i></b></p><p>在 EI 中考虑在已有的样本点的值作为最后的解，这里考虑在估计的后验分布均值中找一个最优的值作为最后的解，即</p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-55d14bede417f0a5e059712378066584_b.png" data-caption="" data-size="normal" data-rawwidth="990" data-rawheight="32" class="origin_image zh-lightbox-thumb" width="990" data-original="https://pic1.zhimg.com/v2-55d14bede417f0a5e059712378066584_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;990&#39; height=&#39;32&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="990" data-rawheight="32" class="origin_image zh-lightbox-thumb lazy" width="990" data-original="https://pic1.zhimg.com/v2-55d14bede417f0a5e059712378066584_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-55d14bede417f0a5e059712378066584_b.png"/></figure><p>这样相应的 acquisition function 可以写为</p><p><img src="https://www.zhihu.com/equation?tex=%5Calpha_%7BKG%7D%28x%29+%3D+%5Cmathbb%7BE%7D%5B%5Cmu_n%5E%2A+-+%5Cmu_%7Bn%2B1%7D%5E%2A%7Cx_%7Bn%2B1%7D+%3D+x%2C+%5Cmathcal%7BD%7D%5D" alt="\alpha_{KG}(x) = \mathbb{E}[\mu_n^* - \mu_{n+1}^*|x_{n+1} = x, \mathcal{D}]" eeimg="1"/> </p><p>该函数的求解计算比较复杂，具体见第一篇文献。</p><p><b><i>Entropy search（ES）</i></b></p><p>其思想是希望找到一个样本点，使得得到改样本点的函数值之后，能够最大程度地更容易确定最优值的位置。即</p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-657510ae8cea539c90e1c49e46d2eccb_b.png" data-caption="" data-size="normal" data-rawwidth="1748" data-rawheight="120" class="origin_image zh-lightbox-thumb" width="1748" data-original="https://pic4.zhimg.com/v2-657510ae8cea539c90e1c49e46d2eccb_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1748&#39; height=&#39;120&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1748" data-rawheight="120" class="origin_image zh-lightbox-thumb lazy" width="1748" data-original="https://pic4.zhimg.com/v2-657510ae8cea539c90e1c49e46d2eccb_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-657510ae8cea539c90e1c49e46d2eccb_b.png"/></figure><p>其缺点是上述公式不能够直接计算，需要通过采样的方式来近似计算。</p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-a445afa03f86a109e401466ad1f4fb0c_b.jpg" data-caption="" data-size="normal" data-rawwidth="1720" data-rawheight="840" class="origin_image zh-lightbox-thumb" width="1720" data-original="https://pic1.zhimg.com/v2-a445afa03f86a109e401466ad1f4fb0c_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1720&#39; height=&#39;840&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1720" data-rawheight="840" class="origin_image zh-lightbox-thumb lazy" width="1720" data-original="https://pic1.zhimg.com/v2-a445afa03f86a109e401466ad1f4fb0c_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-a445afa03f86a109e401466ad1f4fb0c_b.jpg"/></figure><p><b><i>Predictive entropy search（PES）</i></b></p><p><img src="https://www.zhihu.com/equation?tex=%5Calpha_%7BPES%7D%28x%29+%3D+H%28p%28y%7C%5Ctheta%2C+%5Cmathcal%7BD%7D%29%29++-+%5Cmathbb%7BE%7D_%7Bx%5E%2A%7D%5BH%28p%28y%7C%5Ctheta%2C+%5Cmathcal%7BD%7D%2C+x%5E%2A%29%29%5D" alt="\alpha_{PES}(x) = H(p(y|\theta, \mathcal{D}))  - \mathbb{E}_{x^*}[H(p(y|\theta, \mathcal{D}, x^*))]" eeimg="1"/> </p><p>其第一项是一个高斯分布的 entropy，能直接算；第二项仍然需要采样来近似。</p><h3>5. Initial space-filling experimental design</h3><p>最开始需要选择一些样本点，作为算法的初始样本数据，这部分数据选择的目标是尽可能“均匀”地分布在感兴趣的区域内。</p><p>有如下一些方法</p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-a80ca72c1f888bf5182c3838d9e4e92e_b.jpg" data-caption="" data-size="normal" data-rawwidth="1746" data-rawheight="430" class="origin_image zh-lightbox-thumb" width="1746" data-original="https://pic3.zhimg.com/v2-a80ca72c1f888bf5182c3838d9e4e92e_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1746&#39; height=&#39;430&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1746" data-rawheight="430" class="origin_image zh-lightbox-thumb lazy" width="1746" data-original="https://pic3.zhimg.com/v2-a80ca72c1f888bf5182c3838d9e4e92e_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-a80ca72c1f888bf5182c3838d9e4e92e_b.jpg"/></figure><p>前两种方法比较 naive，没啥好解释的。</p><p><b><i>Latin design</i></b></p><p>主要是希望每一行（不同的样本）每一列（不同的维度）上的数值都尽可能散开。形象地来说就是下面这样</p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-9cef15af17f922ac05f6fb4d412bfaf3_b.jpg" data-caption="" data-size="normal" data-rawwidth="1682" data-rawheight="614" class="origin_image zh-lightbox-thumb" width="1682" data-original="https://pic4.zhimg.com/v2-9cef15af17f922ac05f6fb4d412bfaf3_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1682&#39; height=&#39;614&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1682" data-rawheight="614" class="origin_image zh-lightbox-thumb lazy" width="1682" data-original="https://pic4.zhimg.com/v2-9cef15af17f922ac05f6fb4d412bfaf3_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-9cef15af17f922ac05f6fb4d412bfaf3_b.jpg"/></figure><p>具体的实现可以参考 <a href="https://link.zhihu.com/?target=https%3A//pythonhosted.org/pyDOE/randomized.html%23latin-hypercube" class=" wrap external" target="_blank" rel="nofollow noreferrer">pyDOE: Randomized Designs</a>。</p><p><b><i>Halton sequences</i></b></p><p>通过下面的这种规律来生成样本点，使得生成的点更为均匀地分布在空间中。</p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-20dc524e3ca0935a7499027dfcc19a9b_b.jpg" data-caption="" data-size="normal" data-rawwidth="1658" data-rawheight="666" class="origin_image zh-lightbox-thumb" width="1658" data-original="https://pic4.zhimg.com/v2-20dc524e3ca0935a7499027dfcc19a9b_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1658&#39; height=&#39;666&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1658" data-rawheight="666" class="origin_image zh-lightbox-thumb lazy" width="1658" data-original="https://pic4.zhimg.com/v2-20dc524e3ca0935a7499027dfcc19a9b_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-20dc524e3ca0935a7499027dfcc19a9b_b.jpg"/></figure><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-7f87e8626dcc21d99fdcd8c8e6b95846_b.jpg" data-caption="" data-size="normal" data-rawwidth="1738" data-rawheight="844" class="origin_image zh-lightbox-thumb" width="1738" data-original="https://pic3.zhimg.com/v2-7f87e8626dcc21d99fdcd8c8e6b95846_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1738&#39; height=&#39;844&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1738" data-rawheight="844" class="origin_image zh-lightbox-thumb lazy" width="1738" data-original="https://pic3.zhimg.com/v2-7f87e8626dcc21d99fdcd8c8e6b95846_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-7f87e8626dcc21d99fdcd8c8e6b95846_b.jpg"/></figure><p><b><i>Determinantal point processes</i></b></p><p>没太看明白，只放一张示意图吧。</p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-8a4d656c6c14c65b7310e97fc1b4c98a_b.jpg" data-caption="" data-size="normal" data-rawwidth="1654" data-rawheight="506" class="origin_image zh-lightbox-thumb" width="1654" data-original="https://pic3.zhimg.com/v2-8a4d656c6c14c65b7310e97fc1b4c98a_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1654&#39; height=&#39;506&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1654" data-rawheight="506" class="origin_image zh-lightbox-thumb lazy" width="1654" data-original="https://pic3.zhimg.com/v2-8a4d656c6c14c65b7310e97fc1b4c98a_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-8a4d656c6c14c65b7310e97fc1b4c98a_b.jpg"/></figure><h3>6. 优化方法</h3><p>前面定义了各种 acquisition function <img src="https://www.zhihu.com/equation?tex=%5Calpha%28x%29" alt="\alpha(x)" eeimg="1"/> ，这些函数都能够通过各种方式计算或者近似（而不需要再对 <img src="https://www.zhihu.com/equation?tex=f" alt="f" eeimg="1"/> 进行采样）。但是我们的目标是找到一个 <img src="https://www.zhihu.com/equation?tex=x" alt="x" eeimg="1"/> 使得 <img src="https://www.zhihu.com/equation?tex=%5Calpha%28x%29" alt="\alpha(x)" eeimg="1"/> 最大，因此这中间还需要用到各种优化的方法来辅助我们找到下一个试验点。主要的方法总结如下。</p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-2323fd7de29e73e912b435e8a85bfba5_b.png" data-caption="" data-size="normal" data-rawwidth="1774" data-rawheight="274" class="origin_image zh-lightbox-thumb" width="1774" data-original="https://pic2.zhimg.com/v2-2323fd7de29e73e912b435e8a85bfba5_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1774&#39; height=&#39;274&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1774" data-rawheight="274" class="origin_image zh-lightbox-thumb lazy" width="1774" data-original="https://pic2.zhimg.com/v2-2323fd7de29e73e912b435e8a85bfba5_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-2323fd7de29e73e912b435e8a85bfba5_b.png"/></figure><p>需要注意的是有些 acquisition function 能够提供导数，而有些不可以。</p><h3>7. 贝叶斯优化的推广</h3><p>以下几方面的扩展也是目前贝叶斯优化研究比较多的方向：</p><ul><li>Noisy evaluation：主要考虑到每次采样得到的函数值可能带有一定的噪声，第一篇文献里面提到说 EI 没有考虑到该问题，但是可以做一个比较自然地拓展，即仍然考虑在已有的样本点上选取一个最优的值作为最后的解，但是考虑选取已有样本点上最优的后验均值函数值，即 <img src="https://www.zhihu.com/equation?tex=%5Cmu%5E%7B%2A%2A%7D_n+%3D+%5Cmax_%7Bm%3Cn%7D+%5Cmu_n%28x_m%29" alt="\mu^{**}_n = \max_{m&lt;n} \mu_n(x_m)" eeimg="1"/> 。</li><li>Parallel evaluation：前面考虑的是每次给出一个试验点，然后做实验得到该试验点是函数值；现在考虑每次给出一批试验点，然后得到这一批试验点的函数值。这样做的好处是，在实际中，可以并行地对多个试验点进行试验以提高效率。在此情况下，很容易对 EI 做一定的拓展，即</li></ul><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-eca539248a25f301c77a91be9c2aa89f_b.png" data-caption="" data-size="normal" data-rawwidth="1135" data-rawheight="75" class="origin_image zh-lightbox-thumb" width="1135" data-original="https://pic4.zhimg.com/v2-eca539248a25f301c77a91be9c2aa89f_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1135&#39; height=&#39;75&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1135" data-rawheight="75" class="origin_image zh-lightbox-thumb lazy" width="1135" data-original="https://pic4.zhimg.com/v2-eca539248a25f301c77a91be9c2aa89f_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-eca539248a25f301c77a91be9c2aa89f_b.png"/></figure><ul><li>Multi-fidelity and multi-information source evaluation：考虑到实际中可能对于函数 <img src="https://www.zhihu.com/equation?tex=f" alt="f" eeimg="1"/> 的估计会有一些替代的方案。比如在神经网络超参调节上，可以在整个验证集上进行 evaluate，这样得到的估计比较准确，但是代价会比较大；也可以在部分验证集上进行 evaluate，这样估计的方差可能比较大，但是速度会比较快。该设定在我同学的离子阱实验中也存在，比如可以通过 CCD 拍到的照片大致判断温度的好坏（比如照片上有没有形成类似晶格的结构），也可以通过进一步的实验来直接确定离子阱的温度，但这样实验就会更复杂。这一类拓展就是在研究这个问题，在给出下一个试验点的同时，也希望给出一个方案，告诉我们下一个试验点使用怎样的实验条件来测量。</li><li>Random environmental conditions and multi-task Bayesian optimization：有时候我们希望优化在各种实验条件下的平均性能，即 </li></ul><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-da267ee92d0def88ba0ad0a582d6df4c_b.png" data-caption="" data-size="normal" data-rawwidth="1110" data-rawheight="131" class="origin_image zh-lightbox-thumb" width="1110" data-original="https://pic1.zhimg.com/v2-da267ee92d0def88ba0ad0a582d6df4c_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1110&#39; height=&#39;131&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1110" data-rawheight="131" class="origin_image zh-lightbox-thumb lazy" width="1110" data-original="https://pic1.zhimg.com/v2-da267ee92d0def88ba0ad0a582d6df4c_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-da267ee92d0def88ba0ad0a582d6df4c_b.png"/></figure><p>注意到其中 <img src="https://www.zhihu.com/equation?tex=%5Comega" alt="\omega" eeimg="1"/> 为控制不同实验环境的参数。这种情况下，其实可以对于每个试验参数 <img src="https://www.zhihu.com/equation?tex=x" alt="x" eeimg="1"/> 都在不同的环境下测试，然后求和作为 <img src="https://www.zhihu.com/equation?tex=f%28x%29" alt="f(x)" eeimg="1"/> ，但是这样效率显然不够高。这种拓展条件下，会研究更有效率的方法。</p><hr/><p>[1] Bishop, Christopher M.<i>Pattern recognition and machine learning</i>. springer, 2006. Chapter 6.4 Gaussian Process</p></div></div><div class="ContentItem-time">发布于 2019-07-05</div><div class="Post-topicsAndReviewer"><div class="TopicList Post-Topics"><div class="Tag Topic"><span class="Tag-content"><a class="TopicLink" href="//www.zhihu.com/topic/19553510" target="_blank"><div class="Popover"><div id="null-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="null-content">算法</div></div></a></span></div><div class="Tag Topic"><span class="Tag-content"><a class="TopicLink" href="//www.zhihu.com/topic/20039099" target="_blank"><div class="Popover"><div id="null-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="null-content">强化学习 (Reinforcement Learning)</div></div></a></span></div></div></div><div><div class="Sticky RichContent-actions is-bottom"><div class="ContentItem-actions"><span><button aria-label="赞同 296 " type="button" class="Button VoteButton VoteButton--up"><span style="display:inline-flex;align-items:center">​<svg class="Zi Zi--TriangleUp VoteButton-TriangleUp" fill="currentColor" viewBox="0 0 24 24" width="10" height="10"><path d="M2 18.242c0-.326.088-.532.237-.896l7.98-13.203C10.572 3.57 11.086 3 12 3c.915 0 1.429.571 1.784 1.143l7.98 13.203c.15.364.236.57.236.896 0 1.386-.875 1.9-1.955 1.9H3.955c-1.08 0-1.955-.517-1.955-1.9z" fill-rule="evenodd"></path></svg></span>赞同 296</button><button aria-label="反对" type="button" class="Button VoteButton VoteButton--down"><span style="display:inline-flex;align-items:center">​<svg class="Zi Zi--TriangleDown" fill="currentColor" viewBox="0 0 24 24" width="10" height="10"><path d="M20.044 3H3.956C2.876 3 2 3.517 2 4.9c0 .326.087.533.236.896L10.216 19c.355.571.87 1.143 1.784 1.143s1.429-.572 1.784-1.143l7.98-13.204c.149-.363.236-.57.236-.896 0-1.386-.876-1.9-1.956-1.9z" fill-rule="evenodd"></path></svg></span></button></span><button type="button" class="Button BottomActions-CommentBtn Button--plain Button--withIcon Button--withLabel"><span style="display:inline-flex;align-items:center">​<svg class="Zi Zi--Comment Button-zi" fill="currentColor" viewBox="0 0 24 24" width="1.2em" height="1.2em"><path d="M10.241 19.313a.97.97 0 0 0-.77.2 7.908 7.908 0 0 1-3.772 1.482.409.409 0 0 1-.38-.637 5.825 5.825 0 0 0 1.11-2.237.605.605 0 0 0-.227-.59A7.935 7.935 0 0 1 3 11.25C3 6.7 7.03 3 12 3s9 3.7 9 8.25-4.373 9.108-10.759 8.063z" fill-rule="evenodd"></path></svg></span>11 条评论</button><div class="Popover ShareMenu"><div class="ShareMenu-toggler" id="null-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="null-content"><button type="button" class="Button Button--plain Button--withIcon Button--withLabel"><span style="display:inline-flex;align-items:center">​<svg class="Zi Zi--Share Button-zi" fill="currentColor" viewBox="0 0 24 24" width="1.2em" height="1.2em"><path d="M2.931 7.89c-1.067.24-1.275 1.669-.318 2.207l5.277 2.908 8.168-4.776c.25-.127.477.198.273.39L9.05 14.66l.927 5.953c.18 1.084 1.593 1.376 2.182.456l9.644-15.242c.584-.892-.212-2.029-1.234-1.796L2.93 7.89z" fill-rule="evenodd"></path></svg></span>分享</button></div></div><button type="button" class="Button ContentItem-action Button--plain Button--withIcon Button--withLabel"><span style="display:inline-flex;align-items:center">​<svg class="Zi Zi--Heart Button-zi" fill="currentColor" viewBox="0 0 24 24" width="1.2em" height="1.2em"><path d="M2 8.437C2 5.505 4.294 3.094 7.207 3 9.243 3 11.092 4.19 12 6c.823-1.758 2.649-3 4.651-3C19.545 3 22 5.507 22 8.432 22 16.24 13.842 21 12 21 10.158 21 2 16.24 2 8.437z" fill-rule="evenodd"></path></svg></span>喜欢</button><button type="button" class="Button ContentItem-action Button--plain Button--withIcon Button--withLabel"><span style="display:inline-flex;align-items:center">​<svg class="Zi Zi--Star Button-zi" fill="currentColor" viewBox="0 0 24 24" width="1.2em" height="1.2em"><path d="M5.515 19.64l.918-5.355-3.89-3.792c-.926-.902-.639-1.784.64-1.97L8.56 7.74l2.404-4.871c.572-1.16 1.5-1.16 2.072 0L15.44 7.74l5.377.782c1.28.186 1.566 1.068.64 1.97l-3.89 3.793.918 5.354c.219 1.274-.532 1.82-1.676 1.218L12 18.33l-4.808 2.528c-1.145.602-1.896.056-1.677-1.218z" fill-rule="evenodd"></path></svg></span>收藏</button><div class="Post-ActionMenuButton"><div class="Popover"><div id="null-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="null-content"><button type="button" class="Button Button--plain Button--withIcon Button--iconOnly"><span style="display:inline-flex;align-items:center">​<svg class="Zi Zi--Dots Button-zi" fill="currentColor" viewBox="0 0 24 24" width="1.2em" height="1.2em"><path d="M5 14a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm7 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm7 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4z" fill-rule="evenodd"></path></svg></span></button></div></div></div></div></div></div></article><div class="Post-Sub Post-NormalSub"><div class="PostIndex-Contributions"><h3 class="BlockTitle">文章被以下专栏收录</h3><ul><div class="ContentItem Column-ColumnItem"><div class="ContentItem-main"><div class="ContentItem-image"><a class="ColumnLink" href="/reinforcementlearning"><div class="Popover"><div id="null-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="null-content"><img class="Avatar Avatar--medium Avatar--round" width="40" height="40" src="https://pic2.zhimg.com/v2-5d1f04a84f6be8896c07a32a05e1d6d1_xs.jpg" srcSet="https://pic2.zhimg.com/v2-5d1f04a84f6be8896c07a32a05e1d6d1_l.jpg 2x" alt="强化学习前沿"/></div></div></a></div><div class="ContentItem-head"><h2 class="ContentItem-title"><a class="ColumnLink ColumnItem-Title" href="/reinforcementlearning"><div class="Popover"><div id="null-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="null-content">强化学习前沿</div></div></a></h2><div class="ContentItem-meta">读呀读paper</div></div><div class="ContentItem-extra"><a href="/reinforcementlearning" type="button" class="Button">进入专栏</a></div></div></div></ul></div></div></div></main></div></div><script nonce="eed0f0f0-a107-4fe1-8665-ff86df15863c" async="" src="https://www.googletagmanager.com/gtag/js?id=UA-149949619-1"></script><script nonce="eed0f0f0-a107-4fe1-8665-ff86df15863c">function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-149949619-1");</script><script id="js-clientConfig" type="text/json">{"host":"zhihu.com","protocol":"https:","wwwHost":"www.zhihu.com","fetchRoot":{"www":"https:\u002F\u002Fwww.zhihu.com","api":"https:\u002F\u002Fapi.zhihu.com","zhuanlan":"https:\u002F\u002Fzhuanlan.zhihu.com"}}</script><script id="js-initialData" type="text/json">{"initialState":{"common":{"ask":{}},"loading":{"global":{"count":0},"local":{"env\u002FgetIpinfo\u002F":false,"article\u002Fget\u002F":false,"brand\u002FgetUrl\u002F":false}},"club":{"tags":{}},"entities":{"users":{"zhang-chu-heng":{"isFollowed":false,"avatarUrlTemplate":"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-2b7c11f27a7fd03282819889435815aa_{size}.jpg","uid":"35077274730496","userType":"people","isFollowing":false,"urlToken":"zhang-chu-heng","id":"db39e3e0528520071b0a6e5f6240cfea","description":"","name":"张楚珩","isAdvertiser":false,"headline":"强化学习 量化投资","gender":1,"url":"\u002Fpeople\u002Fdb39e3e0528520071b0a6e5f6240cfea","avatarUrl":"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-2b7c11f27a7fd03282819889435815aa_l.jpg","isOrg":false,"type":"people","badge":[{"type":"identity","topics":[],"description":"清华大学 交叉信息院博士在读"}],"exposedMedal":{"medalId":"1124316222665379841","medalName":"我的知乎 2019","avatarUrl":"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-2592b0b52e1fac99f69b38e00252413b_r.png","miniAvatarUrl":"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-ad363cc3088dc8de7544fd08b1c4987a_is.png","description":"参与「我的知乎 2019」即可获得"}}},"questions":{},"answers":{},"articles":{"72403538":{"trackUrl":["https:\u002F\u002Fsugar.zhihu.com\u002Fplutus_adreaper\u002Fpage_monitor_log?si=__SESSIONID__&ti=__ATOKEN__&at=view&pf=__OS__&ed=__MEMBERID__&idfa=__IDFA__&imei=__IMEI__&androidid=__ANDROIDID__&oaid=__OAID__&ci=__CREATIVEID__"],"id":72403538,"title":"【算法】Bayesian Optimization","type":"article","excerptTitle":"","url":"https:\u002F\u002Fzhuanlan.zhihu.com\u002Fp\u002F72403538","imageUrl":"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-3b4abdecf0be5e384c4443fcbdae5658_b.jpg","titleImage":"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-3b4abdecf0be5e384c4443fcbdae5658_b.jpg","excerpt":"\u003Cimg src=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-31d0685f361299a1b4216f3db258180d_200x112.png\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1778\" data-rawheight=\"294\" data-watermark=\"\" data-original-src=\"\" data-watermark-src=\"\" data-private-watermark-src=\"\" class=\"origin_image inline-img zh-lightbox-thumb\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-31d0685f361299a1b4216f3db258180d_r.png\"\u002F\u003EBayesian optimization，即贝叶斯优化。原文传送门\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Farxiv.org\u002Fpdf\u002F1807.02811.pdf%2520%28https%3A\u002F\u002Farxiv.org\u002Fpdf\u002F1807.02811.pdf%29\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003EFrazier, Peter I. &#34;A tutorial on bayesian optimization.&#34; arXiv preprint arXiv:1807.02811 (2018).\u003C\u002Fa\u003E\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=http%3A\u002F\u002Fgpss.cc\u002Fgpmc17\u002Fslides\u002FLancasterMasterclass_1.pdf\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003EIntroduction to Bayesian Optimization (slides)\u003C\u002Fa\u003E特色最近有做离子阱实验的同学涉及到一些实验参数的…","created":1562340936,"updated":1562340936,"author":{"isFollowed":false,"avatarUrlTemplate":"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-2b7c11f27a7fd03282819889435815aa_{size}.jpg","uid":"35077274730496","userType":"people","isFollowing":false,"urlToken":"zhang-chu-heng","id":"db39e3e0528520071b0a6e5f6240cfea","description":"","name":"张楚珩","isAdvertiser":false,"headline":"强化学习 量化投资","gender":1,"url":"\u002Fpeople\u002Fdb39e3e0528520071b0a6e5f6240cfea","avatarUrl":"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-2b7c11f27a7fd03282819889435815aa_l.jpg","isOrg":false,"type":"people","badge":[{"type":"identity","topics":[],"description":"清华大学 交叉信息院博士在读"}],"exposedMedal":{"medalId":"1124316222665379841","medalName":"我的知乎 2019","avatarUrl":"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-2592b0b52e1fac99f69b38e00252413b_r.png","miniAvatarUrl":"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-ad363cc3088dc8de7544fd08b1c4987a_is.png","description":"参与「我的知乎 2019」即可获得"}},"commentPermission":"all","state":"published","imageWidth":1161,"imageHeight":346,"content":"\u003Cp\u003EBayesian optimization，即贝叶斯优化。\u003C\u002Fp\u003E\u003Ch2\u003E原文传送门\u003C\u002Fh2\u003E\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Farxiv.org\u002Fpdf\u002F1807.02811.pdf%2520%28https%3A\u002F\u002Farxiv.org\u002Fpdf\u002F1807.02811.pdf%29\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003EFrazier, Peter I. &#34;A tutorial on bayesian optimization.&#34; arXiv preprint arXiv:1807.02811 (2018).\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=http%3A\u002F\u002Fgpss.cc\u002Fgpmc17\u002Fslides\u002FLancasterMasterclass_1.pdf\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003EIntroduction to Bayesian Optimization (slides)\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003Ch2\u003E特色\u003C\u002Fh2\u003E\u003Cp\u003E最近有做离子阱实验的同学涉及到一些实验参数的调参问题，其中主要需要用到贝叶斯优化。同时，我自己在想的一些问题也可能会用到贝叶斯优化。\u003C\u002Fp\u003E\u003Ch2\u003E过程\u003C\u002Fh2\u003E\u003Ch3\u003E1. 问题设定\u003C\u002Fh3\u003E\u003Cp\u003E贝叶斯优化主要解决一个优化问题，即\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-31d0685f361299a1b4216f3db258180d_b.png\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1778\" data-rawheight=\"294\" class=\"origin_image zh-lightbox-thumb\" width=\"1778\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-31d0685f361299a1b4216f3db258180d_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1778&#39; height=&#39;294&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1778\" data-rawheight=\"294\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1778\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-31d0685f361299a1b4216f3db258180d_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-31d0685f361299a1b4216f3db258180d_b.png\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E该待优化函数 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=f\" alt=\"f\" eeimg=\"1\"\u002F\u003E 具有如下特点：\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003EExpensive to evaluate：每次给定一个 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=x\" alt=\"x\" eeimg=\"1\"\u002F\u003E 来获取 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=f%28x%29\" alt=\"f(x)\" eeimg=\"1\"\u002F\u003E 数值都有一定的成本，因此目标是尽可能少地去采样而找到一个好的解。\u003C\u002Fli\u003E\u003Cli\u003EBlack box：它不具有一些特殊的结构性质，比如 convexity、linearity 等，因此有一些能够针对这些结构特性来加速优化的方法不能被使用；\u003C\u002Fli\u003E\u003Cli\u003EDerivative-free：无法获得它的导数，即不能使用一些基于导数来加速优化的方法；\u003C\u002Fli\u003E\u003Cli\u003E(Maybe) noisy：对于函数 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=f\" alt=\"f\" eeimg=\"1\"\u002F\u003E 的一次采样得到的数值可能包含一个均值为零的噪声，因此即使在某一个点上也不能完全相信采样得到的数值；\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003E该设定有着广泛的应用。比如在离子阱的实验中，需要调节激光器的各种参数，从而形成一个由电磁波产生的“陷阱”从而“困住”离子，而实验的目标是需要让激光形成一个足够好的“陷阱”使得被困住的离子的温度（能量）能够足够低。该系统中 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=x\" alt=\"x\" eeimg=\"1\"\u002F\u003E 就是相应的激光器参数， \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=f%28x%29\" alt=\"f(x)\" eeimg=\"1\"\u002F\u003E 就是相应参数下形成离子阱的温度。每组实验测试需要花费几十分钟的时间（expensive to evaluate），因此不能测试很多参数；该过程涉及到非常多的物理过程而几乎无法解析地求解，因此只能把它当做一个黑盒子来优化（black box）。\u003C\u002Fp\u003E\u003Cp\u003E对于该类问题，有一些比较 naive 的解法，比如使用先验知识来确定参数（玄学）、使用 grid search（维度爆炸）、使用 random search（效率低）。因此，我们需要使用贝叶斯优化的方法来有效地优化这类问题。\u003C\u002Fp\u003E\u003Ch3\u003E2. 贝叶斯优化的基本成分\u003C\u002Fh3\u003E\u003Cp\u003E考虑如下一个例子，希望在 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=%5B0%2C1%5D\" alt=\"[0,1]\" eeimg=\"1\"\u002F\u003E 区间上找到使得函数 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=f%28x%29\" alt=\"f(x)\" eeimg=\"1\"\u002F\u003E 取最小值的位置，函数 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=f%28x%29\" alt=\"f(x)\" eeimg=\"1\"\u002F\u003E 是 L-Lipschitz 的，并且是可导的；而所有的信息只有四个位置上的 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=f%28x%29\" alt=\"f(x)\" eeimg=\"1\"\u002F\u003E 值，如下图所示。\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-88a1435d812a2933bcdc08c261eb6a9c_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1760\" data-rawheight=\"718\" class=\"origin_image zh-lightbox-thumb\" width=\"1760\" data-original=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-88a1435d812a2933bcdc08c261eb6a9c_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1760&#39; height=&#39;718&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1760\" data-rawheight=\"718\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1760\" data-original=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-88a1435d812a2933bcdc08c261eb6a9c_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-88a1435d812a2933bcdc08c261eb6a9c_b.jpg\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E最简单的想法，就是把对于所有满足约束条件的函数进行采样，然后分别找出这些函数的最小值位置，把最常出现位置作为预测的最小值位置。如下图所示。\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-2507c12e386aa0955687e85c3784bbca_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1780\" data-rawheight=\"980\" class=\"origin_image zh-lightbox-thumb\" width=\"1780\" data-original=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-2507c12e386aa0955687e85c3784bbca_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1780&#39; height=&#39;980&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1780\" data-rawheight=\"980\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1780\" data-original=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-2507c12e386aa0955687e85c3784bbca_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-2507c12e386aa0955687e85c3784bbca_b.jpg\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E贝叶斯优化主要包括如下部分\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003EPrior: 确定函数 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=f%28x%29\" alt=\"f(x)\" eeimg=\"1\"\u002F\u003E 的先验分布\u003C\u002Fli\u003E\u003Cli\u003EInitial space-filling experimental design: 在函数的定义域上找一些尽可能分布均匀的初始点，并且得到它们相应的函数值；\u003C\u002Fli\u003E\u003Cli\u003EPosterior：通过一些概率模型（statistical model）根据已有的数据点来确定函数 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=f%28x%29\" alt=\"f(x)\" eeimg=\"1\"\u002F\u003E 的后验分布；\u003C\u002Fli\u003E\u003Cli\u003EAcquisition function：根据求得的后验分布来确定下一个（或者下一批）实验点。\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003E以上过程可以概括为如下算法框架。\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-5c1b3bf6ba6df274517db99517d30d0d_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1544\" data-rawheight=\"398\" class=\"origin_image zh-lightbox-thumb\" width=\"1544\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-5c1b3bf6ba6df274517db99517d30d0d_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1544&#39; height=&#39;398&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1544\" data-rawheight=\"398\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1544\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-5c1b3bf6ba6df274517db99517d30d0d_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-5c1b3bf6ba6df274517db99517d30d0d_b.jpg\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E下面就这几个部分来具体讲解。\u003C\u002Fp\u003E\u003Ch3\u003E3. Statistical model\u003C\u002Fh3\u003E\u003Cp\u003E概率模型最常用的还是高斯过程（Gaussian process），当然也有其他的模型，比如 random forest、t-student process。这里只讲高斯过程。\u003C\u002Fp\u003E\u003Cp\u003E考虑 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=k%3Dn%2B1\" alt=\"k=n+1\" eeimg=\"1\"\u002F\u003E 个样本点，它们的先验分布为\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-398852480883020f08809c35b0e38c6f_b.png\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1124\" data-rawheight=\"46\" class=\"origin_image zh-lightbox-thumb\" width=\"1124\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-398852480883020f08809c35b0e38c6f_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1124&#39; height=&#39;46&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1124\" data-rawheight=\"46\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1124\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-398852480883020f08809c35b0e38c6f_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-398852480883020f08809c35b0e38c6f_b.png\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E假设已经知道了前 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=n\" alt=\"n\" eeimg=\"1\"\u002F\u003E 个样本点的函数值 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=f%28x_%7B1%3An%7D%29\" alt=\"f(x_{1:n})\" eeimg=\"1\"\u002F\u003E ，可以得到第 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=n%2B1\" alt=\"n+1\" eeimg=\"1\"\u002F\u003E 个点 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=x%3Dx_%7Bn%2B1%7D\" alt=\"x=x_{n+1}\" eeimg=\"1\"\u002F\u003E 的后验分布：\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-d82c2d1d8a86926f75f4d1807fb4931c_b.png\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1115\" data-rawheight=\"126\" class=\"origin_image zh-lightbox-thumb\" width=\"1115\" data-original=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-d82c2d1d8a86926f75f4d1807fb4931c_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1115&#39; height=&#39;126&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1115\" data-rawheight=\"126\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1115\" data-original=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-d82c2d1d8a86926f75f4d1807fb4931c_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-d82c2d1d8a86926f75f4d1807fb4931c_b.png\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E具体计算的过程可以参考 [1]。\u003C\u002Fp\u003E\u003Cp\u003E一般来说，先验 mean function 取为常数就好，即， \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=%5Cmu_0%28x%29%3D%5Cmu\" alt=\"\\mu_0(x)=\\mu\" eeimg=\"1\"\u002F\u003E 。先验 kernel function 一般需要满足空间上相近的点关联性更强，比较常用的比如 power exponential \u002F Gaussian kernel：\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-ccdad659662b1fe311b3ec1ee95ce0dd_b.png\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1119\" data-rawheight=\"51\" class=\"origin_image zh-lightbox-thumb\" width=\"1119\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-ccdad659662b1fe311b3ec1ee95ce0dd_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1119&#39; height=&#39;51&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1119\" data-rawheight=\"51\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1119\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-ccdad659662b1fe311b3ec1ee95ce0dd_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-ccdad659662b1fe311b3ec1ee95ce0dd_b.png\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E或者 Matern kernel：\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-5a644e705974b0c1a66efaa644ecba29_b.png\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1113\" data-rawheight=\"67\" class=\"origin_image zh-lightbox-thumb\" width=\"1113\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-5a644e705974b0c1a66efaa644ecba29_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1113&#39; height=&#39;67&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1113\" data-rawheight=\"67\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1113\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-5a644e705974b0c1a66efaa644ecba29_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-5a644e705974b0c1a66efaa644ecba29_b.png\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E这里面的若干系数可以作为算法的超参数。\u003C\u002Fp\u003E\u003Ch3\u003E4. Acquisition functions\u003C\u002Fh3\u003E\u003Cp\u003E通过选定的 statistical model，可以得到任意一个点 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=x\" alt=\"x\" eeimg=\"1\"\u002F\u003E 的后验分布，记该分布为 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=%5Cmathcal%7BN%7D%28%5Cmu%28x%3B%5Ctheta%2C+%5Cmathcal%7BD%7D%29%2C+%5Csigma%28x%3B%5Ctheta%2C+%5Cmathcal%7BD%7D%29%29\" alt=\"\\mathcal{N}(\\mu(x;\\theta, \\mathcal{D}), \\sigma(x;\\theta, \\mathcal{D}))\" eeimg=\"1\"\u002F\u003E ，其中 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=%5Ctheta\" alt=\"\\theta\" eeimg=\"1\"\u002F\u003E 表示先验分布相关的超参数， \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=%5Cmathcal%7BD%7D\" alt=\"\\mathcal{D}\" eeimg=\"1\"\u002F\u003E 表示已有的样本数据。下面需要通过得到的后验分布来确定下一个试验点。下一个试验点可以通过 acquisition function 来得到，它是一个关于 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=x\" alt=\"x\" eeimg=\"1\"\u002F\u003E 的实值函数 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=%5Calpha%28x%29\" alt=\"\\alpha(x)\" eeimg=\"1\"\u002F\u003E ，选择一个使得 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=%5Calpha%28x%29\" alt=\"\\alpha(x)\" eeimg=\"1\"\u002F\u003E 取值最大的 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=x\" alt=\"x\" eeimg=\"1\"\u002F\u003E 作为下一个需要试验的点。\u003C\u002Fp\u003E\u003Cp\u003E\u003Cb\u003E\u003Ci\u003EExpected Improvement（EI）\u003C\u002Fi\u003E\u003C\u002Fb\u003E\u003C\u002Fp\u003E\u003Cp\u003EEI 是最为常用的 acquisition function 之一。考虑当我们最后需要从已有的采样点中选取一个点作为问题的解，考虑到每次采样是没有噪声的，因此截止 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=n\" alt=\"n\" eeimg=\"1\"\u002F\u003E 个样本时的最优解为 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=y_%7Bbest%7D+%3D+%5Cmin_%7Bm%5Cle+n%7D+f%28x_m%29\" alt=\"y_{best} = \\min_{m\\le n} f(x_m)\" eeimg=\"1\"\u002F\u003E 。如果还有一次机会来多做一次采样，如果这一次采样得到的数值 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=y\" alt=\"y\" eeimg=\"1\"\u002F\u003E 比 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=y_%7Bbest%7D+\" alt=\"y_{best} \" eeimg=\"1\"\u002F\u003E 还好，那么最终的结果就会由于这一次采样而有所改善。改善的数值可以记为 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=%5Cmax%280%2C+y_%7Bbest%7D+-+y%29\" alt=\"\\max(0, y_{best} - y)\" eeimg=\"1\"\u002F\u003E 。\u003C\u002Fp\u003E\u003Cp\u003E因此，选择下一个试验点，使得该改善的期望最大。据此写出相应的 acquisition function\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-87a95908a89a82fba5ef1fe8e9d199aa_b.png\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1744\" data-rawheight=\"172\" class=\"origin_image zh-lightbox-thumb\" width=\"1744\" data-original=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-87a95908a89a82fba5ef1fe8e9d199aa_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1744&#39; height=&#39;172&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1744\" data-rawheight=\"172\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1744\" data-original=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-87a95908a89a82fba5ef1fe8e9d199aa_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-87a95908a89a82fba5ef1fe8e9d199aa_b.png\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E结合高斯模型，可以化简该函数的表达式\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-6b005b8657a26e435bbc9f5b019daaa2_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1698\" data-rawheight=\"344\" class=\"origin_image zh-lightbox-thumb\" width=\"1698\" data-original=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-6b005b8657a26e435bbc9f5b019daaa2_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1698&#39; height=&#39;344&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1698\" data-rawheight=\"344\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1698\" data-original=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-6b005b8657a26e435bbc9f5b019daaa2_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-6b005b8657a26e435bbc9f5b019daaa2_b.jpg\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E其中 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=%5CPhi%28%5Ccdot%29\" alt=\"\\Phi(\\cdot)\" eeimg=\"1\"\u002F\u003E 为高斯分布的 CDF， \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=%5Cpsi\" alt=\"\\psi\" eeimg=\"1\"\u002F\u003E 是一个 explorative parameter，鼓励探索性地选择试验点。\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-ee807faf1613c52a92a8ddf5c27483ab_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1744\" data-rawheight=\"836\" class=\"origin_image zh-lightbox-thumb\" width=\"1744\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-ee807faf1613c52a92a8ddf5c27483ab_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1744&#39; height=&#39;836&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1744\" data-rawheight=\"836\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1744\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-ee807faf1613c52a92a8ddf5c27483ab_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-ee807faf1613c52a92a8ddf5c27483ab_b.jpg\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E\u003Cb\u003E\u003Ci\u003EMaximum probability of improvement（MPI）\u003C\u002Fi\u003E\u003C\u002Fb\u003E\u003C\u002Fp\u003E\u003Cp\u003E这是最早被提出的一种 acquisition function。和前一种不同的是，它最大化的是下一个采样点能够产生非零 improvement 的概率，即\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-f2197b8d764f68c68aa01bf791f41648_b.png\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1700\" data-rawheight=\"186\" class=\"origin_image zh-lightbox-thumb\" width=\"1700\" data-original=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-f2197b8d764f68c68aa01bf791f41648_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1700&#39; height=&#39;186&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1700\" data-rawheight=\"186\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1700\" data-original=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-f2197b8d764f68c68aa01bf791f41648_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-f2197b8d764f68c68aa01bf791f41648_b.png\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E同样，可以加上一个常数 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=%5Cpsi\" alt=\"\\psi\" eeimg=\"1\"\u002F\u003E 鼓励其探索。\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-a3380898ca99b54b733dc01a4dfd448d_b.png\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1742\" data-rawheight=\"280\" class=\"origin_image zh-lightbox-thumb\" width=\"1742\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-a3380898ca99b54b733dc01a4dfd448d_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1742&#39; height=&#39;280&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1742\" data-rawheight=\"280\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1742\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-a3380898ca99b54b733dc01a4dfd448d_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-a3380898ca99b54b733dc01a4dfd448d_b.png\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-79c1c9a650813871168af2d7c3b919a8_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1750\" data-rawheight=\"796\" class=\"origin_image zh-lightbox-thumb\" width=\"1750\" data-original=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-79c1c9a650813871168af2d7c3b919a8_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1750&#39; height=&#39;796&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1750\" data-rawheight=\"796\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1750\" data-original=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-79c1c9a650813871168af2d7c3b919a8_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-79c1c9a650813871168af2d7c3b919a8_b.jpg\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E\u003Cb\u003E\u003Ci\u003ELower confidence band（LCB）\u003C\u002Fi\u003E\u003C\u002Fb\u003E\u003C\u002Fp\u003E\u003Cp\u003E其 acquisition function 如下\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-63c2ccf12d0c13781fd7079e7b3a6e4d_b.png\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1728\" data-rawheight=\"94\" class=\"origin_image zh-lightbox-thumb\" width=\"1728\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-63c2ccf12d0c13781fd7079e7b3a6e4d_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1728&#39; height=&#39;94&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1728\" data-rawheight=\"94\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1728\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-63c2ccf12d0c13781fd7079e7b3a6e4d_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-63c2ccf12d0c13781fd7079e7b3a6e4d_b.png\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-2f62bf03a51aeee4443c1034593e1327_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1738\" data-rawheight=\"838\" class=\"origin_image zh-lightbox-thumb\" width=\"1738\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-2f62bf03a51aeee4443c1034593e1327_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1738&#39; height=&#39;838&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1738\" data-rawheight=\"838\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1738\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-2f62bf03a51aeee4443c1034593e1327_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-2f62bf03a51aeee4443c1034593e1327_b.jpg\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E\u003Cb\u003E\u003Ci\u003EKnowledge gradient（KG）\u003C\u002Fi\u003E\u003C\u002Fb\u003E\u003C\u002Fp\u003E\u003Cp\u003E在 EI 中考虑在已有的样本点的值作为最后的解，这里考虑在估计的后验分布均值中找一个最优的值作为最后的解，即\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-55d14bede417f0a5e059712378066584_b.png\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"990\" data-rawheight=\"32\" class=\"origin_image zh-lightbox-thumb\" width=\"990\" data-original=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-55d14bede417f0a5e059712378066584_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;990&#39; height=&#39;32&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"990\" data-rawheight=\"32\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"990\" data-original=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-55d14bede417f0a5e059712378066584_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-55d14bede417f0a5e059712378066584_b.png\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E这样相应的 acquisition function 可以写为\u003C\u002Fp\u003E\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=%5Calpha_%7BKG%7D%28x%29+%3D+%5Cmathbb%7BE%7D%5B%5Cmu_n%5E%2A+-+%5Cmu_%7Bn%2B1%7D%5E%2A%7Cx_%7Bn%2B1%7D+%3D+x%2C+%5Cmathcal%7BD%7D%5D\" alt=\"\\alpha_{KG}(x) = \\mathbb{E}[\\mu_n^* - \\mu_{n+1}^*|x_{n+1} = x, \\mathcal{D}]\" eeimg=\"1\"\u002F\u003E \u003C\u002Fp\u003E\u003Cp\u003E该函数的求解计算比较复杂，具体见第一篇文献。\u003C\u002Fp\u003E\u003Cp\u003E\u003Cb\u003E\u003Ci\u003EEntropy search（ES）\u003C\u002Fi\u003E\u003C\u002Fb\u003E\u003C\u002Fp\u003E\u003Cp\u003E其思想是希望找到一个样本点，使得得到改样本点的函数值之后，能够最大程度地更容易确定最优值的位置。即\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-657510ae8cea539c90e1c49e46d2eccb_b.png\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1748\" data-rawheight=\"120\" class=\"origin_image zh-lightbox-thumb\" width=\"1748\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-657510ae8cea539c90e1c49e46d2eccb_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1748&#39; height=&#39;120&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1748\" data-rawheight=\"120\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1748\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-657510ae8cea539c90e1c49e46d2eccb_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-657510ae8cea539c90e1c49e46d2eccb_b.png\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E其缺点是上述公式不能够直接计算，需要通过采样的方式来近似计算。\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-a445afa03f86a109e401466ad1f4fb0c_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1720\" data-rawheight=\"840\" class=\"origin_image zh-lightbox-thumb\" width=\"1720\" data-original=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-a445afa03f86a109e401466ad1f4fb0c_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1720&#39; height=&#39;840&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1720\" data-rawheight=\"840\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1720\" data-original=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-a445afa03f86a109e401466ad1f4fb0c_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-a445afa03f86a109e401466ad1f4fb0c_b.jpg\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E\u003Cb\u003E\u003Ci\u003EPredictive entropy search（PES）\u003C\u002Fi\u003E\u003C\u002Fb\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=%5Calpha_%7BPES%7D%28x%29+%3D+H%28p%28y%7C%5Ctheta%2C+%5Cmathcal%7BD%7D%29%29++-+%5Cmathbb%7BE%7D_%7Bx%5E%2A%7D%5BH%28p%28y%7C%5Ctheta%2C+%5Cmathcal%7BD%7D%2C+x%5E%2A%29%29%5D\" alt=\"\\alpha_{PES}(x) = H(p(y|\\theta, \\mathcal{D}))  - \\mathbb{E}_{x^*}[H(p(y|\\theta, \\mathcal{D}, x^*))]\" eeimg=\"1\"\u002F\u003E \u003C\u002Fp\u003E\u003Cp\u003E其第一项是一个高斯分布的 entropy，能直接算；第二项仍然需要采样来近似。\u003C\u002Fp\u003E\u003Ch3\u003E5. Initial space-filling experimental design\u003C\u002Fh3\u003E\u003Cp\u003E最开始需要选择一些样本点，作为算法的初始样本数据，这部分数据选择的目标是尽可能“均匀”地分布在感兴趣的区域内。\u003C\u002Fp\u003E\u003Cp\u003E有如下一些方法\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-a80ca72c1f888bf5182c3838d9e4e92e_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1746\" data-rawheight=\"430\" class=\"origin_image zh-lightbox-thumb\" width=\"1746\" data-original=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-a80ca72c1f888bf5182c3838d9e4e92e_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1746&#39; height=&#39;430&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1746\" data-rawheight=\"430\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1746\" data-original=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-a80ca72c1f888bf5182c3838d9e4e92e_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-a80ca72c1f888bf5182c3838d9e4e92e_b.jpg\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E前两种方法比较 naive，没啥好解释的。\u003C\u002Fp\u003E\u003Cp\u003E\u003Cb\u003E\u003Ci\u003ELatin design\u003C\u002Fi\u003E\u003C\u002Fb\u003E\u003C\u002Fp\u003E\u003Cp\u003E主要是希望每一行（不同的样本）每一列（不同的维度）上的数值都尽可能散开。形象地来说就是下面这样\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-9cef15af17f922ac05f6fb4d412bfaf3_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1682\" data-rawheight=\"614\" class=\"origin_image zh-lightbox-thumb\" width=\"1682\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-9cef15af17f922ac05f6fb4d412bfaf3_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1682&#39; height=&#39;614&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1682\" data-rawheight=\"614\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1682\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-9cef15af17f922ac05f6fb4d412bfaf3_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-9cef15af17f922ac05f6fb4d412bfaf3_b.jpg\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E具体的实现可以参考 \u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fpythonhosted.org\u002FpyDOE\u002Frandomized.html%23latin-hypercube\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003EpyDOE: Randomized Designs\u003C\u002Fa\u003E。\u003C\u002Fp\u003E\u003Cp\u003E\u003Cb\u003E\u003Ci\u003EHalton sequences\u003C\u002Fi\u003E\u003C\u002Fb\u003E\u003C\u002Fp\u003E\u003Cp\u003E通过下面的这种规律来生成样本点，使得生成的点更为均匀地分布在空间中。\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-20dc524e3ca0935a7499027dfcc19a9b_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1658\" data-rawheight=\"666\" class=\"origin_image zh-lightbox-thumb\" width=\"1658\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-20dc524e3ca0935a7499027dfcc19a9b_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1658&#39; height=&#39;666&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1658\" data-rawheight=\"666\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1658\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-20dc524e3ca0935a7499027dfcc19a9b_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-20dc524e3ca0935a7499027dfcc19a9b_b.jpg\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-7f87e8626dcc21d99fdcd8c8e6b95846_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1738\" data-rawheight=\"844\" class=\"origin_image zh-lightbox-thumb\" width=\"1738\" data-original=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-7f87e8626dcc21d99fdcd8c8e6b95846_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1738&#39; height=&#39;844&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1738\" data-rawheight=\"844\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1738\" data-original=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-7f87e8626dcc21d99fdcd8c8e6b95846_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-7f87e8626dcc21d99fdcd8c8e6b95846_b.jpg\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E\u003Cb\u003E\u003Ci\u003EDeterminantal point processes\u003C\u002Fi\u003E\u003C\u002Fb\u003E\u003C\u002Fp\u003E\u003Cp\u003E没太看明白，只放一张示意图吧。\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-8a4d656c6c14c65b7310e97fc1b4c98a_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1654\" data-rawheight=\"506\" class=\"origin_image zh-lightbox-thumb\" width=\"1654\" data-original=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-8a4d656c6c14c65b7310e97fc1b4c98a_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1654&#39; height=&#39;506&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1654\" data-rawheight=\"506\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1654\" data-original=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-8a4d656c6c14c65b7310e97fc1b4c98a_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-8a4d656c6c14c65b7310e97fc1b4c98a_b.jpg\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Ch3\u003E6. 优化方法\u003C\u002Fh3\u003E\u003Cp\u003E前面定义了各种 acquisition function \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=%5Calpha%28x%29\" alt=\"\\alpha(x)\" eeimg=\"1\"\u002F\u003E ，这些函数都能够通过各种方式计算或者近似（而不需要再对 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=f\" alt=\"f\" eeimg=\"1\"\u002F\u003E 进行采样）。但是我们的目标是找到一个 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=x\" alt=\"x\" eeimg=\"1\"\u002F\u003E 使得 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=%5Calpha%28x%29\" alt=\"\\alpha(x)\" eeimg=\"1\"\u002F\u003E 最大，因此这中间还需要用到各种优化的方法来辅助我们找到下一个试验点。主要的方法总结如下。\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-2323fd7de29e73e912b435e8a85bfba5_b.png\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1774\" data-rawheight=\"274\" class=\"origin_image zh-lightbox-thumb\" width=\"1774\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-2323fd7de29e73e912b435e8a85bfba5_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1774&#39; height=&#39;274&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1774\" data-rawheight=\"274\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1774\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-2323fd7de29e73e912b435e8a85bfba5_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-2323fd7de29e73e912b435e8a85bfba5_b.png\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E需要注意的是有些 acquisition function 能够提供导数，而有些不可以。\u003C\u002Fp\u003E\u003Ch3\u003E7. 贝叶斯优化的推广\u003C\u002Fh3\u003E\u003Cp\u003E以下几方面的扩展也是目前贝叶斯优化研究比较多的方向：\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003ENoisy evaluation：主要考虑到每次采样得到的函数值可能带有一定的噪声，第一篇文献里面提到说 EI 没有考虑到该问题，但是可以做一个比较自然地拓展，即仍然考虑在已有的样本点上选取一个最优的值作为最后的解，但是考虑选取已有样本点上最优的后验均值函数值，即 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=%5Cmu%5E%7B%2A%2A%7D_n+%3D+%5Cmax_%7Bm%3Cn%7D+%5Cmu_n%28x_m%29\" alt=\"\\mu^{**}_n = \\max_{m&lt;n} \\mu_n(x_m)\" eeimg=\"1\"\u002F\u003E 。\u003C\u002Fli\u003E\u003Cli\u003EParallel evaluation：前面考虑的是每次给出一个试验点，然后做实验得到该试验点是函数值；现在考虑每次给出一批试验点，然后得到这一批试验点的函数值。这样做的好处是，在实际中，可以并行地对多个试验点进行试验以提高效率。在此情况下，很容易对 EI 做一定的拓展，即\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-eca539248a25f301c77a91be9c2aa89f_b.png\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1135\" data-rawheight=\"75\" class=\"origin_image zh-lightbox-thumb\" width=\"1135\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-eca539248a25f301c77a91be9c2aa89f_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1135&#39; height=&#39;75&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1135\" data-rawheight=\"75\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1135\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-eca539248a25f301c77a91be9c2aa89f_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-eca539248a25f301c77a91be9c2aa89f_b.png\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cul\u003E\u003Cli\u003EMulti-fidelity and multi-information source evaluation：考虑到实际中可能对于函数 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=f\" alt=\"f\" eeimg=\"1\"\u002F\u003E 的估计会有一些替代的方案。比如在神经网络超参调节上，可以在整个验证集上进行 evaluate，这样得到的估计比较准确，但是代价会比较大；也可以在部分验证集上进行 evaluate，这样估计的方差可能比较大，但是速度会比较快。该设定在我同学的离子阱实验中也存在，比如可以通过 CCD 拍到的照片大致判断温度的好坏（比如照片上有没有形成类似晶格的结构），也可以通过进一步的实验来直接确定离子阱的温度，但这样实验就会更复杂。这一类拓展就是在研究这个问题，在给出下一个试验点的同时，也希望给出一个方案，告诉我们下一个试验点使用怎样的实验条件来测量。\u003C\u002Fli\u003E\u003Cli\u003ERandom environmental conditions and multi-task Bayesian optimization：有时候我们希望优化在各种实验条件下的平均性能，即 \u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-da267ee92d0def88ba0ad0a582d6df4c_b.png\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1110\" data-rawheight=\"131\" class=\"origin_image zh-lightbox-thumb\" width=\"1110\" data-original=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-da267ee92d0def88ba0ad0a582d6df4c_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1110&#39; height=&#39;131&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1110\" data-rawheight=\"131\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1110\" data-original=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-da267ee92d0def88ba0ad0a582d6df4c_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-da267ee92d0def88ba0ad0a582d6df4c_b.png\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E注意到其中 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=%5Comega\" alt=\"\\omega\" eeimg=\"1\"\u002F\u003E 为控制不同实验环境的参数。这种情况下，其实可以对于每个试验参数 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=x\" alt=\"x\" eeimg=\"1\"\u002F\u003E 都在不同的环境下测试，然后求和作为 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=f%28x%29\" alt=\"f(x)\" eeimg=\"1\"\u002F\u003E ，但是这样效率显然不够高。这种拓展条件下，会研究更有效率的方法。\u003C\u002Fp\u003E\u003Chr\u002F\u003E\u003Cp\u003E[1] Bishop, Christopher M.\u003Ci\u003EPattern recognition and machine learning\u003C\u002Fi\u003E. springer, 2006. Chapter 6.4 Gaussian Process\u003C\u002Fp\u003E","adminClosedComment":false,"topics":[{"url":"https:\u002F\u002Fwww.zhihu.com\u002Fapi\u002Fv4\u002Ftopics\u002F19553510","type":"topic","id":"19553510","name":"算法"},{"url":"https:\u002F\u002Fwww.zhihu.com\u002Fapi\u002Fv4\u002Ftopics\u002F20039099","type":"topic","id":"20039099","name":"强化学习 (Reinforcement Learning)"}],"voteupCount":296,"voting":0,"column":{"description":"读呀读paper","canManage":false,"intro":"我们的目标是通用人工智能！","isFollowing":false,"urlToken":"reinforcementlearning","id":"reinforcementlearning","articlesCount":137,"acceptSubmission":true,"title":"强化学习前沿","url":"https:\u002F\u002Fzhuanlan.zhihu.com\u002Freinforcementlearning","commentPermission":"all","created":1537150763,"updated":1541142463,"imageUrl":"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-5d1f04a84f6be8896c07a32a05e1d6d1_b.jpg","author":{"isFollowed":false,"avatarUrlTemplate":"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-2b7c11f27a7fd03282819889435815aa_{size}.jpg","uid":"35077274730496","userType":"people","isFollowing":false,"urlToken":"zhang-chu-heng","id":"db39e3e0528520071b0a6e5f6240cfea","description":"","name":"张楚珩","isAdvertiser":false,"headline":"强化学习 量化投资","gender":1,"url":"\u002Fpeople\u002Fdb39e3e0528520071b0a6e5f6240cfea","avatarUrl":"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-2b7c11f27a7fd03282819889435815aa_l.jpg","isOrg":false,"type":"people"},"followers":4344,"type":"column"},"commentCount":11,"contributions":[{"id":21216816,"state":"accepted","type":"first_publish","column":{"description":"读呀读paper","canManage":false,"intro":"我们的目标是通用人工智能！","isFollowing":false,"urlToken":"reinforcementlearning","id":"reinforcementlearning","articlesCount":137,"acceptSubmission":true,"title":"强化学习前沿","url":"https:\u002F\u002Fzhuanlan.zhihu.com\u002Freinforcementlearning","commentPermission":"all","created":1537150763,"updated":1541142463,"imageUrl":"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-5d1f04a84f6be8896c07a32a05e1d6d1_b.jpg","author":{"isFollowed":false,"avatarUrlTemplate":"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-2b7c11f27a7fd03282819889435815aa_{size}.jpg","uid":"35077274730496","userType":"people","isFollowing":false,"urlToken":"zhang-chu-heng","id":"db39e3e0528520071b0a6e5f6240cfea","description":"","name":"张楚珩","isAdvertiser":false,"headline":"强化学习 量化投资","gender":1,"url":"\u002Fpeople\u002Fdb39e3e0528520071b0a6e5f6240cfea","avatarUrl":"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-2b7c11f27a7fd03282819889435815aa_l.jpg","isOrg":false,"type":"people"},"followers":4344,"type":"column"}}],"isTitleImageFullScreen":false,"upvotedFollowees":[],"commercialInfo":{"isCommercial":false,"plugin":{}},"suggestEdit":{"status":false,"reason":"","tip":"","url":"","title":""},"reason":"","annotationAction":[],"canTip":false,"tipjarorsCount":0,"isLabeled":false,"hasPublishingDraft":false,"isFavorited":false,"isNormal":true,"status":0,"shareText":"【算法】Bayesian Optimization - 来自知乎专栏「强化学习前沿」，作者: 张楚珩 https:\u002F\u002Fzhuanlan.zhihu.com\u002Fp\u002F72403538 （想看更多？下载 @知乎 App：http:\u002F\u002Fweibo.com\u002Fp\u002F100404711598 ）","canComment":{"status":true,"reason":""},"mcnFpShow":-1,"isVisible":true,"isLiked":false,"likedCount":0,"visibleOnlyToAuthor":false}},"columns":{"reinforcementlearning":{"description":"读呀读paper","canManage":false,"intro":"我们的目标是通用人工智能！","isFollowing":false,"urlToken":"reinforcementlearning","id":"reinforcementlearning","articlesCount":137,"acceptSubmission":true,"title":"强化学习前沿","url":"https:\u002F\u002Fzhuanlan.zhihu.com\u002Freinforcementlearning","commentPermission":"all","created":1537150763,"updated":1541142463,"imageUrl":"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-5d1f04a84f6be8896c07a32a05e1d6d1_b.jpg","author":{"isFollowed":false,"avatarUrlTemplate":"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-2b7c11f27a7fd03282819889435815aa_{size}.jpg","uid":"35077274730496","userType":"people","isFollowing":false,"urlToken":"zhang-chu-heng","id":"db39e3e0528520071b0a6e5f6240cfea","description":"","name":"张楚珩","isAdvertiser":false,"headline":"强化学习 量化投资","gender":1,"url":"\u002Fpeople\u002Fdb39e3e0528520071b0a6e5f6240cfea","avatarUrl":"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-2b7c11f27a7fd03282819889435815aa_l.jpg","isOrg":false,"type":"people"},"followers":4344,"type":"column"}},"topics":{},"roundtables":{},"favlists":{},"comments":{},"notifications":{},"ebooks":{},"activities":{},"feeds":{},"pins":{},"promotions":{},"drafts":{},"chats":{},"posts":{},"clubs":{},"clubTags":{}},"currentUser":"","account":{"lockLevel":{},"unlockTicketStatus":false,"unlockTicket":null,"challenge":[],"errorStatus":false,"message":"","isFetching":false,"accountInfo":{},"urlToken":{"loading":false}},"settings":{"socialBind":null,"inboxMsg":null,"notification":{},"email":{},"privacyFlag":null,"blockedUsers":{"isFetching":false,"paging":{"pageNo":1,"pageSize":6},"data":[]},"blockedFollowees":{"isFetching":false,"paging":{"pageNo":1,"pageSize":6},"data":[]},"ignoredTopics":{"isFetching":false,"paging":{"pageNo":1,"pageSize":6},"data":[]},"restrictedTopics":null,"laboratory":{}},"notification":{},"people":{"profileStatus":{},"activitiesByUser":{},"answersByUser":{},"answersSortByVotesByUser":{},"answersIncludedByUser":{},"votedAnswersByUser":{},"thankedAnswersByUser":{},"voteAnswersByUser":{},"thankAnswersByUser":{},"topicAnswersByUser":{},"zvideosByUser":{},"articlesByUser":{},"articlesSortByVotesByUser":{},"articlesIncludedByUser":{},"pinsByUser":{},"questionsByUser":{},"commercialQuestionsByUser":{},"favlistsByUser":{},"followingByUser":{},"followersByUser":{},"mutualsByUser":{},"followingColumnsByUser":{},"followingQuestionsByUser":{},"followingFavlistsByUser":{},"followingTopicsByUser":{},"publicationsByUser":{},"columnsByUser":{},"allFavlistsByUser":{},"brands":null,"creationsByUser":{},"creationsSortByVotesByUser":{},"creationsFeed":{}},"env":{"ab":{"config":{"experiments":[{"expId":"launch-gw_mweb_rec-1","expPrefix":"gw_mweb_rec","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-qa_hdpimg-2","expPrefix":"qa_hdpimg","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-us_foltopic_user-10","expPrefix":"us_foltopic_user","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-vd_bullet_second-2","expPrefix":"vd_bullet_second","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-vd_zvideo_link-10","expPrefix":"vd_zvideo_link","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false}],"params":[{"id":"soc_iospinweight","type":"String","value":"0","chainId":"_all_"},{"id":"soc_zuichangfangwen","type":"String","value":"0","chainId":"_all_"},{"id":"ug_follow_topic_1","type":"String","value":"2","chainId":"_all_"},{"id":"se_topiclabel","type":"String","value":"1","chainId":"_all_"},{"id":"se_billboardsearch","type":"String","value":"0","chainId":"_all_"},{"id":"tp_m_intro_re_topic","type":"String","value":"1","chainId":"_all_"},{"id":"li_answers_link","type":"String","value":"0","chainId":"_all_"},{"id":"soc_ri_merge","type":"String","value":"0","chainId":"_all_"},{"id":"ug_follow_answerer","type":"String","value":"0","chainId":"_all_"},{"id":"ug_newtag","type":"String","value":"0","chainId":"_all_"},{"id":"se_dnn_mt_v2","type":"String","value":"0","chainId":"_all_"},{"id":"zr_training_first","type":"String","value":"false","chainId":"_all_"},{"id":"zr_slot_training","type":"String","value":"1","chainId":"_all_"},{"id":"se_cardrank_4","type":"String","value":"1","chainId":"_all_"},{"id":"li_hot_voted","type":"String","value":"0","chainId":"_all_"},{"id":"li_yxzl_new_style_a","type":"String","value":"1","chainId":"_all_"},{"id":"se_agency","type":"String","value":" 0","chainId":"_all_"},{"id":"se_use_zitem","type":"String","value":"0","chainId":"_all_"},{"id":"pf_noti_entry_num","type":"String","value":"0","chainId":"_all_"},{"id":"li_svip_cardshow","type":"String","value":"1","chainId":"_all_"},{"id":"gue_zvideo_link","type":"String","value":"1"},{"id":"tp_club_feed","type":"String","value":"1","chainId":"_all_"},{"id":"se_club_post","type":"String","value":"5","chainId":"_all_"},{"id":"se_featured","type":"String","value":"1","chainId":"_all_"},{"id":"tp_qa_metacard","type":"String","value":"1","chainId":"_all_"},{"id":"se_click_club","type":"String","value":"1","chainId":"_all_"},{"id":"se_amovietab","type":"String","value":"1","chainId":"_all_"},{"id":"tp_club_tab","type":"String","value":"0","chainId":"_all_"},{"id":"soc_iosintimacy","type":"String","value":"2","chainId":"_all_"},{"id":"ls_recommend_test","type":"String","value":"0","chainId":"_all_"},{"id":"zr_video_rank","type":"String","value":"new_rank","chainId":"_all_"},{"id":"se_webmajorob","type":"String","value":"0","chainId":"_all_"},{"id":"se_p_slideshow","type":"String","value":"0","chainId":"_all_"},{"id":"tp_club_pic","type":"String","value":"0.6","chainId":"_all_"},{"id":"tp_topic_tab","type":"String","value":"0","chainId":"_all_"},{"id":"tp_header_style","type":"String","value":"1","chainId":"_all_"},{"id":"soc_leave_recommend","type":"String","value":"2","chainId":"_all_"},{"id":"pf_fuceng","type":"String","value":"1","chainId":"_all_"},{"id":"qap_question_visitor","type":"String","value":" 0","chainId":"_all_"},{"id":"ug_follow_answerer_0","type":"String","value":"0","chainId":"_all_"},{"id":"se_expired_ob","type":"String","value":"0","chainId":"_all_"},{"id":"se_ltr_video","type":"String","value":"0","chainId":"_all_"},{"id":"soc_yxzl_zcfw","type":"String","value":"0","chainId":"_all_"},{"id":"web_answer_list_ad","type":"String","value":"1"},{"id":"soc_special","type":"String","value":"0","chainId":"_all_"},{"id":"se_subtext","type":"String","value":"0","chainId":"_all_"},{"id":"tp_club_header","type":"String","value":"1","chainId":"_all_"},{"id":"tp_qa_metacard_top","type":"String","value":"top","chainId":"_all_"},{"id":"tp_topic_tab_new","type":"String","value":"0-0-0","chainId":"_all_"},{"id":"li_ebok_chap","type":"String","value":"0","chainId":"_all_"},{"id":"se_zu_recommend","type":"String","value":"0","chainId":"_all_"},{"id":"tp_club_qa_pic","type":"String","value":"1","chainId":"_all_"},{"id":"se_webtimebox","type":"String","value":"0","chainId":"_all_"},{"id":"ug_fw_answ_aut_1","type":"String","value":"0","chainId":"_all_"},{"id":"tp_club_pk","type":"String","value":"1","chainId":"_all_"},{"id":"tp_club_android_feed","type":"String","value":"old","chainId":"_all_"},{"id":"soc_update","type":"String","value":"1","chainId":"_all_"},{"id":"se_search_feed","type":"String","value":"N","chainId":"_all_"},{"id":"li_se_edu","type":"String","value":"1","chainId":"_all_"},{"id":"li_se_heat","type":"String","value":"1","chainId":"_all_"},{"id":"soc_zcfw_shipinshiti","type":"String","value":"1","chainId":"_all_"},{"id":"ls_fmp4","type":"String","value":"0","chainId":"_all_"},{"id":"web_sem_ab","type":"String","value":"1"},{"id":"se_hotsearch_num","type":"String","value":"0","chainId":"_all_"},{"id":"tp_qa_toast","type":"String","value":"1","chainId":"_all_"},{"id":"zr_km_answer","type":"String","value":"open_cvr","chainId":"_all_"},{"id":"tp_meta_card","type":"String","value":"0","chainId":"_all_"},{"id":"ug_zero_follow","type":"String","value":"0","chainId":"_all_"},{"id":"tp_club_pic_swiper","type":"String","value":"1","chainId":"_all_"},{"id":"se_cardrank_2","type":"String","value":"1","chainId":"_all_"},{"id":"se_wannasearch","type":"String","value":"0","chainId":"_all_"},{"id":"se_hot_timebox","type":"String","value":"0","chainId":"_all_"},{"id":"se_cbert_index","type":"String","value":"0","chainId":"_all_"},{"id":"se_college_cm","type":"String","value":"0","chainId":"_all_"},{"id":"tp_topic_rec","type":"String","value":"1","chainId":"_all_"},{"id":"soc_authormore2","type":"String","value":"2","chainId":"_all_"},{"id":"zr_art_rec","type":"String","value":"base","chainId":"_all_"},{"id":"gue_video_autoplay","type":"String","value":"0"},{"id":"se_specialbutton","type":"String","value":"0","chainId":"_all_"},{"id":"se_highlight","type":"String","value":"0","chainId":"_all_"},{"id":"tp_club_tab_feed","type":"String","value":"0","chainId":"_all_"},{"id":"top_new_feed","type":"String","value":"5","chainId":"_all_"},{"id":"li_se_across","type":"String","value":"1","chainId":"_all_"},{"id":"li_paid_answer_exp","type":"String","value":"0","chainId":"_all_"},{"id":"qap_thanks","type":"String","value":"1","chainId":"_all_"},{"id":"se_cardrank_1","type":"String","value":"0","chainId":"_all_"},{"id":"se_sug","type":"String","value":"1","chainId":"_all_"},{"id":"se_payconsult","type":"String","value":"0","chainId":"_all_"},{"id":"tp_score_1","type":"String","value":"a","chainId":"_all_"},{"id":"ug_goodcomment_0","type":"String","value":"1","chainId":"_all_"},{"id":"li_android_vip","type":"String","value":"0","chainId":"_all_"},{"id":"se_hotmore","type":"String","value":"2","chainId":"_all_"},{"id":"qap_ques_invite","type":"String","value":"0","chainId":"_all_"},{"id":"top_v_album","type":"String","value":"1","chainId":"_all_"},{"id":"web_creator_route","type":"String","value":"1"},{"id":"se_article_icon","type":"String","value":"0","chainId":"_all_"},{"id":"se_related_index","type":"String","value":"3","chainId":"_all_"},{"id":"se_ad_index","type":"String","value":"10","chainId":"_all_"},{"id":"se_aa","type":"String","value":"0","chainId":"_all_"},{"id":"top_test_4_liguangyi","type":"String","value":"1","chainId":"_all_"},{"id":"sem_up_growth","type":"String","value":"in_app","chainId":"_all_"},{"id":"gue_card_test","type":"String","value":"1"},{"id":"web_ask","type":"String","value":"0"},{"id":"se_auto_syn","type":"String","value":"0","chainId":"_all_"},{"id":"soc_iossort","type":"String","value":"0","chainId":"_all_"},{"id":"li_ebook_gen_search","type":"String","value":"0","chainId":"_all_"},{"id":"se_sug_term","type":"String","value":"0","chainId":"_all_"},{"id":"tp_club_discover","type":"String","value":"0","chainId":"_all_"},{"id":"tsp_hotlist_ui","type":"String","value":"1","chainId":"_all_"},{"id":"web_collect","type":"String","value":"0"},{"id":"se_ios_spb309","type":"String","value":"0","chainId":"_all_"},{"id":"se_content0","type":"String","value":"0","chainId":"_all_"},{"id":"se_adxtest","type":"String","value":"1","chainId":"_all_"},{"id":"se_presearch_ab","type":"String","value":"0","chainId":"_all_"},{"id":"tsp_videobillboard","type":"String","value":"1","chainId":"_all_"},{"id":"top_ydyq","type":"String","value":"X","chainId":"_all_"},{"id":"soc_bigone","type":"String","value":"0","chainId":"_all_"},{"id":"top_ebook","type":"String","value":"0","chainId":"_all_"},{"id":"li_sku_bottom_bar_re","type":"String","value":"0","chainId":"_all_"},{"id":"zw_sameq_sorce","type":"String","value":"999","chainId":"_all_"},{"id":"se_prf","type":"String","value":"0","chainId":"_all_"},{"id":"se_preset_label","type":"String","value":"1","chainId":"_all_"},{"id":"se_topicfeed","type":"String","value":"0","chainId":"_all_"},{"id":"se_timebox_up","type":"String","value":"0","chainId":"_all_"},{"id":"zw_payc_qaedit","type":"String","value":"0","chainId":"_all_"},{"id":"web_unfriendly_comm","type":"String","value":"0"},{"id":"soc_authormore","type":"String","value":"2","chainId":"_all_"},{"id":"web_upload","type":"String","value":"1"},{"id":"se_college","type":"String","value":"default","chainId":"_all_"},{"id":"se_zu_onebox","type":"String","value":"0","chainId":"_all_"},{"id":"tp_discovery_ab_1","type":"String","value":"0","chainId":"_all_"},{"id":"tp_club_android_join","type":"String","value":"1","chainId":"_all_"},{"id":"soc_cardheight","type":"String","value":"2","chainId":"_all_"},{"id":"qap_article_like","type":"String","value":"1","chainId":"_all_"},{"id":"zr_test_aa1","type":"String","value":"0","chainId":"_all_"},{"id":"zr_search_sim","type":"String","value":"0","chainId":"_all_"},{"id":"tp_sft","type":"String","value":"a","chainId":"_all_"},{"id":"soc_bignew","type":"String","value":"1","chainId":"_all_"},{"id":"gue_bullet_guide","type":"String","value":"发个弹幕聊聊…"},{"id":"ls_videoad","type":"String","value":"2","chainId":"_all_"},{"id":"se_webrs","type":"String","value":"1","chainId":"_all_"},{"id":"se_cate_l3","type":"String","value":"0","chainId":"_all_"},{"id":"pf_creator_card","type":"String","value":"1","chainId":"_all_"},{"id":"gue_new_special_page","type":"String","value":"1"},{"id":"tp_sft_v2","type":"String","value":"d","chainId":"_all_"},{"id":"tp_discover","type":"String","value":"0","chainId":"_all_"},{"id":"soc_newfeed","type":"String","value":"2","chainId":"_all_"},{"id":"se_aa_base","type":"String","value":"0","chainId":"_all_"},{"id":"zr_slot_cold_start","type":"String","value":"aver","chainId":"_all_"},{"id":"se_hotsearch","type":"String","value":"0","chainId":"_all_"},{"id":"web_heifetz_grow_ad","type":"String","value":"1"},{"id":"web_question_invite","type":"String","value":"B"},{"id":"top_root","type":"String","value":"0","chainId":"_all_"},{"id":"li_se_section","type":"String","value":"0","chainId":"_all_"},{"id":"web_sec672","type":"String","value":"0"},{"id":"se_pek_test2","type":"String","value":"1","chainId":"_all_"},{"id":"soc_zcfw_broadcast","type":"String","value":"0","chainId":"_all_"},{"id":"gue_goods_card","type":"String","value":"0"},{"id":"tp_club_join","type":"String","value":"0","chainId":"_all_"},{"id":"tp_topic_style","type":"String","value":"0","chainId":"_all_"},{"id":"soc_adpinweight","type":"String","value":"0","chainId":"_all_"},{"id":"li_catalog_card","type":"String","value":"1","chainId":"_all_"},{"id":"li_svip_tab_search","type":"String","value":"0","chainId":"_all_"},{"id":"li_pay_banner_type","type":"String","value":"6","chainId":"_all_"},{"id":"li_video_section","type":"String","value":"0","chainId":"_all_"},{"id":"zr_expslotpaid","type":"String","value":"1","chainId":"_all_"},{"id":"se_whitelist","type":"String","value":"0","chainId":"_all_"},{"id":"se_page_quality","type":"String","value":"0","chainId":"_all_"},{"id":"top_quality","type":"String","value":"0","chainId":"_all_"},{"id":"web_mweb_rec_length","type":"String","value":"1"},{"id":"li_assessment_show","type":"String","value":"1","chainId":"_all_"},{"id":"se_site_onebox","type":"String","value":"0","chainId":"_all_"},{"id":"pf_adjust","type":"String","value":"0","chainId":"_all_"},{"id":"li_vip_verti_search","type":"String","value":"0","chainId":"_all_"},{"id":"li_purchase_test","type":"String","value":"0","chainId":"_all_"},{"id":"zr_update_merge_size","type":"String","value":"1","chainId":"_all_"},{"id":"zr_rel_search","type":"String","value":"base","chainId":"_all_"},{"id":"top_universalebook","type":"String","value":"1","chainId":"_all_"},{"id":"web_mweb_launch","type":"String","value":"0"},{"id":"web_answer_update","type":"String","value":"0"},{"id":"zr_rec_answer_cp","type":"String","value":"close","chainId":"_all_"},{"id":"se_likebutton","type":"String","value":"0","chainId":"_all_"},{"id":"se_spb309","type":"String","value":"0","chainId":"_all_"},{"id":"se_new_merger","type":"String","value":"1","chainId":"_all_"},{"id":"se_mobileweb","type":"String","value":"1","chainId":"_all_"},{"id":"soc_brdcst4","type":"String","value":"3","chainId":"_all_"},{"id":"web_ad_banner","type":"String","value":"0"},{"id":"soc_brdcst3","type":"String","value":"0","chainId":"_all_"},{"id":"zr_video_recall","type":"String","value":"current_recall","chainId":"_all_"},{"id":"zr_ans_rec","type":"String","value":"gbrank","chainId":"_all_"},{"id":"soc_iosreadfilter","type":"String","value":"0","chainId":"_all_"},{"id":"soc_zcfw_badcase","type":"String","value":"0","chainId":"_all_"},{"id":"pf_foltopic_usernum","type":"String","value":"50","chainId":"_all_"},{"id":"qap_payc_invite","type":"String","value":"0","chainId":"_all_"},{"id":"se_waterfall","type":"String","value":"0","chainId":"_all_"},{"id":"tp_club_qa","type":"String","value":"1","chainId":"_all_"},{"id":"soc_adsort","type":"String","value":"0","chainId":"_all_"},{"id":"web_answerlist_ad","type":"String","value":"0"},{"id":"li_answer_card","type":"String","value":"0","chainId":"_all_"},{"id":"li_se_media_icon","type":"String","value":"1","chainId":"_all_"},{"id":"gue_self_censoring","type":"String","value":"1"},{"id":"zr_answer_rec_cp","type":"String","value":"open","chainId":"_all_"},{"id":"zr_km_feed_nlp","type":"String","value":"old","chainId":"_all_"},{"id":"tp_sticky_android","type":"String","value":"2","chainId":"_all_"},{"id":"soc_stickypush","type":"String","value":"1","chainId":"_all_"},{"id":"li_ebook_read","type":"String","value":"0","chainId":"_all_"},{"id":"zr_slotpaidexp","type":"String","value":"1","chainId":"_all_"},{"id":"se_ffzx_jushen1","type":"String","value":"0","chainId":"_all_"},{"id":"se_preset_tech","type":"String","value":"0","chainId":"_all_"},{"id":"se_famous","type":"String","value":"1","chainId":"_all_"},{"id":"gue_bullet_second","type":"String","value":"1"},{"id":"gue_zhuantikapian","type":"String","value":"0"},{"id":"se_new_topic","type":"String","value":"0","chainId":"_all_"},{"id":"se_sug_entrance","type":"String","value":"1","chainId":"_all_"},{"id":"se_colorfultab","type":"String","value":"1","chainId":"_all_"},{"id":"se_relationship","type":"String","value":"1","chainId":"_all_"},{"id":"se_backsearch","type":"String","value":"0","chainId":"_all_"},{"id":"se_multianswer","type":"String","value":"2","chainId":"_all_"},{"id":"soc_adreadline","type":"String","value":"0","chainId":"_all_"},{"id":"zr_video_rank_nn","type":"String","value":"new_rank","chainId":"_all_"},{"id":"zr_article_new","type":"String","value":"close","chainId":"_all_"},{"id":"web_audit_01","type":"String","value":"case1"},{"id":"se_pek_test3","type":"String","value":"1","chainId":"_all_"},{"id":"tp_discover_copy","type":"String","value":"0","chainId":"_all_"},{"id":"li_answer_label","type":"String","value":"0","chainId":"_all_"},{"id":"soc_adreadfilter","type":"String","value":"0","chainId":"_all_"},{"id":"web_hdpimg","type":"String","value":"1"},{"id":"se_ctx_rerank","type":"String","value":"1","chainId":"_all_"},{"id":"tp_topic_head","type":"String","value":"0","chainId":"_all_"},{"id":"zr_intervene","type":"String","value":"0","chainId":"_all_"},{"id":"se_entity_model_14","type":"String","value":"0","chainId":"_all_"},{"id":"soc_zcfw_broadcast2","type":"String","value":"1","chainId":"_all_"},{"id":"web_n_web_msg","type":"String","value":"0"},{"id":"li_qa_btn_text","type":"String","value":"0","chainId":"_all_"},{"id":"se_searchwiki","type":"String","value":"0","chainId":"_all_"},{"id":"gue_thanks","type":"String","value":"0"},{"id":"se_pek_test","type":"String","value":"1","chainId":"_all_"},{"id":"se_relation_1","type":"String","value":"0","chainId":"_all_"},{"id":"li_education_box","type":"String","value":"0","chainId":"_all_"},{"id":"se_new_p","type":"String","value":"0","chainId":"_all_"},{"id":"soc_userrec","type":"String","value":"0","chainId":"_all_"},{"id":"soc_iosreadline","type":"String","value":"0","chainId":"_all_"},{"id":"soc_feed_intimacy","type":"String","value":"2","chainId":"_all_"},{"id":"ug_zero_follow_0","type":"String","value":"0","chainId":"_all_"},{"id":"qap_question_author","type":"String","value":"0","chainId":"_all_"},{"id":"zr_training_boost","type":"String","value":"false","chainId":"_all_"},{"id":"se_entity_model","type":"String","value":"0","chainId":"_all_"},{"id":"soc_wonderuser_recom","type":"String","value":"2","chainId":"_all_"},{"id":"top_hotcommerce","type":"String","value":"1","chainId":"_all_"},{"id":"tsp_vote","type":"String","value":"2","chainId":"_all_"},{"id":"gue_video_replay","type":"String","value":"0"},{"id":"web_column_auto_invite","type":"String","value":"0"},{"id":"li_salt_hot","type":"String","value":"1","chainId":"_all_"},{"id":"se_cardrank_3","type":"String","value":"0","chainId":"_all_"},{"id":"se_lottery","type":"String","value":"0","chainId":"_all_"},{"id":"pf_newguide_vertical","type":"String","value":"0","chainId":"_all_"},{"id":"web_mini_review","type":"String","value":"0"},{"id":"zr_search_paid","type":"String","value":"0","chainId":"_all_"},{"id":"se_rf_w","type":"String","value":"0","chainId":"_all_"},{"id":"se_websearch","type":"String","value":"3","chainId":"_all_"},{"id":"li_qa_new_cover","type":"String","value":"1","chainId":"_all_"},{"id":"se_time_threshold","type":"String","value":"0","chainId":"_all_"},{"id":"soc_notification","type":"String","value":"0","chainId":"_all_"},{"id":"se_hotsearch_2","type":"String","value":"1","chainId":"_all_"},{"id":"se_movietab","type":"String","value":"1","chainId":"_all_"},{"id":"tp_topic_entry","type":"String","value":"0","chainId":"_all_"},{"id":"se_col_boost","type":"String","value":"0","chainId":"_all_"}],"chains":[{"chainId":"_all_"}]},"triggers":{}},"userAgent":{"Edge":false,"Wechat":false,"Weibo":false,"QQ":false,"MQQBrowser":false,"Qzone":false,"Mobile":false,"Android":false,"iOS":false,"isAppleDevice":false,"Zhihu":false,"ZhihuHybrid":false,"isBot":false,"Tablet":false,"UC":false,"Sogou":false,"Qihoo":false,"Baidu":false,"BaiduApp":false,"Safari":false,"GoogleBot":false,"AndroidDaily":false,"iOSDaily":false,"isWebView":false,"origin":"Mozilla\u002F5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\u002F537.36 (KHTML, like Gecko) Chrome\u002F80.0.3987.100 Safari\u002F537.36"},"appViewConfig":{},"ctx":{"path":"\u002Fp\u002F72403538","query":{},"href":"http:\u002F\u002Fzhuanlan.zhihu.com\u002Fp\u002F72403538","host":"zhuanlan.zhihu.com"},"trafficSource":"production","edition":{"baidu":false,"sogou":false,"baiduBeijing":false,"sogouBeijing":false,"sogouInput":false},"theme":"light","enableShortcut":true,"referer":"","conf":{},"ipInfo":{"cityName":"德州","countryName":"中国","regionName":"山东","countryCode":"CN"},"logged":false},"me":{"columnContributions":[]},"label":{"recognizerLists":{}},"ecommerce":{},"comments":{"pagination":{},"collapsed":{},"reverse":{},"reviewing":{},"conversation":{},"parent":{}},"commentsV2":{"stickers":[],"commentWithPicPermission":{},"notificationsComments":{},"pagination":{},"collapsed":{},"reverse":{},"reviewing":{},"conversation":{},"conversationMore":{},"parent":{}},"pushNotifications":{"default":{"isFetching":false,"isDrained":false,"ids":[]},"follow":{"isFetching":false,"isDrained":false,"ids":[]},"vote_thank":{"isFetching":false,"isDrained":false,"ids":[]},"currentTab":"default","notificationsCount":{"default":0,"follow":0,"vote_thank":0}},"messages":{"data":{},"currentTab":"common","messageCount":0},"register":{"registerValidateSucceeded":null,"registerValidateErrors":{},"registerConfirmError":null,"sendDigitsError":null,"registerConfirmSucceeded":null},"login":{"loginUnregisteredError":false,"loginBindWechatError":false,"loginConfirmError":null,"sendDigitsError":null,"needSMSIdentify":false,"validateDigitsError":false,"loginConfirmSucceeded":null,"qrcodeLoginToken":"","qrcodeLoginScanStatus":0,"qrcodeLoginError":null,"qrcodeLoginReturnNewToken":false},"active":{"sendDigitsError":null,"activeConfirmSucceeded":null,"activeConfirmError":null},"switches":{},"captcha":{"captchaNeeded":false,"captchaValidated":false,"captchaBase64String":null,"captchaValidationMessage":null,"loginCaptchaExpires":false},"sms":{"supportedCountries":[]},"chat":{"chats":{},"inbox":{"recents":{"isFetching":false,"isDrained":false,"isPrevDrained":false,"result":[],"next":null,"key":null},"strangers":{"isFetching":false,"isDrained":false,"isPrevDrained":false,"result":[],"next":null,"key":null},"friends":{"isFetching":false,"isDrained":false,"isPrevDrained":false,"result":[],"next":null,"key":null},"search":{"isFetching":false,"isDrained":false,"isPrevDrained":false,"result":[],"next":null,"key":null},"config":{"newCount":0,"strangerMessageSwitch":false,"strangerMessageUnread":false,"friendCount":0}},"global":{"isChatMqttExisted":false}},"emoticons":{"emoticonGroupList":[],"emoticonGroupDetail":{}},"creator":{"currentCreatorUrlToken":null,"homeData":{"recommendQuestions":[]},"tools":{"question":{"invitationCount":{"questionFolloweeCount":0,"questionTotalCount":0},"goodatTopics":[]},"customPromotion":{"itemLists":{}},"recommend":{"recommendTimes":{}}},"explore":{"academy":{"tabs":[],"article":{}}},"rights":[],"rightsStatus":{},"levelUpperLimit":10,"account":{"growthLevel":{}},"mcn":{},"applyStatus":{}},"recommendation":{"homeRecommendations":[]},"shareTexts":{},"articles":{"voters":{}},"previewPost":{},"favlists":{"relations":{}},"columns":{"voters":{}},"reward":{"answer":{},"article":{},"question":{}},"video":{"data":{},"shareVideoDetail":{},"last":{}},"topstory":{"recommend":{"isFetching":false,"isDrained":false,"afterId":0,"items":[],"next":null},"follow":{"isFetching":false,"isDrained":false,"afterId":0,"items":[],"next":null},"followWonderful":{"isFetching":false,"isDrained":false,"afterId":0,"items":[],"next":null},"sidebar":null,"announcement":{},"hotListCategories":[],"hotList":[],"guestFeeds":{"isFetching":false,"isDrained":false,"afterId":0,"items":[],"next":null},"followExtra":{"isNewUser":null,"isFetched":false,"followCount":0,"followers":[]}},"readStatus":{},"column":{},"requestColumn":{"categories":[],"error":null},"articleContribution":{"contributeRequests":[],"deleteContributeIdList":[],"handledContributeIdList":[],"recommendedColumns":[],"pinnedColumns":[],"sentContributeRequestsIdList":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"reinforcementlearning"]},"columnContribution":{"contributeRequests":[],"autoInviteEnabled":false,"recommendedContributors":[],"contributionInvitation":null},"draftHistory":{"history":{},"drafts":{}},"upload":{},"articleDraft":{"titleImage":"","titleImageSize":{},"isTitleImageFullScreen":false,"canTitleImageFullScreen":false,"title":"","titleImageUploading":false,"error":"","content":"","draftLoading":false,"updating":false,"globalLoading":false,"pendingVideo":{"resource":null,"error":null},"deleteFail":{"fail":false},"recommendTopics":[],"selectedColumn":0,"articleDisclaimers":[]},"articleDrafts":{"isDrained":false,"isLoading":false,"items":[]},"columnAutocomplete":{"users":[],"friends":[]},"columnCollection":{},"mcn":{"bindInfo":{},"memberCategoryList":[],"producerList":[],"categoryList":[]}},"fetchHost":"www.zhihu.com","subAppName":"column"}</script><script src="https://static.zhihu.com/heifetz/vendor.7b36fae46082fd30a0db.js"></script><script src="https://static.zhihu.com/heifetz/column.app.76e02b16e87eec249f44.js"></script></body><script src="https://hm.baidu.com/hm.js?98beee57fd2ef70ccdd5ca52b9740c49" async=""></script><script src="https://zz.bdstatic.com/linksubmit/push.js" async=""></script></html>