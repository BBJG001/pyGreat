<!doctype html>
<html lang="zh" data-hairline="true" data-theme="light"><head><meta charSet="utf-8"/><title data-react-helmet="true">【统计】Causal Inference - 知乎</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"/><meta name="renderer" content="webkit"/><meta name="force-rendering" content="webkit"/><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/><meta name="google-site-verification" content="FTeR0c8arOPKh8c5DYh_9uu98_zJbaWw53J-Sch9MTg"/><meta data-react-helmet="true" name="keywords" content="因果,统计学,因果律"/><meta data-react-helmet="true" name="description" content="学习一下因果推断，做一个笔记。原文传送门http://www.stat.cmu.edu/~larry/=sml/Causation.pdf过程一、Prediction 和 causation 的区别现实中遇到的很多问题实际上是因果问题，而不是预测。因果问题分为两种：一…"/><meta data-react-helmet="true" property="og:title" content="【统计】Causal Inference"/><meta data-react-helmet="true" property="og:url" content="https://zhuanlan.zhihu.com/p/88173582"/><meta data-react-helmet="true" property="og:description" content="学习一下因果推断，做一个笔记。原文传送门http://www.stat.cmu.edu/~larry/=sml/Causation.pdf过程一、Prediction 和 causation 的区别现实中遇到的很多问题实际上是因果问题，而不是预测。因果问题分为两种：一…"/><meta data-react-helmet="true" property="og:image" content=""/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:site_name" content="知乎专栏"/><link data-react-helmet="true" rel="apple-touch-icon" href="https://static.zhihu.com/heifetz/assets/apple-touch-icon-152.67c7b278.png"/><link data-react-helmet="true" rel="apple-touch-icon" href="https://static.zhihu.com/heifetz/assets/apple-touch-icon-152.67c7b278.png" sizes="152x152"/><link data-react-helmet="true" rel="apple-touch-icon" href="https://static.zhihu.com/heifetz/assets/apple-touch-icon-120.b3e6278d.png" sizes="120x120"/><link data-react-helmet="true" rel="apple-touch-icon" href="https://static.zhihu.com/heifetz/assets/apple-touch-icon-76.7a750095.png" sizes="76x76"/><link data-react-helmet="true" rel="apple-touch-icon" href="https://static.zhihu.com/heifetz/assets/apple-touch-icon-60.a4a761d4.png" sizes="60x60"/><link rel="shortcut icon" type="image/x-icon" href="https://static.zhihu.com/static/favicon.ico"/><link rel="search" type="application/opensearchdescription+xml" href="https://static.zhihu.com/static/search.xml" title="知乎"/><link rel="dns-prefetch" href="//static.zhimg.com"/><link rel="dns-prefetch" href="//pic1.zhimg.com"/><link rel="dns-prefetch" href="//pic2.zhimg.com"/><link rel="dns-prefetch" href="//pic3.zhimg.com"/><link rel="dns-prefetch" href="//pic4.zhimg.com"/><style>
.u-safeAreaInset-top {
  height: constant(safe-area-inset-top) !important;
  height: env(safe-area-inset-top) !important;
  
}
.u-safeAreaInset-bottom {
  height: constant(safe-area-inset-bottom) !important;
  height: env(safe-area-inset-bottom) !important;
  
}
</style><link href="https://static.zhihu.com/heifetz/column.app.a9ced452148fee3a55c8.css" rel="stylesheet"/><script defer="" crossorigin="anonymous" src="https://unpkg.zhimg.com/@cfe/sentry-script@latest/dist/init.js" data-sentry-config="{&quot;dsn&quot;:&quot;https://2d8d764432cc4f6fb3bc78ab9528299d@crash2.zhihu.com/1224&quot;,&quot;sampleRate&quot;:0.1,&quot;release&quot;:&quot;683-127b14ad&quot;,&quot;ignoreErrorNames&quot;:[&quot;NetworkError&quot;,&quot;SecurityError&quot;],&quot;ignoreErrors&quot;:[&quot;origin message&quot;,&quot;Network request failed&quot;,&quot;Loading chunk&quot;,&quot;这个系统不支持该功能。&quot;,&quot;Can&#x27;t find variable: webkit&quot;,&quot;Can&#x27;t find variable: $&quot;,&quot;内存不足&quot;,&quot;out of memory&quot;,&quot;DOM Exception 18&quot;,&quot;The operation is insecure&quot;,&quot;[object Event]&quot;,&quot;[object FileError]&quot;,&quot;[object DOMError]&quot;,&quot;[object Object]&quot;,&quot;拒绝访问。&quot;,&quot;Maximum call stack size exceeded&quot;,&quot;UploadError&quot;,&quot;无法 fetch&quot;,&quot;draft-js&quot;,&quot;缺少 JavaScript 对象&quot;,&quot;componentWillEnter&quot;,&quot;componentWillLeave&quot;,&quot;componentWillAppear&quot;,&quot;getInlineStyleAt&quot;,&quot;getCharacterList&quot;],&quot;whitelistUrls&quot;:[&quot;static.zhihu.com&quot;]}"></script></head><body class="WhiteBg-body"><div id="root"><div class="App"><div class="LoadingBar"></div><main role="main" class="App-main"><div class="Post-content" data-zop-usertoken="{&quot;userToken&quot;:&quot;&quot;}" data-zop="{&quot;authorName&quot;:&quot;张楚珩&quot;,&quot;itemId&quot;:88173582,&quot;title&quot;:&quot;【统计】Causal Inference&quot;,&quot;type&quot;:&quot;article&quot;}"><div class="ColumnPageHeader-Wrapper"><div><div class="Sticky ColumnPageHeader"><div class="ColumnPageHeader-content"><a href="//www.zhihu.com" aria-label="知乎"><svg viewBox="0 0 200 91" fill="#0084FF" width="64" height="30"><path d="M53.29 80.035l7.32.002 2.41 8.24 13.128-8.24h15.477v-67.98H53.29v67.978zm7.79-60.598h22.756v53.22h-8.73l-8.718 5.473-1.587-5.46-3.72-.012v-53.22zM46.818 43.162h-16.35c.545-8.467.687-16.12.687-22.955h15.987s.615-7.05-2.68-6.97H16.807c1.09-4.1 2.46-8.332 4.1-12.708 0 0-7.523 0-10.085 6.74-1.06 2.78-4.128 13.48-9.592 24.41 1.84-.2 7.927-.37 11.512-6.94.66-1.84.785-2.08 1.605-4.54h9.02c0 3.28-.374 20.9-.526 22.95H6.51c-3.67 0-4.863 7.38-4.863 7.38H22.14C20.765 66.11 13.385 79.24 0 89.62c6.403 1.828 12.784-.29 15.937-3.094 0 0 7.182-6.53 11.12-21.64L43.92 85.18s2.473-8.402-.388-12.496c-2.37-2.788-8.768-10.33-11.496-13.064l-4.57 3.627c1.363-4.368 2.183-8.61 2.46-12.71H49.19s-.027-7.38-2.372-7.38zm128.752-.502c6.51-8.013 14.054-18.302 14.054-18.302s-5.827-4.625-8.556-1.27c-1.874 2.548-11.51 15.063-11.51 15.063l6.012 4.51zm-46.903-18.462c-2.814-2.577-8.096.667-8.096.667s12.35 17.2 12.85 17.953l6.08-4.29s-8.02-11.752-10.83-14.33zM199.99 46.5c-6.18 0-40.908.292-40.953.292v-31.56c1.503 0 3.882-.124 7.14-.376 12.773-.753 21.914-1.25 27.427-1.504 0 0 3.817-8.496-.185-10.45-.96-.37-7.24 1.43-7.24 1.43s-51.63 5.153-72.61 5.64c.5 2.756 2.38 5.336 4.93 6.11 4.16 1.087 7.09.53 15.36.277 7.76-.5 13.65-.76 17.66-.76v31.19h-41.71s.88 6.97 7.97 7.14h33.73v22.16c0 4.364-3.498 6.87-7.65 6.6-4.4.034-8.15-.36-13.027-.566.623 1.24 1.977 4.496 6.035 6.824 3.087 1.502 5.054 2.053 8.13 2.053 9.237 0 14.27-5.4 14.027-14.16V53.93h38.235c3.026 0 2.72-7.432 2.72-7.432z" fill-rule="evenodd"></path></svg></a><i class="ColumnPageHeader-Line"></i><div class="ColumnPageHeader-Title"><a class="ColumnLink ColumnPageHeader-Link" href="/reinforcementlearning"><img class="Avatar Avatar--round" width="30" height="30" src="https://pic2.zhimg.com/v2-5d1f04a84f6be8896c07a32a05e1d6d1_is.jpg" srcSet="https://pic2.zhimg.com/v2-5d1f04a84f6be8896c07a32a05e1d6d1_im.jpg 2x" alt="强化学习前沿"/></a><div class="ColumnPageHeader-TitleName"><span class="ColumnPageHeader-TitleMeta">首发于</span><a class="ColumnLink ColumnPageHeader-TitleColumn" href="/reinforcementlearning">强化学习前沿</a></div></div><div class="ColumnPageHeader-Button"><button type="button" class="Button ColumnPageHeader-WriteButton Button--blue"><svg class="Zi Zi--EditSurround" fill="currentColor" viewBox="0 0 24 24" width="24" height="24"><path d="M18.453 7.992l-1.833-1.65.964-.978a1.223 1.223 0 0 1 1.73-.012l.005.006a1.24 1.24 0 0 1 .007 1.748l-.873.886zm-1.178 1.194l-5.578 5.66-1.935.697a.393.393 0 0 1-.504-.504l.697-1.935 5.488-5.567 1.832 1.65zM7.58 5.848l5.654.006-1.539 1.991-3.666.012A1.02 1.02 0 0 0 7 8.868v7.993c0 .558.46 1.01 1.029 1.01l7.941-.01c.568 0 1.03-.453 1.03-1.012v-4.061l2-1.442v6.002c0 1.397-1.2 2.501-2.62 2.501H7.574C6.153 19.85 5 18.717 5 17.32V8.35c0-1.397 1.16-2.502 2.58-2.502z"></path></svg>写文章</button></div></div></div></div></div><article class="Post-Main Post-NormalMain" tabindex="-1"><header class="Post-Header"><h1 class="Post-Title">【统计】Causal Inference</h1><div class="Post-Author"><div class="AuthorInfo" itemProp="author" itemscope="" itemType="http://schema.org/Person"><meta itemProp="name" content="张楚珩"/><meta itemProp="image" content="https://pic4.zhimg.com/v2-2b7c11f27a7fd03282819889435815aa_l.jpg"/><meta itemProp="url" content="https://www.zhihu.com/people/zhang-chu-heng"/><meta itemProp="zhihu:followerCount"/><span class="UserLink AuthorInfo-avatarWrapper"><div class="Popover"><div id="null-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="null-content"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="//www.zhihu.com/people/zhang-chu-heng"><img class="Avatar Avatar--round AuthorInfo-avatar" width="38" height="38" src="https://pic4.zhimg.com/v2-2b7c11f27a7fd03282819889435815aa_xs.jpg" srcSet="https://pic4.zhimg.com/v2-2b7c11f27a7fd03282819889435815aa_l.jpg 2x" alt="张楚珩"/></a></div></div></span><div class="AuthorInfo-content"><div class="AuthorInfo-head"><span class="UserLink AuthorInfo-name"><div class="Popover"><div id="null-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="null-content"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="//www.zhihu.com/people/zhang-chu-heng">张楚珩</a></div></div><style data-emotion-css="1cd9gw4">.css-1cd9gw4{margin-left:.3em;}</style><style data-emotion-css="1pc1mic">.css-1pc1mic{box-sizing:border-box;margin:0;min-width:0;color:#175199;display:inline-block;width:18px;height:18px;margin-left:.3em;}</style><a href="https://www.zhihu.com/question/48510028" target="_blank" class="css-1pc1mic" data-tooltip="已认证的个人" aria-label="已认证的个人"><style data-emotion-css="18biwo">.css-18biwo{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><span class="css-18biwo">​<svg viewBox="0 0 24 24" width="18" height="18"><svg viewBox="0 0 24 24" x="-3" y="-3" fill="#FFFFFF" width="30" height="30"><path d="M3.56231227,13.8535307 C2.40051305,12.768677 2.41398885,11.0669203 3.59484487,9.99979213 L3.59222085,9.99654885 C4.26730143,9.45036719 4.79446755,8.21005186 4.7184197,7.34453784 L4.72305873,7.34412719 C4.66942824,5.75539997 5.8824188,4.56066914 7.47188965,4.64242381 L7.47229112,4.6386236 C8.33515314,4.72977993 9.58467253,4.22534048 10.1426329,3.55925173 L10.1462611,3.56228565 C11.2316055,2.40008701 12.9353108,2.41394456 14.0015072,3.59634088 L14.0047263,3.59374004 C14.5498229,4.26841874 15.7896857,4.79521622 16.6545744,4.71844347 L16.6549836,4.72304294 C18.245027,4.66894057 19.4396947,5.88213996 19.3575031,7.47241135 L19.3623099,7.47292747 C19.2704388,8.3358681 19.7742711,9.58421483 20.4407199,10.1424506 L20.437686,10.1460789 C21.5997217,11.2312209 21.5860695,12.9345218 20.4042441,14.0007396 L20.4072865,14.0045125 C19.7325967,14.5495925 19.2055209,15.7896954 19.2815865,16.6561959 L19.2770449,16.6565978 C19.3315454,18.2453037 18.1173775,19.4393568 16.5274188,19.3571512 L16.5269029,19.3619539 C15.6647098,19.270083 14.415408,19.7741709 13.8573671,20.4403558 L13.8537409,20.4373235 C12.76842,21.5995708 11.0650432,21.5864553 9.99899434,20.4039226 L9.99527367,20.406923 C9.45025436,19.7323399 8.21017638,19.2051872 7.34461983,19.2812352 L7.344304,19.2776405 C5.75448683,19.3312904 4.55977145,18.1170085 4.64254978,16.527117 L4.63769921,16.5265942 C4.72957031,15.6644394 4.22547659,14.4151814 3.55928015,13.8571569 L3.56231227,13.8535307 Z"></path></svg><path d="M2.63951518,13.3895441 C3.70763333,14.2842292 4.44777637,16.1226061 4.30075305,17.5023312 L4.32211542,17.3063047 C4.17509209,18.6910561 5.17786655,19.7063729 6.5613937,19.5844846 L6.364106,19.6008202 C7.75140298,19.4789319 9.57474349,20.2554985 10.4468305,21.3349009 L10.3224262,21.1803415 C11.1982831,22.2647703 12.6257916,22.2723098 13.5167278,21.2079863 L13.3898102,21.3600325 C14.2845162,20.2919393 16.1229361,19.5518136 17.5026934,19.6988334 L17.3054057,19.6774716 C18.6914461,19.8244915 19.7067866,18.8217404 19.5836389,17.4395022 L19.6012314,17.6367853 C19.4793403,16.2482641 20.255925,14.4249662 21.3353526,13.5528995 L21.1807897,13.677301 C22.2639871,12.8014646 22.2727834,11.3739894 21.2084351,10.483074 L21.3604848,10.6099886 C20.2923667,9.71530351 19.5522236,7.87818322 19.6992469,6.49720154 L19.6778846,6.69448464 C19.8249079,5.30847665 18.8221335,4.2944164 17.4386063,4.41630468 L17.635894,4.39871256 C16.248597,4.52185742 14.4252565,3.74529084 13.5531695,2.66588842 L13.6775738,2.81919121 C12.8017169,1.73601905 11.3742084,1.72722299 10.4832722,2.79154644 L10.6101898,2.63950024 C9.71548377,3.70759343 7.87706394,4.44771919 6.49730661,4.30195588 L6.69459432,4.32206116 C5.30855394,4.17504128 4.29447,5.17904888 4.41636114,6.56128713 L4.3987686,6.36400404 C4.52065973,7.75126861 3.74407501,9.57456653 2.66464737,10.4478898 L2.81921035,10.3222318 C1.73601288,11.1993248 1.72721662,12.6255433 2.79156494,13.5164587 L2.63951518,13.3895441 Z" fill="#0084FF"></path><svg class="Zi Zi--Check" fill="#fff" x="6" y="6" viewBox="0 0 24 24" width="12" height="12"><path d="M10.229 17.516c-.318.327-.75.484-1.199.484-.453 0-.884-.16-1.202-.488l-4.335-4.47a1.77 1.77 0 0 1 .007-2.459 1.663 1.663 0 0 1 2.397.01l3.137 3.246 9.072-9.329a1.662 1.662 0 0 1 2.397 0c.663.681.663 1.786 0 2.466L10.23 17.516z" fill-rule="evenodd"></path></svg></svg></span></a></span></div><div class="AuthorInfo-detail"><div class="AuthorInfo-badge"><div class="AuthorInfo-badgeText">清华大学 交叉信息院博士在读</div></div></div></div></div></div><div><span class="Voters"><button type="button" class="Button Button--plain">96 人<!-- -->赞同了该文章</button></span></div></header><div class="Post-RichTextContainer"><div class="RichText ztext Post-RichText"><p>学习一下因果推断，做一个笔记。</p><h2>原文传送门</h2><p><a href="https://link.zhihu.com/?target=http%3A//www.stat.cmu.edu/~larry/%3Dsml/Causation.pdf" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">http://www.</span><span class="visible">stat.cmu.edu/~larry/=sm</span><span class="invisible">l/Causation.pdf</span><span class="ellipsis"></span></a></p><h2>过程</h2><h3>一、Prediction 和 causation 的区别</h3><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-69d6e96213b77dbbf5adffbc00e76a49_b.png" data-caption="" data-size="normal" data-rawwidth="1239" data-rawheight="129" class="origin_image zh-lightbox-thumb" width="1239" data-original="https://pic2.zhimg.com/v2-69d6e96213b77dbbf5adffbc00e76a49_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1239&#39; height=&#39;129&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1239" data-rawheight="129" class="origin_image zh-lightbox-thumb lazy" width="1239" data-original="https://pic2.zhimg.com/v2-69d6e96213b77dbbf5adffbc00e76a49_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-69d6e96213b77dbbf5adffbc00e76a49_b.png"/></figure><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-085098d32b9e894f49c33ad67afb9e73_b.png" data-caption="" data-size="normal" data-rawwidth="1241" data-rawheight="138" class="origin_image zh-lightbox-thumb" width="1241" data-original="https://pic4.zhimg.com/v2-085098d32b9e894f49c33ad67afb9e73_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1241&#39; height=&#39;138&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1241" data-rawheight="138" class="origin_image zh-lightbox-thumb lazy" width="1241" data-original="https://pic4.zhimg.com/v2-085098d32b9e894f49c33ad67afb9e73_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-085098d32b9e894f49c33ad67afb9e73_b.png"/></figure><p>现实中遇到的很多问题实际上是因果问题，而不是预测。</p><p><b><i>因果问题分为两种</i></b>：一种是 causal inference，比如给定两个变量 X、Y，希望找到一个衡量它们之间因果关系的参数 theta；另一种是 causal discovery，即给定一组变量，找到他们之间的因果关系。对于后面这种 causal discovery，notes 里面说它在统计上是不可能的。</p><p><b><i>数据有两种产生途径</i></b>：一种是通过有意控制、随机化的实验得到的；一种是通过观测数据得到的。前一种方式能够直接做 causal inference；后一种方式需要另外知道一些先验知识，才能在上面做 causal inference。</p><p><b><i>对因果关系描述的数学语言</i></b>：一种是 counterfactuals，一种是 causal graph；还有一种和 causal graph 相近的 structural equation models。</p><p><b><i>Correlation is not causation</i></b></p><p>预测问题可以写为</p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-2db42c55700564ea181c8335ff59d799_b.png" data-caption="" data-size="normal" data-rawwidth="1276" data-rawheight="49" class="origin_image zh-lightbox-thumb" width="1276" data-original="https://pic2.zhimg.com/v2-2db42c55700564ea181c8335ff59d799_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1276&#39; height=&#39;49&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1276" data-rawheight="49" class="origin_image zh-lightbox-thumb lazy" width="1276" data-original="https://pic2.zhimg.com/v2-2db42c55700564ea181c8335ff59d799_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-2db42c55700564ea181c8335ff59d799_b.png"/></figure><p>它表示的是，如果我们观察到 X=x，预测 Y。而因果推断关系的是</p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-c6c0dd10fcab9e61936c74a78017989b_b.png" data-caption="" data-size="normal" data-rawwidth="1290" data-rawheight="42" class="origin_image zh-lightbox-thumb" width="1290" data-original="https://pic4.zhimg.com/v2-c6c0dd10fcab9e61936c74a78017989b_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1290&#39; height=&#39;42&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1290" data-rawheight="42" class="origin_image zh-lightbox-thumb lazy" width="1290" data-original="https://pic4.zhimg.com/v2-c6c0dd10fcab9e61936c74a78017989b_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-c6c0dd10fcab9e61936c74a78017989b_b.png"/></figure><p>它表示我们如果把某个变量 X 设置为 x，那么 Y 会是多少。数学上表示出来就是</p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-a243c69253d5506cea6908c2bf8eb65d_b.png" data-caption="" data-size="normal" data-rawwidth="1305" data-rawheight="58" class="origin_image zh-lightbox-thumb" width="1305" data-original="https://pic2.zhimg.com/v2-a243c69253d5506cea6908c2bf8eb65d_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1305&#39; height=&#39;58&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1305" data-rawheight="58" class="origin_image zh-lightbox-thumb lazy" width="1305" data-original="https://pic2.zhimg.com/v2-a243c69253d5506cea6908c2bf8eb65d_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-a243c69253d5506cea6908c2bf8eb65d_b.png"/></figure><p>一个简单的例子『睡眠超过 7 小时的人』（X）『生病少』（Y)，只是代表 X 和 Y 之间有关联性，并不代表如果强制一个人睡眠超过 7 小时，ta 就能够生病少。因为可能『身体好的人』容易『睡眠超过 7 小时』，同时 ta 也『生病少』；但是一个本来身体不好的人，强制 ta 睡眠多，ta 可能也生病不会少。</p><p>Notes 里面想要说明的结论是：<b><i>因果关系可以从随机化的实验中得到；但是很难从观察到的数据中得到。</i></b></p><p><b><i>另外一个例子说明 correlation 和 causation 的区别</i></b></p><p>考虑数据是由一段程序生成的：</p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-0df3a591c5ace4fd8898919852cd7a1c_b.png" data-caption="" data-size="normal" data-rawwidth="1776" data-rawheight="268" class="origin_image zh-lightbox-thumb" width="1776" data-original="https://pic1.zhimg.com/v2-0df3a591c5ace4fd8898919852cd7a1c_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1776&#39; height=&#39;268&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1776" data-rawheight="268" class="origin_image zh-lightbox-thumb lazy" width="1776" data-original="https://pic1.zhimg.com/v2-0df3a591c5ace4fd8898919852cd7a1c_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-0df3a591c5ace4fd8898919852cd7a1c_b.png"/></figure><p>估计 correlation <img src="https://www.zhihu.com/equation?tex=P%28Z%3Dz%7CY%3Dy%29" alt="P(Z=z|Y=y)" eeimg="1"/> 时，我们会统计 Z=z &amp; Y=y 的样本占 Y=y 样本的多大比例，它等价于</p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-bad223e9591490175561a34f8d98cf99_b.jpg" data-caption="" data-size="normal" data-rawwidth="1778" data-rawheight="486" class="origin_image zh-lightbox-thumb" width="1778" data-original="https://pic2.zhimg.com/v2-bad223e9591490175561a34f8d98cf99_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1778&#39; height=&#39;486&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1778" data-rawheight="486" class="origin_image zh-lightbox-thumb lazy" width="1778" data-original="https://pic2.zhimg.com/v2-bad223e9591490175561a34f8d98cf99_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-bad223e9591490175561a34f8d98cf99_b.jpg"/></figure><p>当我们研究因果关系的时候，我们是想知道，如果『设置』Y=y，会怎样引起 Z 的分布；该过程可以用如下程序模拟</p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-93001ec871b2909683bfe54c7263f956_b.jpg" data-caption="" data-size="normal" data-rawwidth="1826" data-rawheight="328" class="origin_image zh-lightbox-thumb" width="1826" data-original="https://pic3.zhimg.com/v2-93001ec871b2909683bfe54c7263f956_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1826&#39; height=&#39;328&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1826" data-rawheight="328" class="origin_image zh-lightbox-thumb lazy" width="1826" data-original="https://pic3.zhimg.com/v2-93001ec871b2909683bfe54c7263f956_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-93001ec871b2909683bfe54c7263f956_b.jpg"/></figure><p>在这种情况下，我们再统计 Z=z 占总体样本的比例，即</p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-31b42d1096cd75ecb2130b10ebf1cdd2_b.png" data-caption="" data-size="normal" data-rawwidth="1766" data-rawheight="132" class="origin_image zh-lightbox-thumb" width="1766" data-original="https://pic3.zhimg.com/v2-31b42d1096cd75ecb2130b10ebf1cdd2_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1766&#39; height=&#39;132&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1766" data-rawheight="132" class="origin_image zh-lightbox-thumb lazy" width="1766" data-original="https://pic3.zhimg.com/v2-31b42d1096cd75ecb2130b10ebf1cdd2_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-31b42d1096cd75ecb2130b10ebf1cdd2_b.png"/></figure><h3>二、Counterfactuals</h3><p>考虑一个 treatment X，和一个 outcome Y。我们能观察到的是一些数据 <img src="https://www.zhihu.com/equation?tex=%5C%7B%28X_i%2C+Y_i%29%5C%7D" alt="\{(X_i, Y_i)\}" eeimg="1"/> ，但是我们无法知道如果对于某一个数据点 <img src="https://www.zhihu.com/equation?tex=%28X_i%2C+Y_i%29" alt="(X_i, Y_i)" eeimg="1"/> ，如果改变 X 的值，Y 会怎么变。这件事情就叫做 counterfactual。Notes 里面给了一个图（下图），从数据上看，X 和 Y 是正相关的，但其实对于每一个 样本来说，如果增大 X，会引起 Y 的减小。这一点最开始看的时候并不好理解。举一个例子。研究航空公司票价（X）对销量（Y）的影响，显然，对于某一个客户来说，增加票价（X 变大）会降低客户购买意愿，即使得销量将达（Y 变小）。但是实际中的情况是，在节假日人们出行意愿大导致销量高（Y 大），定价也会相应变高（X 大），从而从数据上看，形成左边图的情形。</p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-7ef63b7e752a19e642400fe4dd37722e_b.jpg" data-caption="" data-size="normal" data-rawwidth="1355" data-rawheight="726" class="origin_image zh-lightbox-thumb" width="1355" data-original="https://pic3.zhimg.com/v2-7ef63b7e752a19e642400fe4dd37722e_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1355&#39; height=&#39;726&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1355" data-rawheight="726" class="origin_image zh-lightbox-thumb lazy" width="1355" data-original="https://pic3.zhimg.com/v2-7ef63b7e752a19e642400fe4dd37722e_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-7ef63b7e752a19e642400fe4dd37722e_b.jpg"/></figure><p>假设 X 取值 0 或者 1，Y 也取值 0 或者 1。引入变量 <img src="https://www.zhihu.com/equation?tex=Y_0%2C+Y_1" alt="Y_0, Y_1" eeimg="1"/> ，认为</p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-79051c30861fbdc7880422fba2a7738b_b.png" data-caption="" data-size="normal" data-rawwidth="1494" data-rawheight="143" class="origin_image zh-lightbox-thumb" width="1494" data-original="https://pic4.zhimg.com/v2-79051c30861fbdc7880422fba2a7738b_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1494&#39; height=&#39;143&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1494" data-rawheight="143" class="origin_image zh-lightbox-thumb lazy" width="1494" data-original="https://pic4.zhimg.com/v2-79051c30861fbdc7880422fba2a7738b_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-79051c30861fbdc7880422fba2a7738b_b.png"/></figure><p>这两个变量也叫做 potential outcome 或者 counterfactuals，因为如果在数据中观察到 X=0，就只能观察到 <img src="https://www.zhihu.com/equation?tex=Y%3DY_0" alt="Y=Y_0" eeimg="1"/> ，而此时的 <img src="https://www.zhihu.com/equation?tex=Y_1" alt="Y_1" eeimg="1"/> 就没法观察到了。比如，一个观察到的数据集长这样：</p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-6d091e3501f36e92f83b6b6802cca29b_b.jpg" data-caption="" data-size="normal" data-rawwidth="1501" data-rawheight="448" class="origin_image zh-lightbox-thumb" width="1501" data-original="https://pic4.zhimg.com/v2-6d091e3501f36e92f83b6b6802cca29b_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1501&#39; height=&#39;448&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1501" data-rawheight="448" class="origin_image zh-lightbox-thumb lazy" width="1501" data-original="https://pic4.zhimg.com/v2-6d091e3501f36e92f83b6b6802cca29b_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-6d091e3501f36e92f83b6b6802cca29b_b.jpg"/></figure><p>而我们关心的 <img src="https://www.zhihu.com/equation?tex=p%28Y%7C%5Ctext%7Bset+%7DX%3D0%29+%3D+p%28Y_0%29" alt="p(Y|\text{set }X=0) = p(Y_0)" eeimg="1"/> ， <img src="https://www.zhihu.com/equation?tex=p%28Y%7C%5Ctext%7Bset+%7DX%3D1%29+%3D+p%28Y_1%29" alt="p(Y|\text{set }X=1) = p(Y_1)" eeimg="1"/> 。而由于这些未知的 * 的存在，使得我们没有办法估计到它们。但是，显然有</p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-b3430491896f659b43f1072dc3ba902b_b.png" data-caption="" data-size="normal" data-rawwidth="1501" data-rawheight="80" class="origin_image zh-lightbox-thumb" width="1501" data-original="https://pic4.zhimg.com/v2-b3430491896f659b43f1072dc3ba902b_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1501&#39; height=&#39;80&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1501" data-rawheight="80" class="origin_image zh-lightbox-thumb lazy" width="1501" data-original="https://pic4.zhimg.com/v2-b3430491896f659b43f1072dc3ba902b_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-b3430491896f659b43f1072dc3ba902b_b.png"/></figure><p>定义</p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-4e9220f6ca271801667c5752bbdfc361_b.png" data-caption="" data-size="normal" data-rawwidth="1462" data-rawheight="57" class="origin_image zh-lightbox-thumb" width="1462" data-original="https://pic2.zhimg.com/v2-4e9220f6ca271801667c5752bbdfc361_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1462&#39; height=&#39;57&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1462" data-rawheight="57" class="origin_image zh-lightbox-thumb lazy" width="1462" data-original="https://pic2.zhimg.com/v2-4e9220f6ca271801667c5752bbdfc361_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-4e9220f6ca271801667c5752bbdfc361_b.png"/></figure><p>为 mean treatment effect，它可以被看做是一个衡量因果关系的参数；如果它大于零，表示我们设置 X=1 会在期望上增大 Y（这是一个因果推断）。</p><p>文章下面给出了一个定理，说明不可能从数据里面估计出 <img src="https://www.zhihu.com/equation?tex=%5Ctheta" alt="\theta" eeimg="1"/> 。</p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-2f6c87924f4d862b34f01983668d3b7e_b.png" data-caption="" data-size="normal" data-rawwidth="1487" data-rawheight="74" class="origin_image zh-lightbox-thumb" width="1487" data-original="https://pic3.zhimg.com/v2-2f6c87924f4d862b34f01983668d3b7e_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1487&#39; height=&#39;74&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1487" data-rawheight="74" class="origin_image zh-lightbox-thumb lazy" width="1487" data-original="https://pic3.zhimg.com/v2-2f6c87924f4d862b34f01983668d3b7e_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-2f6c87924f4d862b34f01983668d3b7e_b.png"/></figure><p>其中 uniformly consistent estimator 的定义是</p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-9bd67f9c532f6b5bd1fde0c2d80352e4_b.jpg" data-caption="" data-size="normal" data-rawwidth="1541" data-rawheight="265" class="origin_image zh-lightbox-thumb" width="1541" data-original="https://pic1.zhimg.com/v2-9bd67f9c532f6b5bd1fde0c2d80352e4_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1541&#39; height=&#39;265&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1541" data-rawheight="265" class="origin_image zh-lightbox-thumb lazy" width="1541" data-original="https://pic1.zhimg.com/v2-9bd67f9c532f6b5bd1fde0c2d80352e4_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-9bd67f9c532f6b5bd1fde0c2d80352e4_b.jpg"/></figure><p>其实这很好理解，可以构造两个数据集，它们有不同的 <img src="https://www.zhihu.com/equation?tex=p%28X%2CY_0%2CY_1%29" alt="p(X,Y_0,Y_1)" eeimg="1"/> 分布，使得它们 <img src="https://www.zhihu.com/equation?tex=%5Ctheta" alt="\theta" eeimg="1"/> 不同，但是形成的数据 <img src="https://www.zhihu.com/equation?tex=X%2CY" alt="X,Y" eeimg="1"/> 是一样的。这可以通过任意设置前面例子中的 * 来实现。</p><p>那么应该如何估计 <img src="https://www.zhihu.com/equation?tex=%5Ctheta" alt="\theta" eeimg="1"/> 呢？下面介绍两种方法：一种方法就是使用 randomization，另一种方法叫做 adjusting for confounding。</p><h3>三、用随机化来估计因果关系</h3><p>如果我们能够随机设定 X 的值，使得 X 和 <img src="https://www.zhihu.com/equation?tex=Y_0%2C+Y_1" alt="Y_0, Y_1" eeimg="1"/> 相互独立，就能有办法估计 <img src="https://www.zhihu.com/equation?tex=%5Ctheta" alt="\theta" eeimg="1"/> ，即</p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-61e8cf50a1e75ead2108b4c490fb6267_b.png" data-caption="" data-size="normal" data-rawwidth="1485" data-rawheight="89" class="origin_image zh-lightbox-thumb" width="1485" data-original="https://pic4.zhimg.com/v2-61e8cf50a1e75ead2108b4c490fb6267_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1485&#39; height=&#39;89&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1485" data-rawheight="89" class="origin_image zh-lightbox-thumb lazy" width="1485" data-original="https://pic4.zhimg.com/v2-61e8cf50a1e75ead2108b4c490fb6267_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-61e8cf50a1e75ead2108b4c490fb6267_b.png"/></figure><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-e30c9e4aed9ad89f1dff7ef475430614_b.jpg" data-caption="" data-size="normal" data-rawwidth="1543" data-rawheight="543" class="origin_image zh-lightbox-thumb" width="1543" data-original="https://pic1.zhimg.com/v2-e30c9e4aed9ad89f1dff7ef475430614_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1543&#39; height=&#39;543&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1543" data-rawheight="543" class="origin_image zh-lightbox-thumb lazy" width="1543" data-original="https://pic1.zhimg.com/v2-e30c9e4aed9ad89f1dff7ef475430614_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-e30c9e4aed9ad89f1dff7ef475430614_b.jpg"/></figure><p>可以这么做最主要的原因就是当 X 和 <img src="https://www.zhihu.com/equation?tex=Y_0%2C+Y_1" alt="Y_0, Y_1" eeimg="1"/> 相互独立时， <img src="https://www.zhihu.com/equation?tex=%5Cmathbb%7BE%7D%28Y_i%7CX%3Di%29%3D%5Cmathbb%7BE%7D%28Y_i%29" alt="\mathbb{E}(Y_i|X=i)=\mathbb{E}(Y_i)" eeimg="1"/> ，因此， <img src="https://www.zhihu.com/equation?tex=%5Calpha+%3D+%5Ctheta" alt="\alpha = \theta" eeimg="1"/> ，即</p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-2dbff9ea630205fbfd203b55705566a9_b.png" data-caption="" data-size="normal" data-rawwidth="1467" data-rawheight="158" class="origin_image zh-lightbox-thumb" width="1467" data-original="https://pic2.zhimg.com/v2-2dbff9ea630205fbfd203b55705566a9_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1467&#39; height=&#39;158&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1467" data-rawheight="158" class="origin_image zh-lightbox-thumb lazy" width="1467" data-original="https://pic2.zhimg.com/v2-2dbff9ea630205fbfd203b55705566a9_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-2dbff9ea630205fbfd203b55705566a9_b.png"/></figure><p>总结来说，在完全随机的情况下（X 和 <img src="https://www.zhihu.com/equation?tex=Y_0%2C+Y_1" alt="Y_0, Y_1" eeimg="1"/> 相互独立），correlation=causation。</p><p>【注】Randomization 并不意味着 X 的选取要是 uniformly random（比如一半选 0，一半选 1），可以令 X 为任意分布，只要它和 <img src="https://www.zhihu.com/equation?tex=Y_0%2C+Y_1" alt="Y_0, Y_1" eeimg="1"/> 相互独立即可。</p><h3>四、Adjusting for Confounders</h3><p>有些时候我们没法做实验，只能从可以观察的数据中来估计。比如，研究抽烟（X）和肺癌（Y）之间的因果关系，不可能故意选人去让他抽烟或者不抽烟。那么应该如何找到其中的因果关系呢？</p><p><b>Causal inference in observational studies is not possible without subject matter knowledge</b></p><p>注意到，观察到的数据中不能假设 X 和 <img src="https://www.zhihu.com/equation?tex=Y_0%2C+Y_1" alt="Y_0, Y_1" eeimg="1"/> 相互独立。这里考虑一个例子，服用 VC（X）对于健康与否（Y）的关系。一个健康的人不论吃不吃 VC，理应都是健康的，但是健康的人喜欢吃 VC；一个不健康的人无论吃不吃 VC，他都不健康。因此，我们可能观察到如下数据（X=1 表示吃 VC，Y=1 表示健康）。</p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-e63e10dbd39e6dbde53d973a9883e8a3_b.png" data-caption="" data-size="normal" data-rawwidth="1494" data-rawheight="194" class="origin_image zh-lightbox-thumb" width="1494" data-original="https://pic4.zhimg.com/v2-e63e10dbd39e6dbde53d973a9883e8a3_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1494&#39; height=&#39;194&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1494" data-rawheight="194" class="origin_image zh-lightbox-thumb lazy" width="1494" data-original="https://pic4.zhimg.com/v2-e63e10dbd39e6dbde53d973a9883e8a3_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-e63e10dbd39e6dbde53d973a9883e8a3_b.png"/></figure><p>因此，实际情况是吃 VC 和健康之间没有因果关系，即 <img src="https://www.zhihu.com/equation?tex=%5Ctheta%3D0" alt="\theta=0" eeimg="1"/> ；但是从数据中的估计来看，这二者之间有很强的关联，即 <img src="https://www.zhihu.com/equation?tex=%5Calpha%3D0" alt="\alpha=0" eeimg="1"/> 。</p><p><b><i>Use confounding variables</i></b></p><p>虽然在数据中 X 和 <img src="https://www.zhihu.com/equation?tex=Y_0%2C+Y_1" alt="Y_0, Y_1" eeimg="1"/> 不相互独立，但是如果我们能够找到共同影响 X 和 Y 的因素，并把它通过某种统计方式排除的话，也可以可以做因果推断的。这里的共同因素就是 confounding variables Z，即希望找到一个 <img src="https://www.zhihu.com/equation?tex=Z%3D%28Z_1%2C+%5Ccdots%2C+Z_k%29" alt="Z=(Z_1, \cdots, Z_k)" eeimg="1"/> ，使得 there is <i><b>no unmeasured confoundings</b></i> or <i><b>ignorability holds</b></i>。</p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-691395286bf82adec290e9f0743ff870_b.png" data-caption="" data-size="normal" data-rawwidth="1465" data-rawheight="67" class="origin_image zh-lightbox-thumb" width="1465" data-original="https://pic1.zhimg.com/v2-691395286bf82adec290e9f0743ff870_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1465&#39; height=&#39;67&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1465" data-rawheight="67" class="origin_image zh-lightbox-thumb lazy" width="1465" data-original="https://pic1.zhimg.com/v2-691395286bf82adec290e9f0743ff870_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-691395286bf82adec290e9f0743ff870_b.png"/></figure><p>下面的定理就是说，如果 能够观察到这样的 confounding variable，那么也能够做因果推断。</p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-c9477585eeeca79792abae1d6af58a02_b.png" data-caption="" data-size="normal" data-rawwidth="1555" data-rawheight="136" class="origin_image zh-lightbox-thumb" width="1555" data-original="https://pic3.zhimg.com/v2-c9477585eeeca79792abae1d6af58a02_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1555&#39; height=&#39;136&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1555" data-rawheight="136" class="origin_image zh-lightbox-thumb lazy" width="1555" data-original="https://pic3.zhimg.com/v2-c9477585eeeca79792abae1d6af58a02_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-c9477585eeeca79792abae1d6af58a02_b.png"/></figure><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-94d4f8150fc44a91fc7dca16c6e09417_b.jpg" data-caption="" data-size="normal" data-rawwidth="1532" data-rawheight="573" class="origin_image zh-lightbox-thumb" width="1532" data-original="https://pic4.zhimg.com/v2-94d4f8150fc44a91fc7dca16c6e09417_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1532&#39; height=&#39;573&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1532" data-rawheight="573" class="origin_image zh-lightbox-thumb lazy" width="1532" data-original="https://pic4.zhimg.com/v2-94d4f8150fc44a91fc7dca16c6e09417_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-94d4f8150fc44a91fc7dca16c6e09417_b.jpg"/></figure><p>证明过程也比较好理解，因为在 Z 给定之后 X 和 <img src="https://www.zhihu.com/equation?tex=Y_0%2C+Y_1" alt="Y_0, Y_1" eeimg="1"/> 是相互独立的（箭头标注的那一步）。</p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-d1d3027db0a3bca40202cac23ad53db4_b.jpg" data-caption="" data-size="normal" data-rawwidth="1482" data-rawheight="346" class="origin_image zh-lightbox-thumb" width="1482" data-original="https://pic1.zhimg.com/v2-d1d3027db0a3bca40202cac23ad53db4_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1482&#39; height=&#39;346&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1482" data-rawheight="346" class="origin_image zh-lightbox-thumb lazy" width="1482" data-original="https://pic1.zhimg.com/v2-d1d3027db0a3bca40202cac23ad53db4_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-d1d3027db0a3bca40202cac23ad53db4_b.jpg"/></figure><p>这个方法叫做 adjusting for confounders，同时也把这上面的 <img src="https://www.zhihu.com/equation?tex=%5Chat+%5Ctheta" alt="\hat \theta" eeimg="1"/> 叫做 adjusted treatment effect。</p><p>Intuitive 地来说，拿航空公司票价（X）和销量（Y）的例子来说，它们可能受到节假日（Z）的影响，节假日的时候（Z=1）票价高，销量也大。要搞清楚其中的因果关系，就需要分别在是节假日（Z=1）和非节假日的时候（Z=0）统计 X、Y 的关系。</p><p><b><i>The usual bias-variance tradeoff does not apply</i></b></p><p>Notes 里面提到，在估计 <img src="https://www.zhihu.com/equation?tex=%5Chat+%5Cmu%28x%2Cz%29" alt="\hat \mu(x,z)" eeimg="1"/> 的时候要特别小心，在因果推断里面 bias 的危害会更大，因此拟合的时候会尽量更『平滑』。这一块有特别的一些方法来解决该问题，叫 semiparametric inference 以及后面会讲的 matching。</p><p>对于前面这个离散的例子来说，可以对 <img src="https://www.zhihu.com/equation?tex=%5Cmu%28x%2Cz%29%3D%5Cmathbb%7BE%7D%5BY%7CX%3Dx%2C+Z%3Dz%5D" alt="\mu(x,z)=\mathbb{E}[Y|X=x, Z=z]" eeimg="1"/> 做线性拟合，即 <img src="https://www.zhihu.com/equation?tex=%5Cmu%28x%2Cz%29%3D%5Cmathbb%7BE%7D%5BY%7CX%3Dx%2C+Z%3Dz%5D%3D%5Cbeta_0+%2B+%5Cbeta_1+x+%2B+%5Cbeta_2%5ET+z" alt="\mu(x,z)=\mathbb{E}[Y|X=x, Z=z]=\beta_0 + \beta_1 x + \beta_2^T z" eeimg="1"/> 。我们可以看到，这种情况下，线性回归中 x 前面的系数就代表了 x 的 causal effect。</p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-fa801e044e73ad5ac6f1aaae9dac744b_b.png" data-caption="" data-size="normal" data-rawwidth="1479" data-rawheight="100" class="origin_image zh-lightbox-thumb" width="1479" data-original="https://pic4.zhimg.com/v2-fa801e044e73ad5ac6f1aaae9dac744b_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1479&#39; height=&#39;100&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1479" data-rawheight="100" class="origin_image zh-lightbox-thumb lazy" width="1479" data-original="https://pic4.zhimg.com/v2-fa801e044e73ad5ac6f1aaae9dac744b_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-fa801e044e73ad5ac6f1aaae9dac744b_b.png"/></figure><p>对于连续的情形类似地，有</p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-5c68e07d391a8573b8f67cfb66d54490_b.png" data-caption="" data-size="normal" data-rawwidth="1518" data-rawheight="198" class="origin_image zh-lightbox-thumb" width="1518" data-original="https://pic1.zhimg.com/v2-5c68e07d391a8573b8f67cfb66d54490_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1518&#39; height=&#39;198&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1518" data-rawheight="198" class="origin_image zh-lightbox-thumb lazy" width="1518" data-original="https://pic1.zhimg.com/v2-5c68e07d391a8573b8f67cfb66d54490_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-5c68e07d391a8573b8f67cfb66d54490_b.png"/></figure><p>总结：<b><u>如果 1）线性模型正确；2）所有的 confounding variables 都包含到回归方程中了，那么 x 前面的系数就表示 x 的 causal effect。</u></b></p><h3>五、Causal Graphs</h3><p>Causal graph 是一个有向无环图（DAG），表明了各个变量之间的联合概率分布</p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-e8b5d3e12812c7ac951dc5a1f1bc8d80_b.png" data-caption="" data-size="normal" data-rawwidth="1485" data-rawheight="103" class="origin_image zh-lightbox-thumb" width="1485" data-original="https://pic1.zhimg.com/v2-e8b5d3e12812c7ac951dc5a1f1bc8d80_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1485&#39; height=&#39;103&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1485" data-rawheight="103" class="origin_image zh-lightbox-thumb lazy" width="1485" data-original="https://pic1.zhimg.com/v2-e8b5d3e12812c7ac951dc5a1f1bc8d80_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-e8b5d3e12812c7ac951dc5a1f1bc8d80_b.png"/></figure><p>下面举例说明，在给定一个 causal graph 之后，如何做因果推断。考虑下面一个 causal graph，目标是求 <img src="https://www.zhihu.com/equation?tex=p%28y%7C%5Ctext%7Bset+%7D+X%3Dx%29" alt="p(y|\text{set } X=x)" eeimg="1"/> 。</p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-70446f03cba31a90deef7f4404cb9385_b.jpg" data-caption="" data-size="normal" data-rawwidth="1520" data-rawheight="350" class="origin_image zh-lightbox-thumb" width="1520" data-original="https://pic2.zhimg.com/v2-70446f03cba31a90deef7f4404cb9385_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1520&#39; height=&#39;350&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1520" data-rawheight="350" class="origin_image zh-lightbox-thumb lazy" width="1520" data-original="https://pic2.zhimg.com/v2-70446f03cba31a90deef7f4404cb9385_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-70446f03cba31a90deef7f4404cb9385_b.jpg"/></figure><p>首先，可以看出该 causal graph 提供的信息为 <img src="https://www.zhihu.com/equation?tex=p%28x%2Cy%2Cz%29%3Dp%28z%29p%28x%7Cz%29p%28y%7Cx%2Cz%29" alt="p(x,y,z)=p(z)p(x|z)p(y|x,z)" eeimg="1"/>。</p><p>接下来，由于考虑的是设定 X 的数值的影响，因此构建一个新图 <img src="https://www.zhihu.com/equation?tex=G_%2A" alt="G_*" eeimg="1"/> ，移除掉所有指向 X 的边，得到新的联合概率分布 <img src="https://www.zhihu.com/equation?tex=p_%2A%28y%2Cz%29%3Dp%28z%29p%28y%7Cx%2Cz%29" alt="p_*(y,z)=p(z)p(y|x,z)" eeimg="1"/> 。</p><p>最后，该概率分布下的数值就是因果推断的结果</p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-a7534764257b3c0d796caf96d2804106_b.png" data-caption="" data-size="normal" data-rawwidth="1476" data-rawheight="91" class="origin_image zh-lightbox-thumb" width="1476" data-original="https://pic3.zhimg.com/v2-a7534764257b3c0d796caf96d2804106_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1476&#39; height=&#39;91&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1476" data-rawheight="91" class="origin_image zh-lightbox-thumb lazy" width="1476" data-original="https://pic3.zhimg.com/v2-a7534764257b3c0d796caf96d2804106_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-a7534764257b3c0d796caf96d2804106_b.png"/></figure><p>在 <img src="https://www.zhihu.com/equation?tex=X%3D%5C%7B0%2C1%5C%7D" alt="X=\{0,1\}" eeimg="1"/> 情形下，</p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-bf9e1a5a0847a83365f9613ecfd5600e_b.png" data-caption="" data-size="normal" data-rawwidth="1586" data-rawheight="91" class="origin_image zh-lightbox-thumb" width="1586" data-original="https://pic3.zhimg.com/v2-bf9e1a5a0847a83365f9613ecfd5600e_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1586&#39; height=&#39;91&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1586" data-rawheight="91" class="origin_image zh-lightbox-thumb lazy" width="1586" data-original="https://pic3.zhimg.com/v2-bf9e1a5a0847a83365f9613ecfd5600e_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-bf9e1a5a0847a83365f9613ecfd5600e_b.png"/></figure><p><b><i>和 adjusting for confounder 方法的等价性</i></b></p><p>比如还是在 <img src="https://www.zhihu.com/equation?tex=X%3D%5C%7B0%2C1%5C%7D" alt="X=\{0,1\}" eeimg="1"/> 情形下，从上述方法出发计算 <img src="https://www.zhihu.com/equation?tex=%5Ctheta" alt="\theta" eeimg="1"/> </p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-0b56267e722cb1b29ad236d8619a7a57_b.png" data-caption="" data-size="normal" data-rawwidth="1620" data-rawheight="258" class="origin_image zh-lightbox-thumb" width="1620" data-original="https://pic4.zhimg.com/v2-0b56267e722cb1b29ad236d8619a7a57_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1620&#39; height=&#39;258&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1620" data-rawheight="258" class="origin_image zh-lightbox-thumb lazy" width="1620" data-original="https://pic4.zhimg.com/v2-0b56267e722cb1b29ad236d8619a7a57_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-0b56267e722cb1b29ad236d8619a7a57_b.png"/></figure><p>其结果和 adjusting for confounder 方法一致。</p><p><b><i>和 randomized experiment 方法的等价性</i></b></p><p>当 X 的选取是随机时，就没有从 Z 到 X 的箭头了，因此直接在概率图上计算可以得到 <img src="https://www.zhihu.com/equation?tex=%5Ctheta+%3D%5Cmathbb%7BE%7D%28Y%7CX%3D1%29+-+%5Cmathbb%7BE%7D%28Y%7CX%3D0%29+" alt="\theta =\mathbb{E}(Y|X=1) - \mathbb{E}(Y|X=0) " eeimg="1"/> ，和这里得到的一致。</p><p><b><i>Causal graph 和 probability graph 的区别</i></b></p><p>举例说明，比如下雨（Rain，R）和湿草坪（Wet Lawn，W）是不相互独立的， 即 <img src="https://www.zhihu.com/equation?tex=p%28w%2Cr%29%5Cneq+p%28w%29p%28r%29" alt="p(w,r)\neq p(w)p(r)" eeimg="1"/> 。</p><p>对于下两种 DAG，它们都是合理的 probability graph，即对于任意的联合概率分布 <img src="https://www.zhihu.com/equation?tex=p%28w%2Cr%29" alt="p(w,r)" eeimg="1"/> ，都可以写成 <img src="https://www.zhihu.com/equation?tex=p%28w%29p%28r%7Cw%29" alt="p(w)p(r|w)" eeimg="1"/> 或者 <img src="https://www.zhihu.com/equation?tex=p%28r%29p%28w%7Cr%29" alt="p(r)p(w|r)" eeimg="1"/> 。但显然下雨是因、草坪湿是果，只有左边的图才是正确的 causal graph。</p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-e056d51d03120af73111857964919521_b.png" data-caption="" data-size="normal" data-rawwidth="1886" data-rawheight="70" class="origin_image zh-lightbox-thumb" width="1886" data-original="https://pic2.zhimg.com/v2-e056d51d03120af73111857964919521_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1886&#39; height=&#39;70&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1886" data-rawheight="70" class="origin_image zh-lightbox-thumb lazy" width="1886" data-original="https://pic2.zhimg.com/v2-e056d51d03120af73111857964919521_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-e056d51d03120af73111857964919521_b.png"/></figure><p>分析 <img src="https://www.zhihu.com/equation?tex=p%28r%7C%5Ctext%7Bset+%7Dw%3D1%29" alt="p(r|\text{set }w=1)" eeimg="1"/> ，按照应该关系，把草坪弄湿不会影响是否下雨。对左边的图推断 <img src="https://www.zhihu.com/equation?tex=p%28r%7C%5Ctext%7Bset+%7Dw%3D1%29" alt="p(r|\text{set }w=1)" eeimg="1"/> ，先把指向 W 的边去掉，形成如下图</p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-6f2413f2d65e4db7cf0c3b38649f57c8_b.png" data-caption="" data-size="normal" data-rawwidth="1892" data-rawheight="114" class="origin_image zh-lightbox-thumb" width="1892" data-original="https://pic1.zhimg.com/v2-6f2413f2d65e4db7cf0c3b38649f57c8_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1892&#39; height=&#39;114&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1892" data-rawheight="114" class="origin_image zh-lightbox-thumb lazy" width="1892" data-original="https://pic1.zhimg.com/v2-6f2413f2d65e4db7cf0c3b38649f57c8_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-6f2413f2d65e4db7cf0c3b38649f57c8_b.png"/></figure><p>因此得到 <img src="https://www.zhihu.com/equation?tex=p_%2A%28r%29+%3D+p%28r%29" alt="p_*(r) = p(r)" eeimg="1"/> ，由此得出结论 <img src="https://www.zhihu.com/equation?tex=p%28r%7C%5Ctext%7Bset+%7Dw%3D1%29%3Dp%28r%29" alt="p(r|\text{set }w=1)=p(r)" eeimg="1"/> ，即草坪弄湿不引起下雨。</p><h3>六、Causal Discovery 是不可能的</h3><p>下面想说明的是在不做 randomized experiment 并且也观察不到所有 confounders 时，研究两个变量之间是否有因果关系是不可能的。</p><p>考虑一个最简单的情形，就是研究『 X 是否引起 Y（X、Y 之间是否有因果关系）』；同时能够肯定地排除掉『Y 引起 X 』的情形（比如，时间先后关系，发生在后面的不可能引起发生在前面的）。考虑可能的 confounding variable U，它们之间可能的关系有如下八种。</p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-edfcef2a73ca7af8d29a1f755bde8c81_b.jpg" data-caption="" data-size="normal" data-rawwidth="1206" data-rawheight="958" class="origin_image zh-lightbox-thumb" width="1206" data-original="https://pic2.zhimg.com/v2-edfcef2a73ca7af8d29a1f755bde8c81_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1206&#39; height=&#39;958&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1206" data-rawheight="958" class="origin_image zh-lightbox-thumb lazy" width="1206" data-original="https://pic2.zhimg.com/v2-edfcef2a73ca7af8d29a1f755bde8c81_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-edfcef2a73ca7af8d29a1f755bde8c81_b.jpg"/></figure><p>如果我们只能观察到 X、Y 的数据，能做的是估计 <img src="https://www.zhihu.com/equation?tex=%5Calpha" alt="\alpha" eeimg="1"/> 。如果 <img src="https://www.zhihu.com/equation?tex=%5Calpha%5Cneq+0" alt="\alpha\neq 0" eeimg="1"/> 说明 X、Y 之间有关联，因此可能的情况是 4-8，这里面有些情况下 X-&gt;Y，有些是没有，因此无法得出什么有效的结论；如果 <img src="https://www.zhihu.com/equation?tex=%5Calpha%3D0" alt="\alpha=0" eeimg="1"/> ，基本上锁定是 1-3 中的情况，我们发现这三种情况中 X 都不引起 Y，于是我们能得出结论 X 和 Y 之间没有因果关系。这是错的！</p><p>情况 8 也能够引起 <img src="https://www.zhihu.com/equation?tex=%5Calpha%3D0" alt="\alpha=0" eeimg="1"/> ！比如 X-&gt;Y 的影响可能会被 U-&gt;Y 的影响抵消，这称作 unfaithfulness，这样的情形记做 <img src="https://www.zhihu.com/equation?tex=%5Cmathcal%7BB%7D" alt="\mathcal{B}" eeimg="1"/> 。举一个粗俗的例子，比如情况 8 中的关系都是确定性的，Y|U = -U, Y|X,U = X+U，于是乎，按照这样的模型生成的 Y 全部等于零，显然估计出来的 <img src="https://www.zhihu.com/equation?tex=%5Chat%5Calpha+%5Capprox+0" alt="\hat\alpha \approx 0" eeimg="1"/> 。</p><p>因此，要想得出结论得出结论 X 和 Y 之间没有因果关系，还必须限定 faithfulness。</p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-f51fa6cfb19f292e0e5fa00c1a6275ff_b.png" data-caption="" data-size="normal" data-rawwidth="1802" data-rawheight="158" class="origin_image zh-lightbox-thumb" width="1802" data-original="https://pic4.zhimg.com/v2-f51fa6cfb19f292e0e5fa00c1a6275ff_r.jpg"/><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1802&#39; height=&#39;158&#39;&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1802" data-rawheight="158" class="origin_image zh-lightbox-thumb lazy" width="1802" data-original="https://pic4.zhimg.com/v2-f51fa6cfb19f292e0e5fa00c1a6275ff_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-f51fa6cfb19f292e0e5fa00c1a6275ff_b.png"/></figure><p>Notes 后面还讲了，总存在一个 faithful 的分布使得在样本足够多的时候，产生足够大的 type I error。</p></div></div><div class="ContentItem-time">发布于 2019-10-24</div><div class="Post-topicsAndReviewer"><div class="TopicList Post-Topics"><div class="Tag Topic"><span class="Tag-content"><a class="TopicLink" href="//www.zhihu.com/topic/19624891" target="_blank"><div class="Popover"><div id="null-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="null-content">因果</div></div></a></span></div><div class="Tag Topic"><span class="Tag-content"><a class="TopicLink" href="//www.zhihu.com/topic/19558740" target="_blank"><div class="Popover"><div id="null-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="null-content">统计学</div></div></a></span></div><div class="Tag Topic"><span class="Tag-content"><a class="TopicLink" href="//www.zhihu.com/topic/19623195" target="_blank"><div class="Popover"><div id="null-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="null-content">因果律</div></div></a></span></div></div></div><div><div class="Sticky RichContent-actions is-bottom"><div class="ContentItem-actions"><span><button aria-label="赞同 96 " type="button" class="Button VoteButton VoteButton--up"><span style="display:inline-flex;align-items:center">​<svg class="Zi Zi--TriangleUp VoteButton-TriangleUp" fill="currentColor" viewBox="0 0 24 24" width="10" height="10"><path d="M2 18.242c0-.326.088-.532.237-.896l7.98-13.203C10.572 3.57 11.086 3 12 3c.915 0 1.429.571 1.784 1.143l7.98 13.203c.15.364.236.57.236.896 0 1.386-.875 1.9-1.955 1.9H3.955c-1.08 0-1.955-.517-1.955-1.9z" fill-rule="evenodd"></path></svg></span>赞同 96</button><button aria-label="反对" type="button" class="Button VoteButton VoteButton--down"><span style="display:inline-flex;align-items:center">​<svg class="Zi Zi--TriangleDown" fill="currentColor" viewBox="0 0 24 24" width="10" height="10"><path d="M20.044 3H3.956C2.876 3 2 3.517 2 4.9c0 .326.087.533.236.896L10.216 19c.355.571.87 1.143 1.784 1.143s1.429-.572 1.784-1.143l7.98-13.204c.149-.363.236-.57.236-.896 0-1.386-.876-1.9-1.956-1.9z" fill-rule="evenodd"></path></svg></span></button></span><button type="button" class="Button BottomActions-CommentBtn Button--plain Button--withIcon Button--withLabel"><span style="display:inline-flex;align-items:center">​<svg class="Zi Zi--Comment Button-zi" fill="currentColor" viewBox="0 0 24 24" width="1.2em" height="1.2em"><path d="M10.241 19.313a.97.97 0 0 0-.77.2 7.908 7.908 0 0 1-3.772 1.482.409.409 0 0 1-.38-.637 5.825 5.825 0 0 0 1.11-2.237.605.605 0 0 0-.227-.59A7.935 7.935 0 0 1 3 11.25C3 6.7 7.03 3 12 3s9 3.7 9 8.25-4.373 9.108-10.759 8.063z" fill-rule="evenodd"></path></svg></span>6 条评论</button><div class="Popover ShareMenu"><div class="ShareMenu-toggler" id="null-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="null-content"><button type="button" class="Button Button--plain Button--withIcon Button--withLabel"><span style="display:inline-flex;align-items:center">​<svg class="Zi Zi--Share Button-zi" fill="currentColor" viewBox="0 0 24 24" width="1.2em" height="1.2em"><path d="M2.931 7.89c-1.067.24-1.275 1.669-.318 2.207l5.277 2.908 8.168-4.776c.25-.127.477.198.273.39L9.05 14.66l.927 5.953c.18 1.084 1.593 1.376 2.182.456l9.644-15.242c.584-.892-.212-2.029-1.234-1.796L2.93 7.89z" fill-rule="evenodd"></path></svg></span>分享</button></div></div><button type="button" class="Button ContentItem-action Button--plain Button--withIcon Button--withLabel"><span style="display:inline-flex;align-items:center">​<svg class="Zi Zi--Heart Button-zi" fill="currentColor" viewBox="0 0 24 24" width="1.2em" height="1.2em"><path d="M2 8.437C2 5.505 4.294 3.094 7.207 3 9.243 3 11.092 4.19 12 6c.823-1.758 2.649-3 4.651-3C19.545 3 22 5.507 22 8.432 22 16.24 13.842 21 12 21 10.158 21 2 16.24 2 8.437z" fill-rule="evenodd"></path></svg></span>喜欢</button><button type="button" class="Button ContentItem-action Button--plain Button--withIcon Button--withLabel"><span style="display:inline-flex;align-items:center">​<svg class="Zi Zi--Star Button-zi" fill="currentColor" viewBox="0 0 24 24" width="1.2em" height="1.2em"><path d="M5.515 19.64l.918-5.355-3.89-3.792c-.926-.902-.639-1.784.64-1.97L8.56 7.74l2.404-4.871c.572-1.16 1.5-1.16 2.072 0L15.44 7.74l5.377.782c1.28.186 1.566 1.068.64 1.97l-3.89 3.793.918 5.354c.219 1.274-.532 1.82-1.676 1.218L12 18.33l-4.808 2.528c-1.145.602-1.896.056-1.677-1.218z" fill-rule="evenodd"></path></svg></span>收藏</button><div class="Post-ActionMenuButton"><div class="Popover"><div id="null-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="null-content"><button type="button" class="Button Button--plain Button--withIcon Button--iconOnly"><span style="display:inline-flex;align-items:center">​<svg class="Zi Zi--Dots Button-zi" fill="currentColor" viewBox="0 0 24 24" width="1.2em" height="1.2em"><path d="M5 14a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm7 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm7 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4z" fill-rule="evenodd"></path></svg></span></button></div></div></div></div></div></div></article><div class="Post-Sub Post-NormalSub"><div class="PostIndex-Contributions"><h3 class="BlockTitle">文章被以下专栏收录</h3><ul><div class="ContentItem Column-ColumnItem"><div class="ContentItem-main"><div class="ContentItem-image"><a class="ColumnLink" href="/reinforcementlearning"><div class="Popover"><div id="null-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="null-content"><img class="Avatar Avatar--medium Avatar--round" width="40" height="40" src="https://pic2.zhimg.com/v2-5d1f04a84f6be8896c07a32a05e1d6d1_xs.jpg" srcSet="https://pic2.zhimg.com/v2-5d1f04a84f6be8896c07a32a05e1d6d1_l.jpg 2x" alt="强化学习前沿"/></div></div></a></div><div class="ContentItem-head"><h2 class="ContentItem-title"><a class="ColumnLink ColumnItem-Title" href="/reinforcementlearning"><div class="Popover"><div id="null-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="null-content">强化学习前沿</div></div></a></h2><div class="ContentItem-meta">读呀读paper</div></div><div class="ContentItem-extra"><a href="/reinforcementlearning" type="button" class="Button">进入专栏</a></div></div></div></ul></div></div></div></main></div></div><script nonce="73fe09b8-6a51-46d4-8d51-14e56a527fc6" async="" src="https://www.googletagmanager.com/gtag/js?id=UA-149949619-1"></script><script nonce="73fe09b8-6a51-46d4-8d51-14e56a527fc6">function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-149949619-1");</script><script id="js-clientConfig" type="text/json">{"host":"zhihu.com","protocol":"https:","wwwHost":"www.zhihu.com","fetchRoot":{"www":"https:\u002F\u002Fwww.zhihu.com","api":"https:\u002F\u002Fapi.zhihu.com","zhuanlan":"https:\u002F\u002Fzhuanlan.zhihu.com"}}</script><script id="js-initialData" type="text/json">{"initialState":{"common":{"ask":{}},"loading":{"global":{"count":0},"local":{"env\u002FgetIpinfo\u002F":false,"article\u002Fget\u002F":false,"brand\u002FgetUrl\u002F":false}},"club":{"tags":{}},"entities":{"users":{"zhang-chu-heng":{"isFollowed":false,"avatarUrlTemplate":"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-2b7c11f27a7fd03282819889435815aa_{size}.jpg","uid":"35077274730496","userType":"people","isFollowing":false,"urlToken":"zhang-chu-heng","id":"db39e3e0528520071b0a6e5f6240cfea","description":"","name":"张楚珩","isAdvertiser":false,"headline":"强化学习 量化投资","gender":1,"url":"\u002Fpeople\u002Fdb39e3e0528520071b0a6e5f6240cfea","avatarUrl":"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-2b7c11f27a7fd03282819889435815aa_l.jpg","isOrg":false,"type":"people","badge":[{"type":"identity","topics":[],"description":"清华大学 交叉信息院博士在读"}],"exposedMedal":{"medalId":"1124316222665379841","medalName":"我的知乎 2019","avatarUrl":"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-2592b0b52e1fac99f69b38e00252413b_r.png","miniAvatarUrl":"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-ad363cc3088dc8de7544fd08b1c4987a_is.png","description":"参与「我的知乎 2019」即可获得"}}},"questions":{},"answers":{},"articles":{"88173582":{"trackUrl":["https:\u002F\u002Fsugar.zhihu.com\u002Fplutus_adreaper\u002Fpage_monitor_log?si=__SESSIONID__&ti=__ATOKEN__&at=view&pf=__OS__&ed=__MEMBERID__&idfa=__IDFA__&imei=__IMEI__&androidid=__ANDROIDID__&oaid=__OAID__&ci=__CREATIVEID__"],"id":88173582,"title":"【统计】Causal Inference","type":"article","excerptTitle":"","url":"https:\u002F\u002Fzhuanlan.zhihu.com\u002Fp\u002F88173582","imageUrl":"","titleImage":"","excerpt":"\u003Cimg src=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-69d6e96213b77dbbf5adffbc00e76a49_200x112.png\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1239\" data-rawheight=\"129\" data-watermark=\"\" data-original-src=\"\" data-watermark-src=\"\" data-private-watermark-src=\"\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-69d6e96213b77dbbf5adffbc00e76a49_r.png\" class=\"origin_image inline-img zh-lightbox-thumb\"\u002F\u003E学习一下因果推断，做一个笔记。原文传送门\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=http%3A\u002F\u002Fwww.stat.cmu.edu\u002F~larry\u002F%3Dsml\u002FCausation.pdf\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003E\u003Cspan class=\"invisible\"\u003Ehttp:\u002F\u002Fwww.\u003C\u002Fspan\u003E\u003Cspan class=\"visible\"\u003Estat.cmu.edu\u002F~larry\u002F=sm\u003C\u002Fspan\u003E\u003Cspan class=\"invisible\"\u003El\u002FCausation.pdf\u003C\u002Fspan\u003E\u003Cspan class=\"ellipsis\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E过程一、Prediction 和 causation 的区别现实中遇到的很多问题实际上是因果问题，而不是预测。\u003Cb\u003E\u003Ci\u003E因果问题分为两种\u003C\u002Fi\u003E\u003C\u002Fb\u003E：一种是 causal inference，比如给定两个变量 X、Y，希望找到一个衡量它们之间…","created":1571882321,"updated":1571882321,"author":{"isFollowed":false,"avatarUrlTemplate":"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-2b7c11f27a7fd03282819889435815aa_{size}.jpg","uid":"35077274730496","userType":"people","isFollowing":false,"urlToken":"zhang-chu-heng","id":"db39e3e0528520071b0a6e5f6240cfea","description":"","name":"张楚珩","isAdvertiser":false,"headline":"强化学习 量化投资","gender":1,"url":"\u002Fpeople\u002Fdb39e3e0528520071b0a6e5f6240cfea","avatarUrl":"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-2b7c11f27a7fd03282819889435815aa_l.jpg","isOrg":false,"type":"people","badge":[{"type":"identity","topics":[],"description":"清华大学 交叉信息院博士在读"}],"exposedMedal":{"medalId":"1124316222665379841","medalName":"我的知乎 2019","avatarUrl":"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-2592b0b52e1fac99f69b38e00252413b_r.png","miniAvatarUrl":"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-ad363cc3088dc8de7544fd08b1c4987a_is.png","description":"参与「我的知乎 2019」即可获得"}},"commentPermission":"all","state":"published","imageWidth":0,"imageHeight":0,"content":"\u003Cp\u003E学习一下因果推断，做一个笔记。\u003C\u002Fp\u003E\u003Ch2\u003E原文传送门\u003C\u002Fh2\u003E\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=http%3A\u002F\u002Fwww.stat.cmu.edu\u002F~larry\u002F%3Dsml\u002FCausation.pdf\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003E\u003Cspan class=\"invisible\"\u003Ehttp:\u002F\u002Fwww.\u003C\u002Fspan\u003E\u003Cspan class=\"visible\"\u003Estat.cmu.edu\u002F~larry\u002F=sm\u003C\u002Fspan\u003E\u003Cspan class=\"invisible\"\u003El\u002FCausation.pdf\u003C\u002Fspan\u003E\u003Cspan class=\"ellipsis\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003Ch2\u003E过程\u003C\u002Fh2\u003E\u003Ch3\u003E一、Prediction 和 causation 的区别\u003C\u002Fh3\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-69d6e96213b77dbbf5adffbc00e76a49_b.png\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1239\" data-rawheight=\"129\" class=\"origin_image zh-lightbox-thumb\" width=\"1239\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-69d6e96213b77dbbf5adffbc00e76a49_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1239&#39; height=&#39;129&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1239\" data-rawheight=\"129\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1239\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-69d6e96213b77dbbf5adffbc00e76a49_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-69d6e96213b77dbbf5adffbc00e76a49_b.png\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-085098d32b9e894f49c33ad67afb9e73_b.png\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1241\" data-rawheight=\"138\" class=\"origin_image zh-lightbox-thumb\" width=\"1241\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-085098d32b9e894f49c33ad67afb9e73_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1241&#39; height=&#39;138&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1241\" data-rawheight=\"138\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1241\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-085098d32b9e894f49c33ad67afb9e73_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-085098d32b9e894f49c33ad67afb9e73_b.png\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E现实中遇到的很多问题实际上是因果问题，而不是预测。\u003C\u002Fp\u003E\u003Cp\u003E\u003Cb\u003E\u003Ci\u003E因果问题分为两种\u003C\u002Fi\u003E\u003C\u002Fb\u003E：一种是 causal inference，比如给定两个变量 X、Y，希望找到一个衡量它们之间因果关系的参数 theta；另一种是 causal discovery，即给定一组变量，找到他们之间的因果关系。对于后面这种 causal discovery，notes 里面说它在统计上是不可能的。\u003C\u002Fp\u003E\u003Cp\u003E\u003Cb\u003E\u003Ci\u003E数据有两种产生途径\u003C\u002Fi\u003E\u003C\u002Fb\u003E：一种是通过有意控制、随机化的实验得到的；一种是通过观测数据得到的。前一种方式能够直接做 causal inference；后一种方式需要另外知道一些先验知识，才能在上面做 causal inference。\u003C\u002Fp\u003E\u003Cp\u003E\u003Cb\u003E\u003Ci\u003E对因果关系描述的数学语言\u003C\u002Fi\u003E\u003C\u002Fb\u003E：一种是 counterfactuals，一种是 causal graph；还有一种和 causal graph 相近的 structural equation models。\u003C\u002Fp\u003E\u003Cp\u003E\u003Cb\u003E\u003Ci\u003ECorrelation is not causation\u003C\u002Fi\u003E\u003C\u002Fb\u003E\u003C\u002Fp\u003E\u003Cp\u003E预测问题可以写为\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-2db42c55700564ea181c8335ff59d799_b.png\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1276\" data-rawheight=\"49\" class=\"origin_image zh-lightbox-thumb\" width=\"1276\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-2db42c55700564ea181c8335ff59d799_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1276&#39; height=&#39;49&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1276\" data-rawheight=\"49\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1276\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-2db42c55700564ea181c8335ff59d799_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-2db42c55700564ea181c8335ff59d799_b.png\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E它表示的是，如果我们观察到 X=x，预测 Y。而因果推断关系的是\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-c6c0dd10fcab9e61936c74a78017989b_b.png\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1290\" data-rawheight=\"42\" class=\"origin_image zh-lightbox-thumb\" width=\"1290\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-c6c0dd10fcab9e61936c74a78017989b_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1290&#39; height=&#39;42&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1290\" data-rawheight=\"42\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1290\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-c6c0dd10fcab9e61936c74a78017989b_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-c6c0dd10fcab9e61936c74a78017989b_b.png\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E它表示我们如果把某个变量 X 设置为 x，那么 Y 会是多少。数学上表示出来就是\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-a243c69253d5506cea6908c2bf8eb65d_b.png\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1305\" data-rawheight=\"58\" class=\"origin_image zh-lightbox-thumb\" width=\"1305\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-a243c69253d5506cea6908c2bf8eb65d_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1305&#39; height=&#39;58&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1305\" data-rawheight=\"58\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1305\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-a243c69253d5506cea6908c2bf8eb65d_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-a243c69253d5506cea6908c2bf8eb65d_b.png\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E一个简单的例子『睡眠超过 7 小时的人』（X）『生病少』（Y)，只是代表 X 和 Y 之间有关联性，并不代表如果强制一个人睡眠超过 7 小时，ta 就能够生病少。因为可能『身体好的人』容易『睡眠超过 7 小时』，同时 ta 也『生病少』；但是一个本来身体不好的人，强制 ta 睡眠多，ta 可能也生病不会少。\u003C\u002Fp\u003E\u003Cp\u003ENotes 里面想要说明的结论是：\u003Cb\u003E\u003Ci\u003E因果关系可以从随机化的实验中得到；但是很难从观察到的数据中得到。\u003C\u002Fi\u003E\u003C\u002Fb\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cb\u003E\u003Ci\u003E另外一个例子说明 correlation 和 causation 的区别\u003C\u002Fi\u003E\u003C\u002Fb\u003E\u003C\u002Fp\u003E\u003Cp\u003E考虑数据是由一段程序生成的：\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-0df3a591c5ace4fd8898919852cd7a1c_b.png\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1776\" data-rawheight=\"268\" class=\"origin_image zh-lightbox-thumb\" width=\"1776\" data-original=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-0df3a591c5ace4fd8898919852cd7a1c_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1776&#39; height=&#39;268&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1776\" data-rawheight=\"268\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1776\" data-original=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-0df3a591c5ace4fd8898919852cd7a1c_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-0df3a591c5ace4fd8898919852cd7a1c_b.png\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E估计 correlation \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=P%28Z%3Dz%7CY%3Dy%29\" alt=\"P(Z=z|Y=y)\" eeimg=\"1\"\u002F\u003E 时，我们会统计 Z=z &amp; Y=y 的样本占 Y=y 样本的多大比例，它等价于\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-bad223e9591490175561a34f8d98cf99_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1778\" data-rawheight=\"486\" class=\"origin_image zh-lightbox-thumb\" width=\"1778\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-bad223e9591490175561a34f8d98cf99_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1778&#39; height=&#39;486&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1778\" data-rawheight=\"486\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1778\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-bad223e9591490175561a34f8d98cf99_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-bad223e9591490175561a34f8d98cf99_b.jpg\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E当我们研究因果关系的时候，我们是想知道，如果『设置』Y=y，会怎样引起 Z 的分布；该过程可以用如下程序模拟\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-93001ec871b2909683bfe54c7263f956_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1826\" data-rawheight=\"328\" class=\"origin_image zh-lightbox-thumb\" width=\"1826\" data-original=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-93001ec871b2909683bfe54c7263f956_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1826&#39; height=&#39;328&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1826\" data-rawheight=\"328\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1826\" data-original=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-93001ec871b2909683bfe54c7263f956_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-93001ec871b2909683bfe54c7263f956_b.jpg\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E在这种情况下，我们再统计 Z=z 占总体样本的比例，即\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-31b42d1096cd75ecb2130b10ebf1cdd2_b.png\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1766\" data-rawheight=\"132\" class=\"origin_image zh-lightbox-thumb\" width=\"1766\" data-original=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-31b42d1096cd75ecb2130b10ebf1cdd2_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1766&#39; height=&#39;132&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1766\" data-rawheight=\"132\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1766\" data-original=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-31b42d1096cd75ecb2130b10ebf1cdd2_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-31b42d1096cd75ecb2130b10ebf1cdd2_b.png\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Ch3\u003E二、Counterfactuals\u003C\u002Fh3\u003E\u003Cp\u003E考虑一个 treatment X，和一个 outcome Y。我们能观察到的是一些数据 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=%5C%7B%28X_i%2C+Y_i%29%5C%7D\" alt=\"\\{(X_i, Y_i)\\}\" eeimg=\"1\"\u002F\u003E ，但是我们无法知道如果对于某一个数据点 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=%28X_i%2C+Y_i%29\" alt=\"(X_i, Y_i)\" eeimg=\"1\"\u002F\u003E ，如果改变 X 的值，Y 会怎么变。这件事情就叫做 counterfactual。Notes 里面给了一个图（下图），从数据上看，X 和 Y 是正相关的，但其实对于每一个 样本来说，如果增大 X，会引起 Y 的减小。这一点最开始看的时候并不好理解。举一个例子。研究航空公司票价（X）对销量（Y）的影响，显然，对于某一个客户来说，增加票价（X 变大）会降低客户购买意愿，即使得销量将达（Y 变小）。但是实际中的情况是，在节假日人们出行意愿大导致销量高（Y 大），定价也会相应变高（X 大），从而从数据上看，形成左边图的情形。\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-7ef63b7e752a19e642400fe4dd37722e_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1355\" data-rawheight=\"726\" class=\"origin_image zh-lightbox-thumb\" width=\"1355\" data-original=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-7ef63b7e752a19e642400fe4dd37722e_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1355&#39; height=&#39;726&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1355\" data-rawheight=\"726\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1355\" data-original=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-7ef63b7e752a19e642400fe4dd37722e_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-7ef63b7e752a19e642400fe4dd37722e_b.jpg\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E假设 X 取值 0 或者 1，Y 也取值 0 或者 1。引入变量 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=Y_0%2C+Y_1\" alt=\"Y_0, Y_1\" eeimg=\"1\"\u002F\u003E ，认为\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-79051c30861fbdc7880422fba2a7738b_b.png\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1494\" data-rawheight=\"143\" class=\"origin_image zh-lightbox-thumb\" width=\"1494\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-79051c30861fbdc7880422fba2a7738b_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1494&#39; height=&#39;143&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1494\" data-rawheight=\"143\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1494\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-79051c30861fbdc7880422fba2a7738b_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-79051c30861fbdc7880422fba2a7738b_b.png\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E这两个变量也叫做 potential outcome 或者 counterfactuals，因为如果在数据中观察到 X=0，就只能观察到 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=Y%3DY_0\" alt=\"Y=Y_0\" eeimg=\"1\"\u002F\u003E ，而此时的 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=Y_1\" alt=\"Y_1\" eeimg=\"1\"\u002F\u003E 就没法观察到了。比如，一个观察到的数据集长这样：\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-6d091e3501f36e92f83b6b6802cca29b_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1501\" data-rawheight=\"448\" class=\"origin_image zh-lightbox-thumb\" width=\"1501\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-6d091e3501f36e92f83b6b6802cca29b_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1501&#39; height=&#39;448&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1501\" data-rawheight=\"448\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1501\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-6d091e3501f36e92f83b6b6802cca29b_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-6d091e3501f36e92f83b6b6802cca29b_b.jpg\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E而我们关心的 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=p%28Y%7C%5Ctext%7Bset+%7DX%3D0%29+%3D+p%28Y_0%29\" alt=\"p(Y|\\text{set }X=0) = p(Y_0)\" eeimg=\"1\"\u002F\u003E ， \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=p%28Y%7C%5Ctext%7Bset+%7DX%3D1%29+%3D+p%28Y_1%29\" alt=\"p(Y|\\text{set }X=1) = p(Y_1)\" eeimg=\"1\"\u002F\u003E 。而由于这些未知的 * 的存在，使得我们没有办法估计到它们。但是，显然有\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-b3430491896f659b43f1072dc3ba902b_b.png\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1501\" data-rawheight=\"80\" class=\"origin_image zh-lightbox-thumb\" width=\"1501\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-b3430491896f659b43f1072dc3ba902b_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1501&#39; height=&#39;80&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1501\" data-rawheight=\"80\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1501\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-b3430491896f659b43f1072dc3ba902b_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-b3430491896f659b43f1072dc3ba902b_b.png\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E定义\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-4e9220f6ca271801667c5752bbdfc361_b.png\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1462\" data-rawheight=\"57\" class=\"origin_image zh-lightbox-thumb\" width=\"1462\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-4e9220f6ca271801667c5752bbdfc361_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1462&#39; height=&#39;57&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1462\" data-rawheight=\"57\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1462\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-4e9220f6ca271801667c5752bbdfc361_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-4e9220f6ca271801667c5752bbdfc361_b.png\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E为 mean treatment effect，它可以被看做是一个衡量因果关系的参数；如果它大于零，表示我们设置 X=1 会在期望上增大 Y（这是一个因果推断）。\u003C\u002Fp\u003E\u003Cp\u003E文章下面给出了一个定理，说明不可能从数据里面估计出 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=%5Ctheta\" alt=\"\\theta\" eeimg=\"1\"\u002F\u003E 。\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-2f6c87924f4d862b34f01983668d3b7e_b.png\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1487\" data-rawheight=\"74\" class=\"origin_image zh-lightbox-thumb\" width=\"1487\" data-original=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-2f6c87924f4d862b34f01983668d3b7e_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1487&#39; height=&#39;74&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1487\" data-rawheight=\"74\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1487\" data-original=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-2f6c87924f4d862b34f01983668d3b7e_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-2f6c87924f4d862b34f01983668d3b7e_b.png\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E其中 uniformly consistent estimator 的定义是\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-9bd67f9c532f6b5bd1fde0c2d80352e4_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1541\" data-rawheight=\"265\" class=\"origin_image zh-lightbox-thumb\" width=\"1541\" data-original=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-9bd67f9c532f6b5bd1fde0c2d80352e4_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1541&#39; height=&#39;265&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1541\" data-rawheight=\"265\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1541\" data-original=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-9bd67f9c532f6b5bd1fde0c2d80352e4_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-9bd67f9c532f6b5bd1fde0c2d80352e4_b.jpg\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E其实这很好理解，可以构造两个数据集，它们有不同的 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=p%28X%2CY_0%2CY_1%29\" alt=\"p(X,Y_0,Y_1)\" eeimg=\"1\"\u002F\u003E 分布，使得它们 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=%5Ctheta\" alt=\"\\theta\" eeimg=\"1\"\u002F\u003E 不同，但是形成的数据 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=X%2CY\" alt=\"X,Y\" eeimg=\"1\"\u002F\u003E 是一样的。这可以通过任意设置前面例子中的 * 来实现。\u003C\u002Fp\u003E\u003Cp\u003E那么应该如何估计 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=%5Ctheta\" alt=\"\\theta\" eeimg=\"1\"\u002F\u003E 呢？下面介绍两种方法：一种方法就是使用 randomization，另一种方法叫做 adjusting for confounding。\u003C\u002Fp\u003E\u003Ch3\u003E三、用随机化来估计因果关系\u003C\u002Fh3\u003E\u003Cp\u003E如果我们能够随机设定 X 的值，使得 X 和 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=Y_0%2C+Y_1\" alt=\"Y_0, Y_1\" eeimg=\"1\"\u002F\u003E 相互独立，就能有办法估计 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=%5Ctheta\" alt=\"\\theta\" eeimg=\"1\"\u002F\u003E ，即\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-61e8cf50a1e75ead2108b4c490fb6267_b.png\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1485\" data-rawheight=\"89\" class=\"origin_image zh-lightbox-thumb\" width=\"1485\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-61e8cf50a1e75ead2108b4c490fb6267_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1485&#39; height=&#39;89&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1485\" data-rawheight=\"89\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1485\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-61e8cf50a1e75ead2108b4c490fb6267_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-61e8cf50a1e75ead2108b4c490fb6267_b.png\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-e30c9e4aed9ad89f1dff7ef475430614_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1543\" data-rawheight=\"543\" class=\"origin_image zh-lightbox-thumb\" width=\"1543\" data-original=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-e30c9e4aed9ad89f1dff7ef475430614_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1543&#39; height=&#39;543&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1543\" data-rawheight=\"543\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1543\" data-original=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-e30c9e4aed9ad89f1dff7ef475430614_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-e30c9e4aed9ad89f1dff7ef475430614_b.jpg\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E可以这么做最主要的原因就是当 X 和 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=Y_0%2C+Y_1\" alt=\"Y_0, Y_1\" eeimg=\"1\"\u002F\u003E 相互独立时， \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=%5Cmathbb%7BE%7D%28Y_i%7CX%3Di%29%3D%5Cmathbb%7BE%7D%28Y_i%29\" alt=\"\\mathbb{E}(Y_i|X=i)=\\mathbb{E}(Y_i)\" eeimg=\"1\"\u002F\u003E ，因此， \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=%5Calpha+%3D+%5Ctheta\" alt=\"\\alpha = \\theta\" eeimg=\"1\"\u002F\u003E ，即\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-2dbff9ea630205fbfd203b55705566a9_b.png\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1467\" data-rawheight=\"158\" class=\"origin_image zh-lightbox-thumb\" width=\"1467\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-2dbff9ea630205fbfd203b55705566a9_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1467&#39; height=&#39;158&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1467\" data-rawheight=\"158\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1467\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-2dbff9ea630205fbfd203b55705566a9_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-2dbff9ea630205fbfd203b55705566a9_b.png\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E总结来说，在完全随机的情况下（X 和 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=Y_0%2C+Y_1\" alt=\"Y_0, Y_1\" eeimg=\"1\"\u002F\u003E 相互独立），correlation=causation。\u003C\u002Fp\u003E\u003Cp\u003E【注】Randomization 并不意味着 X 的选取要是 uniformly random（比如一半选 0，一半选 1），可以令 X 为任意分布，只要它和 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=Y_0%2C+Y_1\" alt=\"Y_0, Y_1\" eeimg=\"1\"\u002F\u003E 相互独立即可。\u003C\u002Fp\u003E\u003Ch3\u003E四、Adjusting for Confounders\u003C\u002Fh3\u003E\u003Cp\u003E有些时候我们没法做实验，只能从可以观察的数据中来估计。比如，研究抽烟（X）和肺癌（Y）之间的因果关系，不可能故意选人去让他抽烟或者不抽烟。那么应该如何找到其中的因果关系呢？\u003C\u002Fp\u003E\u003Cp\u003E\u003Cb\u003ECausal inference in observational studies is not possible without subject matter knowledge\u003C\u002Fb\u003E\u003C\u002Fp\u003E\u003Cp\u003E注意到，观察到的数据中不能假设 X 和 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=Y_0%2C+Y_1\" alt=\"Y_0, Y_1\" eeimg=\"1\"\u002F\u003E 相互独立。这里考虑一个例子，服用 VC（X）对于健康与否（Y）的关系。一个健康的人不论吃不吃 VC，理应都是健康的，但是健康的人喜欢吃 VC；一个不健康的人无论吃不吃 VC，他都不健康。因此，我们可能观察到如下数据（X=1 表示吃 VC，Y=1 表示健康）。\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-e63e10dbd39e6dbde53d973a9883e8a3_b.png\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1494\" data-rawheight=\"194\" class=\"origin_image zh-lightbox-thumb\" width=\"1494\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-e63e10dbd39e6dbde53d973a9883e8a3_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1494&#39; height=&#39;194&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1494\" data-rawheight=\"194\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1494\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-e63e10dbd39e6dbde53d973a9883e8a3_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-e63e10dbd39e6dbde53d973a9883e8a3_b.png\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E因此，实际情况是吃 VC 和健康之间没有因果关系，即 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=%5Ctheta%3D0\" alt=\"\\theta=0\" eeimg=\"1\"\u002F\u003E ；但是从数据中的估计来看，这二者之间有很强的关联，即 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=%5Calpha%3D0\" alt=\"\\alpha=0\" eeimg=\"1\"\u002F\u003E 。\u003C\u002Fp\u003E\u003Cp\u003E\u003Cb\u003E\u003Ci\u003EUse confounding variables\u003C\u002Fi\u003E\u003C\u002Fb\u003E\u003C\u002Fp\u003E\u003Cp\u003E虽然在数据中 X 和 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=Y_0%2C+Y_1\" alt=\"Y_0, Y_1\" eeimg=\"1\"\u002F\u003E 不相互独立，但是如果我们能够找到共同影响 X 和 Y 的因素，并把它通过某种统计方式排除的话，也可以可以做因果推断的。这里的共同因素就是 confounding variables Z，即希望找到一个 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=Z%3D%28Z_1%2C+%5Ccdots%2C+Z_k%29\" alt=\"Z=(Z_1, \\cdots, Z_k)\" eeimg=\"1\"\u002F\u003E ，使得 there is \u003Ci\u003E\u003Cb\u003Eno unmeasured confoundings\u003C\u002Fb\u003E\u003C\u002Fi\u003E or \u003Ci\u003E\u003Cb\u003Eignorability holds\u003C\u002Fb\u003E\u003C\u002Fi\u003E。\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-691395286bf82adec290e9f0743ff870_b.png\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1465\" data-rawheight=\"67\" class=\"origin_image zh-lightbox-thumb\" width=\"1465\" data-original=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-691395286bf82adec290e9f0743ff870_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1465&#39; height=&#39;67&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1465\" data-rawheight=\"67\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1465\" data-original=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-691395286bf82adec290e9f0743ff870_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-691395286bf82adec290e9f0743ff870_b.png\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E下面的定理就是说，如果 能够观察到这样的 confounding variable，那么也能够做因果推断。\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-c9477585eeeca79792abae1d6af58a02_b.png\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1555\" data-rawheight=\"136\" class=\"origin_image zh-lightbox-thumb\" width=\"1555\" data-original=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-c9477585eeeca79792abae1d6af58a02_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1555&#39; height=&#39;136&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1555\" data-rawheight=\"136\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1555\" data-original=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-c9477585eeeca79792abae1d6af58a02_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-c9477585eeeca79792abae1d6af58a02_b.png\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-94d4f8150fc44a91fc7dca16c6e09417_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1532\" data-rawheight=\"573\" class=\"origin_image zh-lightbox-thumb\" width=\"1532\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-94d4f8150fc44a91fc7dca16c6e09417_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1532&#39; height=&#39;573&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1532\" data-rawheight=\"573\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1532\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-94d4f8150fc44a91fc7dca16c6e09417_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-94d4f8150fc44a91fc7dca16c6e09417_b.jpg\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E证明过程也比较好理解，因为在 Z 给定之后 X 和 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=Y_0%2C+Y_1\" alt=\"Y_0, Y_1\" eeimg=\"1\"\u002F\u003E 是相互独立的（箭头标注的那一步）。\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-d1d3027db0a3bca40202cac23ad53db4_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1482\" data-rawheight=\"346\" class=\"origin_image zh-lightbox-thumb\" width=\"1482\" data-original=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-d1d3027db0a3bca40202cac23ad53db4_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1482&#39; height=&#39;346&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1482\" data-rawheight=\"346\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1482\" data-original=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-d1d3027db0a3bca40202cac23ad53db4_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-d1d3027db0a3bca40202cac23ad53db4_b.jpg\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E这个方法叫做 adjusting for confounders，同时也把这上面的 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=%5Chat+%5Ctheta\" alt=\"\\hat \\theta\" eeimg=\"1\"\u002F\u003E 叫做 adjusted treatment effect。\u003C\u002Fp\u003E\u003Cp\u003EIntuitive 地来说，拿航空公司票价（X）和销量（Y）的例子来说，它们可能受到节假日（Z）的影响，节假日的时候（Z=1）票价高，销量也大。要搞清楚其中的因果关系，就需要分别在是节假日（Z=1）和非节假日的时候（Z=0）统计 X、Y 的关系。\u003C\u002Fp\u003E\u003Cp\u003E\u003Cb\u003E\u003Ci\u003EThe usual bias-variance tradeoff does not apply\u003C\u002Fi\u003E\u003C\u002Fb\u003E\u003C\u002Fp\u003E\u003Cp\u003ENotes 里面提到，在估计 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=%5Chat+%5Cmu%28x%2Cz%29\" alt=\"\\hat \\mu(x,z)\" eeimg=\"1\"\u002F\u003E 的时候要特别小心，在因果推断里面 bias 的危害会更大，因此拟合的时候会尽量更『平滑』。这一块有特别的一些方法来解决该问题，叫 semiparametric inference 以及后面会讲的 matching。\u003C\u002Fp\u003E\u003Cp\u003E对于前面这个离散的例子来说，可以对 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=%5Cmu%28x%2Cz%29%3D%5Cmathbb%7BE%7D%5BY%7CX%3Dx%2C+Z%3Dz%5D\" alt=\"\\mu(x,z)=\\mathbb{E}[Y|X=x, Z=z]\" eeimg=\"1\"\u002F\u003E 做线性拟合，即 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=%5Cmu%28x%2Cz%29%3D%5Cmathbb%7BE%7D%5BY%7CX%3Dx%2C+Z%3Dz%5D%3D%5Cbeta_0+%2B+%5Cbeta_1+x+%2B+%5Cbeta_2%5ET+z\" alt=\"\\mu(x,z)=\\mathbb{E}[Y|X=x, Z=z]=\\beta_0 + \\beta_1 x + \\beta_2^T z\" eeimg=\"1\"\u002F\u003E 。我们可以看到，这种情况下，线性回归中 x 前面的系数就代表了 x 的 causal effect。\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-fa801e044e73ad5ac6f1aaae9dac744b_b.png\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1479\" data-rawheight=\"100\" class=\"origin_image zh-lightbox-thumb\" width=\"1479\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-fa801e044e73ad5ac6f1aaae9dac744b_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1479&#39; height=&#39;100&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1479\" data-rawheight=\"100\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1479\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-fa801e044e73ad5ac6f1aaae9dac744b_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-fa801e044e73ad5ac6f1aaae9dac744b_b.png\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E对于连续的情形类似地，有\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-5c68e07d391a8573b8f67cfb66d54490_b.png\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1518\" data-rawheight=\"198\" class=\"origin_image zh-lightbox-thumb\" width=\"1518\" data-original=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-5c68e07d391a8573b8f67cfb66d54490_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1518&#39; height=&#39;198&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1518\" data-rawheight=\"198\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1518\" data-original=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-5c68e07d391a8573b8f67cfb66d54490_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-5c68e07d391a8573b8f67cfb66d54490_b.png\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E总结：\u003Cb\u003E\u003Cu\u003E如果 1）线性模型正确；2）所有的 confounding variables 都包含到回归方程中了，那么 x 前面的系数就表示 x 的 causal effect。\u003C\u002Fu\u003E\u003C\u002Fb\u003E\u003C\u002Fp\u003E\u003Ch3\u003E五、Causal Graphs\u003C\u002Fh3\u003E\u003Cp\u003ECausal graph 是一个有向无环图（DAG），表明了各个变量之间的联合概率分布\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-e8b5d3e12812c7ac951dc5a1f1bc8d80_b.png\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1485\" data-rawheight=\"103\" class=\"origin_image zh-lightbox-thumb\" width=\"1485\" data-original=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-e8b5d3e12812c7ac951dc5a1f1bc8d80_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1485&#39; height=&#39;103&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1485\" data-rawheight=\"103\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1485\" data-original=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-e8b5d3e12812c7ac951dc5a1f1bc8d80_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-e8b5d3e12812c7ac951dc5a1f1bc8d80_b.png\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E下面举例说明，在给定一个 causal graph 之后，如何做因果推断。考虑下面一个 causal graph，目标是求 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=p%28y%7C%5Ctext%7Bset+%7D+X%3Dx%29\" alt=\"p(y|\\text{set } X=x)\" eeimg=\"1\"\u002F\u003E 。\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-70446f03cba31a90deef7f4404cb9385_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1520\" data-rawheight=\"350\" class=\"origin_image zh-lightbox-thumb\" width=\"1520\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-70446f03cba31a90deef7f4404cb9385_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1520&#39; height=&#39;350&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1520\" data-rawheight=\"350\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1520\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-70446f03cba31a90deef7f4404cb9385_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-70446f03cba31a90deef7f4404cb9385_b.jpg\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E首先，可以看出该 causal graph 提供的信息为 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=p%28x%2Cy%2Cz%29%3Dp%28z%29p%28x%7Cz%29p%28y%7Cx%2Cz%29\" alt=\"p(x,y,z)=p(z)p(x|z)p(y|x,z)\" eeimg=\"1\"\u002F\u003E。\u003C\u002Fp\u003E\u003Cp\u003E接下来，由于考虑的是设定 X 的数值的影响，因此构建一个新图 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=G_%2A\" alt=\"G_*\" eeimg=\"1\"\u002F\u003E ，移除掉所有指向 X 的边，得到新的联合概率分布 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=p_%2A%28y%2Cz%29%3Dp%28z%29p%28y%7Cx%2Cz%29\" alt=\"p_*(y,z)=p(z)p(y|x,z)\" eeimg=\"1\"\u002F\u003E 。\u003C\u002Fp\u003E\u003Cp\u003E最后，该概率分布下的数值就是因果推断的结果\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-a7534764257b3c0d796caf96d2804106_b.png\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1476\" data-rawheight=\"91\" class=\"origin_image zh-lightbox-thumb\" width=\"1476\" data-original=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-a7534764257b3c0d796caf96d2804106_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1476&#39; height=&#39;91&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1476\" data-rawheight=\"91\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1476\" data-original=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-a7534764257b3c0d796caf96d2804106_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-a7534764257b3c0d796caf96d2804106_b.png\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E在 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=X%3D%5C%7B0%2C1%5C%7D\" alt=\"X=\\{0,1\\}\" eeimg=\"1\"\u002F\u003E 情形下，\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-bf9e1a5a0847a83365f9613ecfd5600e_b.png\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1586\" data-rawheight=\"91\" class=\"origin_image zh-lightbox-thumb\" width=\"1586\" data-original=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-bf9e1a5a0847a83365f9613ecfd5600e_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1586&#39; height=&#39;91&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1586\" data-rawheight=\"91\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1586\" data-original=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-bf9e1a5a0847a83365f9613ecfd5600e_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-bf9e1a5a0847a83365f9613ecfd5600e_b.png\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E\u003Cb\u003E\u003Ci\u003E和 adjusting for confounder 方法的等价性\u003C\u002Fi\u003E\u003C\u002Fb\u003E\u003C\u002Fp\u003E\u003Cp\u003E比如还是在 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=X%3D%5C%7B0%2C1%5C%7D\" alt=\"X=\\{0,1\\}\" eeimg=\"1\"\u002F\u003E 情形下，从上述方法出发计算 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=%5Ctheta\" alt=\"\\theta\" eeimg=\"1\"\u002F\u003E \u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-0b56267e722cb1b29ad236d8619a7a57_b.png\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1620\" data-rawheight=\"258\" class=\"origin_image zh-lightbox-thumb\" width=\"1620\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-0b56267e722cb1b29ad236d8619a7a57_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1620&#39; height=&#39;258&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1620\" data-rawheight=\"258\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1620\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-0b56267e722cb1b29ad236d8619a7a57_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-0b56267e722cb1b29ad236d8619a7a57_b.png\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E其结果和 adjusting for confounder 方法一致。\u003C\u002Fp\u003E\u003Cp\u003E\u003Cb\u003E\u003Ci\u003E和 randomized experiment 方法的等价性\u003C\u002Fi\u003E\u003C\u002Fb\u003E\u003C\u002Fp\u003E\u003Cp\u003E当 X 的选取是随机时，就没有从 Z 到 X 的箭头了，因此直接在概率图上计算可以得到 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=%5Ctheta+%3D%5Cmathbb%7BE%7D%28Y%7CX%3D1%29+-+%5Cmathbb%7BE%7D%28Y%7CX%3D0%29+\" alt=\"\\theta =\\mathbb{E}(Y|X=1) - \\mathbb{E}(Y|X=0) \" eeimg=\"1\"\u002F\u003E ，和这里得到的一致。\u003C\u002Fp\u003E\u003Cp\u003E\u003Cb\u003E\u003Ci\u003ECausal graph 和 probability graph 的区别\u003C\u002Fi\u003E\u003C\u002Fb\u003E\u003C\u002Fp\u003E\u003Cp\u003E举例说明，比如下雨（Rain，R）和湿草坪（Wet Lawn，W）是不相互独立的， 即 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=p%28w%2Cr%29%5Cneq+p%28w%29p%28r%29\" alt=\"p(w,r)\\neq p(w)p(r)\" eeimg=\"1\"\u002F\u003E 。\u003C\u002Fp\u003E\u003Cp\u003E对于下两种 DAG，它们都是合理的 probability graph，即对于任意的联合概率分布 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=p%28w%2Cr%29\" alt=\"p(w,r)\" eeimg=\"1\"\u002F\u003E ，都可以写成 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=p%28w%29p%28r%7Cw%29\" alt=\"p(w)p(r|w)\" eeimg=\"1\"\u002F\u003E 或者 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=p%28r%29p%28w%7Cr%29\" alt=\"p(r)p(w|r)\" eeimg=\"1\"\u002F\u003E 。但显然下雨是因、草坪湿是果，只有左边的图才是正确的 causal graph。\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-e056d51d03120af73111857964919521_b.png\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1886\" data-rawheight=\"70\" class=\"origin_image zh-lightbox-thumb\" width=\"1886\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-e056d51d03120af73111857964919521_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1886&#39; height=&#39;70&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1886\" data-rawheight=\"70\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1886\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-e056d51d03120af73111857964919521_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-e056d51d03120af73111857964919521_b.png\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E分析 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=p%28r%7C%5Ctext%7Bset+%7Dw%3D1%29\" alt=\"p(r|\\text{set }w=1)\" eeimg=\"1\"\u002F\u003E ，按照应该关系，把草坪弄湿不会影响是否下雨。对左边的图推断 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=p%28r%7C%5Ctext%7Bset+%7Dw%3D1%29\" alt=\"p(r|\\text{set }w=1)\" eeimg=\"1\"\u002F\u003E ，先把指向 W 的边去掉，形成如下图\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-6f2413f2d65e4db7cf0c3b38649f57c8_b.png\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1892\" data-rawheight=\"114\" class=\"origin_image zh-lightbox-thumb\" width=\"1892\" data-original=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-6f2413f2d65e4db7cf0c3b38649f57c8_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1892&#39; height=&#39;114&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1892\" data-rawheight=\"114\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1892\" data-original=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-6f2413f2d65e4db7cf0c3b38649f57c8_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-6f2413f2d65e4db7cf0c3b38649f57c8_b.png\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E因此得到 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=p_%2A%28r%29+%3D+p%28r%29\" alt=\"p_*(r) = p(r)\" eeimg=\"1\"\u002F\u003E ，由此得出结论 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=p%28r%7C%5Ctext%7Bset+%7Dw%3D1%29%3Dp%28r%29\" alt=\"p(r|\\text{set }w=1)=p(r)\" eeimg=\"1\"\u002F\u003E ，即草坪弄湿不引起下雨。\u003C\u002Fp\u003E\u003Ch3\u003E六、Causal Discovery 是不可能的\u003C\u002Fh3\u003E\u003Cp\u003E下面想说明的是在不做 randomized experiment 并且也观察不到所有 confounders 时，研究两个变量之间是否有因果关系是不可能的。\u003C\u002Fp\u003E\u003Cp\u003E考虑一个最简单的情形，就是研究『 X 是否引起 Y（X、Y 之间是否有因果关系）』；同时能够肯定地排除掉『Y 引起 X 』的情形（比如，时间先后关系，发生在后面的不可能引起发生在前面的）。考虑可能的 confounding variable U，它们之间可能的关系有如下八种。\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-edfcef2a73ca7af8d29a1f755bde8c81_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1206\" data-rawheight=\"958\" class=\"origin_image zh-lightbox-thumb\" width=\"1206\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-edfcef2a73ca7af8d29a1f755bde8c81_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1206&#39; height=&#39;958&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1206\" data-rawheight=\"958\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1206\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-edfcef2a73ca7af8d29a1f755bde8c81_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-edfcef2a73ca7af8d29a1f755bde8c81_b.jpg\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E如果我们只能观察到 X、Y 的数据，能做的是估计 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=%5Calpha\" alt=\"\\alpha\" eeimg=\"1\"\u002F\u003E 。如果 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=%5Calpha%5Cneq+0\" alt=\"\\alpha\\neq 0\" eeimg=\"1\"\u002F\u003E 说明 X、Y 之间有关联，因此可能的情况是 4-8，这里面有些情况下 X-&gt;Y，有些是没有，因此无法得出什么有效的结论；如果 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=%5Calpha%3D0\" alt=\"\\alpha=0\" eeimg=\"1\"\u002F\u003E ，基本上锁定是 1-3 中的情况，我们发现这三种情况中 X 都不引起 Y，于是我们能得出结论 X 和 Y 之间没有因果关系。这是错的！\u003C\u002Fp\u003E\u003Cp\u003E情况 8 也能够引起 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=%5Calpha%3D0\" alt=\"\\alpha=0\" eeimg=\"1\"\u002F\u003E ！比如 X-&gt;Y 的影响可能会被 U-&gt;Y 的影响抵消，这称作 unfaithfulness，这样的情形记做 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=%5Cmathcal%7BB%7D\" alt=\"\\mathcal{B}\" eeimg=\"1\"\u002F\u003E 。举一个粗俗的例子，比如情况 8 中的关系都是确定性的，Y|U = -U, Y|X,U = X+U，于是乎，按照这样的模型生成的 Y 全部等于零，显然估计出来的 \u003Cimg src=\"https:\u002F\u002Fwww.zhihu.com\u002Fequation?tex=%5Chat%5Calpha+%5Capprox+0\" alt=\"\\hat\\alpha \\approx 0\" eeimg=\"1\"\u002F\u003E 。\u003C\u002Fp\u003E\u003Cp\u003E因此，要想得出结论得出结论 X 和 Y 之间没有因果关系，还必须限定 faithfulness。\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-f51fa6cfb19f292e0e5fa00c1a6275ff_b.png\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1802\" data-rawheight=\"158\" class=\"origin_image zh-lightbox-thumb\" width=\"1802\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-f51fa6cfb19f292e0e5fa00c1a6275ff_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1802&#39; height=&#39;158&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1802\" data-rawheight=\"158\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1802\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-f51fa6cfb19f292e0e5fa00c1a6275ff_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-f51fa6cfb19f292e0e5fa00c1a6275ff_b.png\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp\u003ENotes 后面还讲了，总存在一个 faithful 的分布使得在样本足够多的时候，产生足够大的 type I error。\u003C\u002Fp\u003E","adminClosedComment":false,"topics":[{"url":"https:\u002F\u002Fwww.zhihu.com\u002Fapi\u002Fv4\u002Ftopics\u002F19624891","type":"topic","id":"19624891","name":"因果"},{"url":"https:\u002F\u002Fwww.zhihu.com\u002Fapi\u002Fv4\u002Ftopics\u002F19558740","type":"topic","id":"19558740","name":"统计学"},{"url":"https:\u002F\u002Fwww.zhihu.com\u002Fapi\u002Fv4\u002Ftopics\u002F19623195","type":"topic","id":"19623195","name":"因果律"}],"voteupCount":96,"voting":0,"column":{"description":"读呀读paper","canManage":false,"intro":"我们的目标是通用人工智能！","isFollowing":false,"urlToken":"reinforcementlearning","id":"reinforcementlearning","articlesCount":137,"acceptSubmission":true,"title":"强化学习前沿","url":"https:\u002F\u002Fzhuanlan.zhihu.com\u002Freinforcementlearning","commentPermission":"all","created":1537150763,"updated":1541142463,"imageUrl":"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-5d1f04a84f6be8896c07a32a05e1d6d1_b.jpg","author":{"isFollowed":false,"avatarUrlTemplate":"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-2b7c11f27a7fd03282819889435815aa_{size}.jpg","uid":"35077274730496","userType":"people","isFollowing":false,"urlToken":"zhang-chu-heng","id":"db39e3e0528520071b0a6e5f6240cfea","description":"","name":"张楚珩","isAdvertiser":false,"headline":"强化学习 量化投资","gender":1,"url":"\u002Fpeople\u002Fdb39e3e0528520071b0a6e5f6240cfea","avatarUrl":"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-2b7c11f27a7fd03282819889435815aa_l.jpg","isOrg":false,"type":"people"},"followers":4344,"type":"column"},"commentCount":6,"contributions":[{"id":22046149,"state":"accepted","type":"first_publish","column":{"description":"读呀读paper","canManage":false,"intro":"我们的目标是通用人工智能！","isFollowing":false,"urlToken":"reinforcementlearning","id":"reinforcementlearning","articlesCount":137,"acceptSubmission":true,"title":"强化学习前沿","url":"https:\u002F\u002Fzhuanlan.zhihu.com\u002Freinforcementlearning","commentPermission":"all","created":1537150763,"updated":1541142463,"imageUrl":"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-5d1f04a84f6be8896c07a32a05e1d6d1_b.jpg","author":{"isFollowed":false,"avatarUrlTemplate":"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-2b7c11f27a7fd03282819889435815aa_{size}.jpg","uid":"35077274730496","userType":"people","isFollowing":false,"urlToken":"zhang-chu-heng","id":"db39e3e0528520071b0a6e5f6240cfea","description":"","name":"张楚珩","isAdvertiser":false,"headline":"强化学习 量化投资","gender":1,"url":"\u002Fpeople\u002Fdb39e3e0528520071b0a6e5f6240cfea","avatarUrl":"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-2b7c11f27a7fd03282819889435815aa_l.jpg","isOrg":false,"type":"people"},"followers":4344,"type":"column"}}],"isTitleImageFullScreen":false,"upvotedFollowees":[],"commercialInfo":{"isCommercial":false,"plugin":{}},"suggestEdit":{"status":false,"reason":"","tip":"","url":"","title":""},"reason":"","annotationAction":[],"canTip":false,"tipjarorsCount":0,"isLabeled":false,"hasPublishingDraft":false,"isFavorited":false,"isNormal":true,"status":0,"shareText":"【统计】Causal Inference - 来自知乎专栏「强化学习前沿」，作者: 张楚珩 https:\u002F\u002Fzhuanlan.zhihu.com\u002Fp\u002F88173582 （想看更多？下载 @知乎 App：http:\u002F\u002Fweibo.com\u002Fp\u002F100404711598 ）","canComment":{"status":true,"reason":""},"mcnFpShow":-1,"isVisible":true,"isLiked":false,"likedCount":2,"visibleOnlyToAuthor":false}},"columns":{"reinforcementlearning":{"description":"读呀读paper","canManage":false,"intro":"我们的目标是通用人工智能！","isFollowing":false,"urlToken":"reinforcementlearning","id":"reinforcementlearning","articlesCount":137,"acceptSubmission":true,"title":"强化学习前沿","url":"https:\u002F\u002Fzhuanlan.zhihu.com\u002Freinforcementlearning","commentPermission":"all","created":1537150763,"updated":1541142463,"imageUrl":"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-5d1f04a84f6be8896c07a32a05e1d6d1_b.jpg","author":{"isFollowed":false,"avatarUrlTemplate":"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-2b7c11f27a7fd03282819889435815aa_{size}.jpg","uid":"35077274730496","userType":"people","isFollowing":false,"urlToken":"zhang-chu-heng","id":"db39e3e0528520071b0a6e5f6240cfea","description":"","name":"张楚珩","isAdvertiser":false,"headline":"强化学习 量化投资","gender":1,"url":"\u002Fpeople\u002Fdb39e3e0528520071b0a6e5f6240cfea","avatarUrl":"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-2b7c11f27a7fd03282819889435815aa_l.jpg","isOrg":false,"type":"people"},"followers":4344,"type":"column"}},"topics":{},"roundtables":{},"favlists":{},"comments":{},"notifications":{},"ebooks":{},"activities":{},"feeds":{},"pins":{},"promotions":{},"drafts":{},"chats":{},"posts":{},"clubs":{},"clubTags":{}},"currentUser":"","account":{"lockLevel":{},"unlockTicketStatus":false,"unlockTicket":null,"challenge":[],"errorStatus":false,"message":"","isFetching":false,"accountInfo":{},"urlToken":{"loading":false}},"settings":{"socialBind":null,"inboxMsg":null,"notification":{},"email":{},"privacyFlag":null,"blockedUsers":{"isFetching":false,"paging":{"pageNo":1,"pageSize":6},"data":[]},"blockedFollowees":{"isFetching":false,"paging":{"pageNo":1,"pageSize":6},"data":[]},"ignoredTopics":{"isFetching":false,"paging":{"pageNo":1,"pageSize":6},"data":[]},"restrictedTopics":null,"laboratory":{}},"notification":{},"people":{"profileStatus":{},"activitiesByUser":{},"answersByUser":{},"answersSortByVotesByUser":{},"answersIncludedByUser":{},"votedAnswersByUser":{},"thankedAnswersByUser":{},"voteAnswersByUser":{},"thankAnswersByUser":{},"topicAnswersByUser":{},"zvideosByUser":{},"articlesByUser":{},"articlesSortByVotesByUser":{},"articlesIncludedByUser":{},"pinsByUser":{},"questionsByUser":{},"commercialQuestionsByUser":{},"favlistsByUser":{},"followingByUser":{},"followersByUser":{},"mutualsByUser":{},"followingColumnsByUser":{},"followingQuestionsByUser":{},"followingFavlistsByUser":{},"followingTopicsByUser":{},"publicationsByUser":{},"columnsByUser":{},"allFavlistsByUser":{},"brands":null,"creationsByUser":{},"creationsSortByVotesByUser":{},"creationsFeed":{}},"env":{"ab":{"config":{"experiments":[{"expId":"launch-gw_mweb_rec-1","expPrefix":"gw_mweb_rec","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-qa_hdpimg-2","expPrefix":"qa_hdpimg","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-us_foltopic_user-10","expPrefix":"us_foltopic_user","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-vd_bullet_second-2","expPrefix":"vd_bullet_second","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-vd_zvideo_link-10","expPrefix":"vd_zvideo_link","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"se_topicfeed-3","expPrefix":"se_topicfeed","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false}],"params":[{"id":"li_android_vip","type":"String","value":"0","chainId":"_all_"},{"id":"zr_slotpaidexp","type":"String","value":"1","chainId":"_all_"},{"id":"tp_m_intro_re_topic","type":"String","value":"1","chainId":"_all_"},{"id":"soc_adreadfilter","type":"String","value":"0","chainId":"_all_"},{"id":"se_hotsearch_num","type":"String","value":"0","chainId":"_all_"},{"id":"se_relation_1","type":"String","value":"0","chainId":"_all_"},{"id":"se_zu_recommend","type":"String","value":"0","chainId":"_all_"},{"id":"zr_art_rec","type":"String","value":"base","chainId":"_all_"},{"id":"zr_rec_answer_cp","type":"String","value":"close","chainId":"_all_"},{"id":"se_col_boost","type":"String","value":"0","chainId":"_all_"},{"id":"soc_stickypush","type":"String","value":"1","chainId":"_all_"},{"id":"li_ebok_chap","type":"String","value":"0","chainId":"_all_"},{"id":"zr_answer_rec_cp","type":"String","value":"open","chainId":"_all_"},{"id":"se_ad_index","type":"String","value":"10","chainId":"_all_"},{"id":"se_hot_timebox","type":"String","value":"0","chainId":"_all_"},{"id":"li_pay_banner_type","type":"String","value":"6","chainId":"_all_"},{"id":"gue_bullet_second","type":"String","value":"1"},{"id":"se_wannasearch","type":"String","value":"0","chainId":"_all_"},{"id":"tp_club_android_join","type":"String","value":"1","chainId":"_all_"},{"id":"web_heifetz_grow_ad","type":"String","value":"1"},{"id":"gue_zhuantikapian","type":"String","value":"0"},{"id":"se_entity_model_14","type":"String","value":"0","chainId":"_all_"},{"id":"se_college","type":"String","value":"default","chainId":"_all_"},{"id":"tp_club_join","type":"String","value":"0","chainId":"_all_"},{"id":"tp_topic_style","type":"String","value":"0","chainId":"_all_"},{"id":"pf_creator_card","type":"String","value":"1","chainId":"_all_"},{"id":"li_ebook_read","type":"String","value":"0","chainId":"_all_"},{"id":"gue_self_censoring","type":"String","value":"1"},{"id":"se_related_index","type":"String","value":"3","chainId":"_all_"},{"id":"se_searchwiki","type":"String","value":"0","chainId":"_all_"},{"id":"qap_article_like","type":"String","value":"1","chainId":"_all_"},{"id":"web_ask","type":"String","value":"0"},{"id":"soc_userrec","type":"String","value":"0","chainId":"_all_"},{"id":"gue_video_autoplay","type":"String","value":"0"},{"id":"li_video_section","type":"String","value":"0","chainId":"_all_"},{"id":"se_hotsearch_2","type":"String","value":"1","chainId":"_all_"},{"id":"se_pek_test","type":"String","value":"1","chainId":"_all_"},{"id":"top_quality","type":"String","value":"0","chainId":"_all_"},{"id":"web_n_web_msg","type":"String","value":"0"},{"id":"ls_recommend_test","type":"String","value":"0","chainId":"_all_"},{"id":"se_hotsearch","type":"String","value":"0","chainId":"_all_"},{"id":"se_time_threshold","type":"String","value":"0","chainId":"_all_"},{"id":"soc_iosreadfilter","type":"String","value":"0","chainId":"_all_"},{"id":"soc_bignew","type":"String","value":"1","chainId":"_all_"},{"id":"soc_iosintimacy","type":"String","value":"2","chainId":"_all_"},{"id":"se_adxtest","type":"String","value":"1","chainId":"_all_"},{"id":"tp_club_discover","type":"String","value":"0","chainId":"_all_"},{"id":"tp_meta_card","type":"String","value":"0","chainId":"_all_"},{"id":"tp_discover","type":"String","value":"0","chainId":"_all_"},{"id":"se_click_club","type":"String","value":"1","chainId":"_all_"},{"id":"se_specialbutton","type":"String","value":"0","chainId":"_all_"},{"id":"se_content0","type":"String","value":"0","chainId":"_all_"},{"id":"top_v_album","type":"String","value":"1","chainId":"_all_"},{"id":"web_question_invite","type":"String","value":"B"},{"id":"zw_payc_qaedit","type":"String","value":"0","chainId":"_all_"},{"id":"zr_article_new","type":"String","value":"close","chainId":"_all_"},{"id":"se_dnn_mt_v2","type":"String","value":"0","chainId":"_all_"},{"id":"pf_foltopic_usernum","type":"String","value":"50","chainId":"_all_"},{"id":"ls_fmp4","type":"String","value":"0","chainId":"_all_"},{"id":"li_svip_tab_search","type":"String","value":"0","chainId":"_all_"},{"id":"zr_slot_training","type":"String","value":"1","chainId":"_all_"},{"id":"tp_club_header","type":"String","value":"1","chainId":"_all_"},{"id":"soc_adpinweight","type":"String","value":"0","chainId":"_all_"},{"id":"se_site_onebox","type":"String","value":"0","chainId":"_all_"},{"id":"soc_newfeed","type":"String","value":"2","chainId":"_all_"},{"id":"tsp_videobillboard","type":"String","value":"1","chainId":"_all_"},{"id":"qap_thanks","type":"String","value":"1","chainId":"_all_"},{"id":"se_webtimebox","type":"String","value":"0","chainId":"_all_"},{"id":"tp_discovery_ab_1","type":"String","value":"0","chainId":"_all_"},{"id":"tp_topic_head","type":"String","value":"0","chainId":"_all_"},{"id":"zr_search_sim","type":"String","value":"0","chainId":"_all_"},{"id":"soc_notification","type":"String","value":"0","chainId":"_all_"},{"id":"zr_training_boost","type":"String","value":"false","chainId":"_all_"},{"id":"li_ebook_gen_search","type":"String","value":"0","chainId":"_all_"},{"id":"se_hotmore","type":"String","value":"2","chainId":"_all_"},{"id":"tp_topic_rec","type":"String","value":"1","chainId":"_all_"},{"id":"web_audit_01","type":"String","value":"case1"},{"id":"tp_topic_tab","type":"String","value":"0","chainId":"_all_"},{"id":"tp_header_style","type":"String","value":"1","chainId":"_all_"},{"id":"soc_authormore","type":"String","value":"2","chainId":"_all_"},{"id":"se_preset_tech","type":"String","value":"0","chainId":"_all_"},{"id":"tp_club_qa_pic","type":"String","value":"1","chainId":"_all_"},{"id":"soc_iospinweight","type":"String","value":"0","chainId":"_all_"},{"id":"pf_noti_entry_num","type":"String","value":"0","chainId":"_all_"},{"id":"web_mini_review","type":"String","value":"0"},{"id":"zw_sameq_sorce","type":"String","value":"999","chainId":"_all_"},{"id":"se_aa_base","type":"String","value":"0","chainId":"_all_"},{"id":"se_billboardsearch","type":"String","value":"0","chainId":"_all_"},{"id":"se_cardrank_1","type":"String","value":"0","chainId":"_all_"},{"id":"se_use_zitem","type":"String","value":"0","chainId":"_all_"},{"id":"tp_topic_entry","type":"String","value":"0","chainId":"_all_"},{"id":"top_root","type":"String","value":"0","chainId":"_all_"},{"id":"web_answer_list_ad","type":"String","value":"1"},{"id":"se_sug_entrance","type":"String","value":"1","chainId":"_all_"},{"id":"se_p_slideshow","type":"String","value":"0","chainId":"_all_"},{"id":"tp_discover_copy","type":"String","value":"0","chainId":"_all_"},{"id":"qap_question_visitor","type":"String","value":" 0","chainId":"_all_"},{"id":"zr_update_merge_size","type":"String","value":"1","chainId":"_all_"},{"id":"se_ffzx_jushen1","type":"String","value":"0","chainId":"_all_"},{"id":"soc_brdcst3","type":"String","value":"0","chainId":"_all_"},{"id":"tsp_hotlist_ui","type":"String","value":"1","chainId":"_all_"},{"id":"web_column_auto_invite","type":"String","value":"0"},{"id":"se_spb309","type":"String","value":"0","chainId":"_all_"},{"id":"tp_club_feed","type":"String","value":"1","chainId":"_all_"},{"id":"soc_special","type":"String","value":"0","chainId":"_all_"},{"id":"li_salt_hot","type":"String","value":"1","chainId":"_all_"},{"id":"tp_club_android_feed","type":"String","value":"old","chainId":"_all_"},{"id":"soc_zcfw_broadcast2","type":"String","value":"1","chainId":"_all_"},{"id":"soc_zuichangfangwen","type":"String","value":"0","chainId":"_all_"},{"id":"soc_leave_recommend","type":"String","value":"2","chainId":"_all_"},{"id":"soc_ri_merge","type":"String","value":"0","chainId":"_all_"},{"id":"qap_question_author","type":"String","value":"0","chainId":"_all_"},{"id":"tp_club_tab_feed","type":"String","value":"0","chainId":"_all_"},{"id":"soc_adsort","type":"String","value":"0","chainId":"_all_"},{"id":"soc_yxzl_zcfw","type":"String","value":"0","chainId":"_all_"},{"id":"se_entity_model","type":"String","value":"0","chainId":"_all_"},{"id":"li_qa_btn_text","type":"String","value":"0","chainId":"_all_"},{"id":"zr_intervene","type":"String","value":"0","chainId":"_all_"},{"id":"se_new_merger","type":"String","value":"1","chainId":"_all_"},{"id":"se_relationship","type":"String","value":"1","chainId":"_all_"},{"id":"gue_new_special_page","type":"String","value":"1"},{"id":"se_amovietab","type":"String","value":"1","chainId":"_all_"},{"id":"se_cardrank_3","type":"String","value":"0","chainId":"_all_"},{"id":"soc_wonderuser_recom","type":"String","value":"2","chainId":"_all_"},{"id":"ug_goodcomment_0","type":"String","value":"1","chainId":"_all_"},{"id":"li_catalog_card","type":"String","value":"1","chainId":"_all_"},{"id":"web_unfriendly_comm","type":"String","value":"0"},{"id":"se_preset_label","type":"String","value":"1","chainId":"_all_"},{"id":"se_cardrank_4","type":"String","value":"1","chainId":"_all_"},{"id":"se_payconsult","type":"String","value":"0","chainId":"_all_"},{"id":"li_yxzl_new_style_a","type":"String","value":"1","chainId":"_all_"},{"id":"se_topiclabel","type":"String","value":"1","chainId":"_all_"},{"id":"se_mobileweb","type":"String","value":"1","chainId":"_all_"},{"id":"se_lottery","type":"String","value":"0","chainId":"_all_"},{"id":"web_sec672","type":"String","value":"0"},{"id":"zr_search_paid","type":"String","value":"0","chainId":"_all_"},{"id":"tp_sft","type":"String","value":"a","chainId":"_all_"},{"id":"soc_bigone","type":"String","value":"0","chainId":"_all_"},{"id":"se_pek_test3","type":"String","value":"1","chainId":"_all_"},{"id":"se_agency","type":"String","value":" 0","chainId":"_all_"},{"id":"pf_fuceng","type":"String","value":"1","chainId":"_all_"},{"id":"se_sug_term","type":"String","value":"0","chainId":"_all_"},{"id":"ug_zero_follow_0","type":"String","value":"0","chainId":"_all_"},{"id":"web_mweb_launch","type":"String","value":"0"},{"id":"zr_rel_search","type":"String","value":"base","chainId":"_all_"},{"id":"se_page_quality","type":"String","value":"0","chainId":"_all_"},{"id":"tp_club_pic_swiper","type":"String","value":"1","chainId":"_all_"},{"id":"web_mweb_rec_length","type":"String","value":"1"},{"id":"li_answers_link","type":"String","value":"0","chainId":"_all_"},{"id":"soc_zcfw_broadcast","type":"String","value":"0","chainId":"_all_"},{"id":"gue_zvideo_link","type":"String","value":"1"},{"id":"se_subtext","type":"String","value":"0","chainId":"_all_"},{"id":"zr_training_first","type":"String","value":"false","chainId":"_all_"},{"id":"se_new_p","type":"String","value":"0","chainId":"_all_"},{"id":"se_timebox_up","type":"String","value":"0","chainId":"_all_"},{"id":"se_search_feed","type":"String","value":"N","chainId":"_all_"},{"id":"web_creator_route","type":"String","value":"1"},{"id":"li_education_box","type":"String","value":"0","chainId":"_all_"},{"id":"soc_adreadline","type":"String","value":"0","chainId":"_all_"},{"id":"li_purchase_test","type":"String","value":"0","chainId":"_all_"},{"id":"li_answer_label","type":"String","value":"0","chainId":"_all_"},{"id":"gue_goods_card","type":"String","value":"0"},{"id":"se_ltr_video","type":"String","value":"0","chainId":"_all_"},{"id":"ug_follow_answerer_0","type":"String","value":"0","chainId":"_all_"},{"id":"li_paid_answer_exp","type":"String","value":"0","chainId":"_all_"},{"id":"li_se_media_icon","type":"String","value":"1","chainId":"_all_"},{"id":"li_se_across","type":"String","value":"1","chainId":"_all_"},{"id":"se_multianswer","type":"String","value":"2","chainId":"_all_"},{"id":"pf_adjust","type":"String","value":"0","chainId":"_all_"},{"id":"se_waterfall","type":"String","value":"0","chainId":"_all_"},{"id":"tp_qa_metacard_top","type":"String","value":"top","chainId":"_all_"},{"id":"soc_zcfw_shipinshiti","type":"String","value":"1","chainId":"_all_"},{"id":"top_ebook","type":"String","value":"0","chainId":"_all_"},{"id":"gue_bullet_guide","type":"String","value":"发个弹幕聊聊…"},{"id":"ls_videoad","type":"String","value":"2","chainId":"_all_"},{"id":"li_svip_cardshow","type":"String","value":"1","chainId":"_all_"},{"id":"gue_thanks","type":"String","value":"0"},{"id":"zr_km_feed_nlp","type":"String","value":"old","chainId":"_all_"},{"id":"ug_fw_answ_aut_1","type":"String","value":"0","chainId":"_all_"},{"id":"qap_payc_invite","type":"String","value":"0","chainId":"_all_"},{"id":"top_test_4_liguangyi","type":"String","value":"1","chainId":"_all_"},{"id":"se_whitelist","type":"String","value":"0","chainId":"_all_"},{"id":"tp_qa_metacard","type":"String","value":"1","chainId":"_all_"},{"id":"tp_topic_tab_new","type":"String","value":"0-0-0","chainId":"_all_"},{"id":"li_qa_new_cover","type":"String","value":"1","chainId":"_all_"},{"id":"web_collect","type":"String","value":"0"},{"id":"zr_video_rank_nn","type":"String","value":"new_rank","chainId":"_all_"},{"id":"se_new_topic","type":"String","value":"0","chainId":"_all_"},{"id":"se_backsearch","type":"String","value":"0","chainId":"_all_"},{"id":"tp_club_qa","type":"String","value":"1","chainId":"_all_"},{"id":"soc_feed_intimacy","type":"String","value":"2","chainId":"_all_"},{"id":"top_universalebook","type":"String","value":"1","chainId":"_all_"},{"id":"li_se_heat","type":"String","value":"1","chainId":"_all_"},{"id":"zr_km_answer","type":"String","value":"open_cvr","chainId":"_all_"},{"id":"se_cardrank_2","type":"String","value":"1","chainId":"_all_"},{"id":"se_cate_l3","type":"String","value":"0","chainId":"_all_"},{"id":"web_sem_ab","type":"String","value":"1"},{"id":"li_vip_verti_search","type":"String","value":"0","chainId":"_all_"},{"id":"se_ctx_rerank","type":"String","value":"1","chainId":"_all_"},{"id":"ug_follow_topic_1","type":"String","value":"2","chainId":"_all_"},{"id":"web_answerlist_ad","type":"String","value":"0"},{"id":"tp_club_pk","type":"String","value":"1","chainId":"_all_"},{"id":"tp_club_tab","type":"String","value":"0","chainId":"_all_"},{"id":"web_upload","type":"String","value":"1"},{"id":"se_ios_spb309","type":"String","value":"0","chainId":"_all_"},{"id":"se_article_icon","type":"String","value":"0","chainId":"_all_"},{"id":"sem_up_growth","type":"String","value":"in_app","chainId":"_all_"},{"id":"soc_iosreadline","type":"String","value":"0","chainId":"_all_"},{"id":"se_expired_ob","type":"String","value":"0","chainId":"_all_"},{"id":"se_rf_w","type":"String","value":"0","chainId":"_all_"},{"id":"se_aa","type":"String","value":"0","chainId":"_all_"},{"id":"se_cbert_index","type":"String","value":"0","chainId":"_all_"},{"id":"se_featured","type":"String","value":"1","chainId":"_all_"},{"id":"tp_qa_toast","type":"String","value":"1","chainId":"_all_"},{"id":"top_new_feed","type":"String","value":"5","chainId":"_all_"},{"id":"li_se_edu","type":"String","value":"1","chainId":"_all_"},{"id":"li_assessment_show","type":"String","value":"1","chainId":"_all_"},{"id":"zr_slot_cold_start","type":"String","value":"aver","chainId":"_all_"},{"id":"zr_expslotpaid","type":"String","value":"1","chainId":"_all_"},{"id":"se_websearch","type":"String","value":"3","chainId":"_all_"},{"id":"se_highlight","type":"String","value":"0","chainId":"_all_"},{"id":"soc_authormore2","type":"String","value":"2","chainId":"_all_"},{"id":"pf_newguide_vertical","type":"String","value":"0","chainId":"_all_"},{"id":"web_answer_update","type":"String","value":"0"},{"id":"zr_ans_rec","type":"String","value":"gbrank","chainId":"_all_"},{"id":"zr_video_recall","type":"String","value":"current_recall","chainId":"_all_"},{"id":"se_zu_onebox","type":"String","value":"0","chainId":"_all_"},{"id":"se_webmajorob","type":"String","value":"0","chainId":"_all_"},{"id":"tp_club_pic","type":"String","value":"0.6","chainId":"_all_"},{"id":"soc_brdcst4","type":"String","value":"3","chainId":"_all_"},{"id":"ug_follow_answerer","type":"String","value":"0","chainId":"_all_"},{"id":"li_se_section","type":"String","value":"0","chainId":"_all_"},{"id":"qap_ques_invite","type":"String","value":"0","chainId":"_all_"},{"id":"se_famous","type":"String","value":"1","chainId":"_all_"},{"id":"soc_zcfw_badcase","type":"String","value":"0","chainId":"_all_"},{"id":"li_sku_bottom_bar_re","type":"String","value":"0","chainId":"_all_"},{"id":"tp_sft_v2","type":"String","value":"d","chainId":"_all_"},{"id":"top_hotcommerce","type":"String","value":"1","chainId":"_all_"},{"id":"ug_zero_follow","type":"String","value":"0","chainId":"_all_"},{"id":"se_sug","type":"String","value":"1","chainId":"_all_"},{"id":"tsp_vote","type":"String","value":"2","chainId":"_all_"},{"id":"zr_video_rank","type":"String","value":"new_rank","chainId":"_all_"},{"id":"se_prf","type":"String","value":"0","chainId":"_all_"},{"id":"se_club_post","type":"String","value":"5","chainId":"_all_"},{"id":"se_pek_test2","type":"String","value":"1","chainId":"_all_"},{"id":"web_ad_banner","type":"String","value":"0"},{"id":"se_colorfultab","type":"String","value":"1","chainId":"_all_"},{"id":"ug_newtag","type":"String","value":"0","chainId":"_all_"},{"id":"zr_test_aa1","type":"String","value":"0","chainId":"_all_"},{"id":"tp_score_1","type":"String","value":"a","chainId":"_all_"},{"id":"soc_iossort","type":"String","value":"0","chainId":"_all_"},{"id":"soc_cardheight","type":"String","value":"2","chainId":"_all_"},{"id":"top_ydyq","type":"String","value":"X","chainId":"_all_"},{"id":"se_likebutton","type":"String","value":"0","chainId":"_all_"},{"id":"se_webrs","type":"String","value":"1","chainId":"_all_"},{"id":"soc_update","type":"String","value":"1","chainId":"_all_"},{"id":"li_answer_card","type":"String","value":"0","chainId":"_all_"},{"id":"se_auto_syn","type":"String","value":"0","chainId":"_all_"},{"id":"se_college_cm","type":"String","value":"0","chainId":"_all_"},{"id":"se_presearch_ab","type":"String","value":"0","chainId":"_all_"},{"id":"se_movietab","type":"String","value":"1","chainId":"_all_"},{"id":"tp_sticky_android","type":"String","value":"2","chainId":"_all_"},{"id":"gue_video_replay","type":"String","value":"0"},{"id":"li_hot_voted","type":"String","value":"0","chainId":"_all_"},{"id":"gue_card_test","type":"String","value":"1"},{"id":"web_hdpimg","type":"String","value":"1"},{"id":"se_topicfeed","type":"String","value":"1","chainId":"_all_"}],"chains":[{"chainId":"_all_"}]},"triggers":{}},"userAgent":{"Edge":false,"Wechat":false,"Weibo":false,"QQ":false,"MQQBrowser":false,"Qzone":false,"Mobile":false,"Android":false,"iOS":false,"isAppleDevice":false,"Zhihu":false,"ZhihuHybrid":false,"isBot":false,"Tablet":false,"UC":false,"Sogou":false,"Qihoo":false,"Baidu":false,"BaiduApp":false,"Safari":false,"GoogleBot":false,"AndroidDaily":false,"iOSDaily":false,"isWebView":false,"origin":"Mozilla\u002F5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\u002F537.36 (KHTML, like Gecko) Chrome\u002F80.0.3987.100 Safari\u002F537.36"},"appViewConfig":{},"ctx":{"path":"\u002Fp\u002F88173582","query":{},"href":"http:\u002F\u002Fzhuanlan.zhihu.com\u002Fp\u002F88173582","host":"zhuanlan.zhihu.com"},"trafficSource":"production","edition":{"baidu":false,"sogou":false,"baiduBeijing":false,"sogouBeijing":false,"sogouInput":false},"theme":"light","enableShortcut":true,"referer":"","conf":{},"ipInfo":{"cityName":"德州","countryName":"中国","regionName":"山东","countryCode":"CN"},"logged":false},"me":{"columnContributions":[]},"label":{"recognizerLists":{}},"ecommerce":{},"comments":{"pagination":{},"collapsed":{},"reverse":{},"reviewing":{},"conversation":{},"parent":{}},"commentsV2":{"stickers":[],"commentWithPicPermission":{},"notificationsComments":{},"pagination":{},"collapsed":{},"reverse":{},"reviewing":{},"conversation":{},"conversationMore":{},"parent":{}},"pushNotifications":{"default":{"isFetching":false,"isDrained":false,"ids":[]},"follow":{"isFetching":false,"isDrained":false,"ids":[]},"vote_thank":{"isFetching":false,"isDrained":false,"ids":[]},"currentTab":"default","notificationsCount":{"default":0,"follow":0,"vote_thank":0}},"messages":{"data":{},"currentTab":"common","messageCount":0},"register":{"registerValidateSucceeded":null,"registerValidateErrors":{},"registerConfirmError":null,"sendDigitsError":null,"registerConfirmSucceeded":null},"login":{"loginUnregisteredError":false,"loginBindWechatError":false,"loginConfirmError":null,"sendDigitsError":null,"needSMSIdentify":false,"validateDigitsError":false,"loginConfirmSucceeded":null,"qrcodeLoginToken":"","qrcodeLoginScanStatus":0,"qrcodeLoginError":null,"qrcodeLoginReturnNewToken":false},"active":{"sendDigitsError":null,"activeConfirmSucceeded":null,"activeConfirmError":null},"switches":{},"captcha":{"captchaNeeded":false,"captchaValidated":false,"captchaBase64String":null,"captchaValidationMessage":null,"loginCaptchaExpires":false},"sms":{"supportedCountries":[]},"chat":{"chats":{},"inbox":{"recents":{"isFetching":false,"isDrained":false,"isPrevDrained":false,"result":[],"next":null,"key":null},"strangers":{"isFetching":false,"isDrained":false,"isPrevDrained":false,"result":[],"next":null,"key":null},"friends":{"isFetching":false,"isDrained":false,"isPrevDrained":false,"result":[],"next":null,"key":null},"search":{"isFetching":false,"isDrained":false,"isPrevDrained":false,"result":[],"next":null,"key":null},"config":{"newCount":0,"strangerMessageSwitch":false,"strangerMessageUnread":false,"friendCount":0}},"global":{"isChatMqttExisted":false}},"emoticons":{"emoticonGroupList":[],"emoticonGroupDetail":{}},"creator":{"currentCreatorUrlToken":null,"homeData":{"recommendQuestions":[]},"tools":{"question":{"invitationCount":{"questionFolloweeCount":0,"questionTotalCount":0},"goodatTopics":[]},"customPromotion":{"itemLists":{}},"recommend":{"recommendTimes":{}}},"explore":{"academy":{"tabs":[],"article":{}}},"rights":[],"rightsStatus":{},"levelUpperLimit":10,"account":{"growthLevel":{}},"mcn":{},"applyStatus":{}},"recommendation":{"homeRecommendations":[]},"shareTexts":{},"articles":{"voters":{}},"previewPost":{},"favlists":{"relations":{}},"columns":{"voters":{}},"reward":{"answer":{},"article":{},"question":{}},"video":{"data":{},"shareVideoDetail":{},"last":{}},"topstory":{"recommend":{"isFetching":false,"isDrained":false,"afterId":0,"items":[],"next":null},"follow":{"isFetching":false,"isDrained":false,"afterId":0,"items":[],"next":null},"followWonderful":{"isFetching":false,"isDrained":false,"afterId":0,"items":[],"next":null},"sidebar":null,"announcement":{},"hotListCategories":[],"hotList":[],"guestFeeds":{"isFetching":false,"isDrained":false,"afterId":0,"items":[],"next":null},"followExtra":{"isNewUser":null,"isFetched":false,"followCount":0,"followers":[]}},"readStatus":{},"column":{},"requestColumn":{"categories":[],"error":null},"articleContribution":{"contributeRequests":[],"deleteContributeIdList":[],"handledContributeIdList":[],"recommendedColumns":[],"pinnedColumns":[],"sentContributeRequestsIdList":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"reinforcementlearning"]},"columnContribution":{"contributeRequests":[],"autoInviteEnabled":false,"recommendedContributors":[],"contributionInvitation":null},"draftHistory":{"history":{},"drafts":{}},"upload":{},"articleDraft":{"titleImage":"","titleImageSize":{},"isTitleImageFullScreen":false,"canTitleImageFullScreen":false,"title":"","titleImageUploading":false,"error":"","content":"","draftLoading":false,"updating":false,"globalLoading":false,"pendingVideo":{"resource":null,"error":null},"deleteFail":{"fail":false},"recommendTopics":[],"selectedColumn":0,"articleDisclaimers":[]},"articleDrafts":{"isDrained":false,"isLoading":false,"items":[]},"columnAutocomplete":{"users":[],"friends":[]},"columnCollection":{},"mcn":{"bindInfo":{},"memberCategoryList":[],"producerList":[],"categoryList":[]}},"fetchHost":"www.zhihu.com","subAppName":"column"}</script><script src="https://static.zhihu.com/heifetz/vendor.7b36fae46082fd30a0db.js"></script><script src="https://static.zhihu.com/heifetz/column.app.76e02b16e87eec249f44.js"></script></body><script src="https://hm.baidu.com/hm.js?98beee57fd2ef70ccdd5ca52b9740c49" async=""></script><script src="https://zz.bdstatic.com/linksubmit/push.js" async=""></script></html>